!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=158)}([function(e,t,n){"use strict";(function(e){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}n(138),n(41),n(72),n(100),n(140),n(75),n(20),n(76),n(42),n(1),n(2),n(11),n(13),n(24),n(143);var l=function(){function e(){o(this,e)}return u(e,null,[{key:"namespace",value:function(){var e=new WeakMap;return function(t){return e.has(t)||e.set(t,{}),e.get(t)}}},{key:"toSource",value:function(e){if(this.isArray(e)){var t="[",n=!0,r=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=a.value,s=this.toSource(l);t+="".concat(s,", ")}}catch(e){r=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}return t+"]"}if(this.isObject(e)){for(var c="{",d=Object.entries(e),f=0;f<d.length;f++){var p=i(d[f],2),h=p[0],v=p[1],y=this.toSource(v);c+="".concat(h,": ").concat(y,", ")}return c+"}"}return"".concat(e)}},{key:"addFlag",value:function(e,t){return e|t}},{key:"removeFlag",value:function(e,t){return e&~t}},{key:"isFlag",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=function(e,t){return Boolean((e&t)===t)},i=function(e,t){return!Boolean(e&t)};return t&&n?r(e,t)&&i(e,n):t?r(e,t):!!n&&i(e,n)}},{key:"randomNum",value:function(){return Math.floor(1e12*Math.random())}},{key:"getReferrer",value:function(){var e=window.frameElement,t=e?e.getAttribute("data-is-safeframe"):"";return window.$sf||t?document.referrer:window.location.href}},{key:"getWidth",value:function(){return this.currentScript().parentNode.offsetWidth||document.body.clientWidth||window.innerWidth}},{key:"getHeight",value:function(){var e=this.getWidth();return parseInt(e/16*9,10)}},{key:"currentScript",value:function(){var e=document.currentScript;if(!e){var t=document.getElementsByTagName("script");e=t.item(t.length-1)}return e}},{key:"deepClone",value:function(e){return s.deepMerge({},e)}},{key:"deepCloneArray",value:function(e){return s.deepCloneArray(e)}},{key:"deepMerge",value:function(){return s.deepMerge.apply(s,arguments)}},{key:"isFinite",value:function(e){return Number.isFinite(e)}},{key:"isObjectEmpty",value:function(e){if(e.constructor!==Object)return!1;for(var t in e)return!1;return!0}},{key:"isEmpty",value:function(e){return null==e||0===e.length||this.isObjectEmpty(e)}},{key:"isNotEmpty",value:function(e){return!this.isEmpty(e)}},{key:"isExist",value:function(e){return!this.isUndefined(e)&&!this.isNull(e)}},{key:"isNotExist",value:function(e){return this.isUndefined(e)||this.isNull(e)}},{key:"isUndefined",value:function(e){return void 0===e}},{key:"isNull",value:function(e){return null===e}},{key:"exist",value:function(e,t){for(var n=1<arguments.length?arguments[arguments.length-1]:void 0,r=0;r<arguments.length-1;r++){var i=arguments[r];if(this.isExist(i)){n=i;break}}return n}},{key:"notEmpty",value:function(e,t){for(var n=1<arguments.length?arguments[arguments.length-1]:void 0,r=0;r<arguments.length-1;r++){var i=arguments[r];if(this.isNotEmpty(i)){n=i;break}}return n}},{key:"isBoolean",value:function(e){var t=Boolean.prototype.toString,n=Object.prototype.toString,i="function"==typeof Symbol&&"symbol"===r(Symbol.toStringTag);return"boolean"==typeof e||null!==e&&"object"===r(e)&&(i?function(e){try{return t.call(e),!0}catch(e){return!1}}(e):"[object Boolean]"===n.call(e))}},{key:"stringToBool",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this.isEmpty(e))return t;switch(String(e).toLowerCase().trim()){case"":case"null":case"undefined":return t;case"false":case"no":case"0":return!1;default:return!0}}},{key:"toBool",value:function(e){return this.isBoolean(e)?e:this.isString(e)?this.stringToBool(e):Boolean(e)}},{key:"toBoolIfExist",value:function(e,t){for(var n=1<arguments.length?arguments[arguments.length-1]:null,r=0;r<arguments.length-1;r++){var i=arguments[r];if(this.isExist(i)){n=this.toBool(i);break}}return n}},{key:"toDecimalString",value:function(e,t,n){var r=parseInt(e,10);if(isNaN(r))return null;var i=String(r);return this.isString(t)&&0<=e.indexOf(t)&&(i=t+i),this.isString(n)&&0<=e.indexOf(n)&&(i+=n),i}},{key:"toDecimal",value:function(e,t){var n=parseInt(e,10);return Number.isFinite(n)?n:t}},{key:"toNumber",value:function(e,t){var n=parseFloat(e);return Number.isFinite(n)?n:t}},{key:"cssTimeStringToMillisecondsNumber",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=null==e?void 0:e.trim(),r=parseFloat(n);return 0<=r?(null==n?void 0:n.endsWith("ms"))?r:(null==n?void 0:n.endsWith("s"))?1e3*r:t:t}},{key:"stringToSize",value:function(e,t){if(!this.isString(e)&&this.isEmpty(t))return null;var n=t||{width:NaN,height:NaN},r={width:"",height:""},i="",o="";return this.isString(e)&&(i=(r=e.split(/[x,:]/))[0]&&r[0].trim(),o=r[1]&&r[1].trim()),i=this.notEmpty(i,n.width,NaN),o=this.notEmpty(o,n.height,NaN),{width:i=/auto/.test(i)?"auto":this.notEmpty(this.toDecimalString("".concat(i),null,"%"),NaN),height:o=/auto/.test(o)?"auto":this.notEmpty(this.toDecimalString("".concat(o),null,"%"),NaN)}}},{key:"isElement",value:function(e){return e instanceof Element}},{key:"isArray",value:function(e){return Array.isArray(e)}},{key:"isNull",value:function(e){return null===e}},{key:"isNullOrUndefined",value:function(e){return null==e}},{key:"isNumber",value:function(e){return"number"==typeof e}},{key:"isString",value:function(e){return"string"==typeof e}},{key:"isSymbol",value:function(e){return"symbol"===r(e)}},{key:"isUndefined",value:function(e){return void 0===e}},{key:"isRegExp",value:function(e){return this.isObject(e)&&"[object RegExp]"===this.objectToString(e)}},{key:"isObject",value:function(e){return"object"===r(e)&&null!==e}},{key:"isDate",value:function(e){return this.isObject(e)&&"[object Date]"===this.objectToString(e)}},{key:"isError",value:function(e){return this.isObject(e)&&("[object Error]"===this.objectToString(e)||e instanceof Error)}},{key:"isFunction",value:function(e){return"function"==typeof e}},{key:"isPrimitive",value:function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===r(e)||void 0===e}},{key:"objectToString",value:function(e){return Object.prototype.toString.call(e)}},{key:"String",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){return e.isExist(t)?String(t):""})},{key:"safeFrame",get:function(){return"undefined"==typeof $sf?void 0:$sf}},{key:"viewportWidth",get:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0}}]),e}(),s=function(){function t(){o(this,t)}return u(t,null,[{key:"isSpecificValue",value:function(t){return Boolean((null==t?void 0:t.isClass)||t instanceof e)}},{key:"cloneSpecificValue",value:function(t){if(t instanceof e){var n=e.alloc?e.alloc(t.length):new e(t.length);return t.copy(n),n}return t instanceof Date?new Date(t.getTime()):t instanceof RegExp?new RegExp(t):t}},{key:"deepCloneArray",value:function(e){for(var t=[],n=Object.entries(e),o=0;o<n.length;o++){var a=i(n[o],2),u=a[0],l=a[1];"object"===r(l)&&null!==l?Array.isArray(l)?t[u]=this.deepCloneArray(l):this.isSpecificValue(l)?t[u]=this.cloneSpecificValue(l):t[u]=this.deepMerge({},l):t[u]=l}return t}},{key:"safeGetProperty",value:function(e,t){return"__proto__"===t?void 0:e[t]}},{key:"deepMerge",value:function(){if(arguments.length<1||"object"!==r(arguments[0]))return!1;if(arguments.length<2)return arguments[0];var e=arguments[0],t=Array.prototype.slice.call(arguments,1),n=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=a.value;if("object"===r(l)&&null!==l&&!Array.isArray(l))for(var s=Object.keys(l),c=0;c<s.length;c++){var d=s[c],f=this.safeGetProperty(e,d),p=this.safeGetProperty(l,d);p!==e&&("object"===r(p)&&null!==p?Array.isArray(p)?e[d]=this.deepCloneArray(p):this.isSpecificValue(p)?e[d]=this.cloneSpecificValue(p):"object"!==r(f)||null===f||Array.isArray(f)?e[d]=this.deepMerge({},p):e[d]=this.deepMerge(f,p):e[d]=p)}}}catch(e){i=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return e}},{key:"deepCopy",value:function(e){var t;if(Array.isArray(e)){t=0<e.length?e.slice(0):[];for(var n=Object.entries(t),o=0;o<n.length;o++){var a=i(n[o],2),u=a[0],l=a[1];("object"===r(l)&&l!=={}||Array.isArray(l)&&0<l.length)&&(t[u]=this.deepCopy(l))}}else if("object"===r(e)){t=Object.assign({},e);for(var s=Object.keys(t),c=0;c<s.length;c++){var d=s[c];("object"===r(t[d])&&t[d]!=={}||Array.isArray(t[d])&&0<t[d].length)&&(t[d]=this.deepCopy(t[d]))}}else t=e;return t}}]),t}();t.a=l}).call(this,n(133).Buffer)},function(e,t,n){n(91)("asyncIterator")},function(e,t,n){"use strict";var r=n(6),i=n(18),o=n(15),a=n(5),u=n(17),l=n(34).KEY,s=n(12),c=n(44),d=n(38),f=n(36),p=n(8),h=n(92),v=n(91),y=n(126),m=n(93),g=n(10),b=n(9),w=n(23),A=n(45),k=n(46),S=n(39),E=n(127),C=n(53),x=n(16),V=n(31),O=C.f,R=x.f,B=E.f,P=r.Symbol,_=r.JSON,I=_&&_.stringify,F="prototype",T=p("_hidden"),j=p("toPrimitive"),U={}.propertyIsEnumerable,z=c("symbol-registry"),L=c("symbols"),D=c("op-symbols"),M=Object[F],N="function"==typeof P,W=r.QObject,H=!W||!W[F]||!W[F].findChild,Q=o&&s(function(){return 7!=S(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=O(M,t);r&&delete M[t],R(e,t,n),r&&e!==M&&R(M,t,r)}:R,q=function(e){var t=L[e]=S(P[F]);return t._k=e,t},Y=N&&"symbol"==typeof P.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof P},K=function(e,t,n){return e===M&&K(D,t,n),g(e),t=A(t,!0),g(n),i(L,t)?(n.enumerable?(i(e,T)&&e[T][t]&&(e[T][t]=!1),n=S(n,{enumerable:k(0,!1)})):(i(e,T)||R(e,T,k(1,{})),e[T][t]=!0),Q(e,t,n)):R(e,t,n)},G=function(e,t){g(e);for(var n,r=y(t=w(t)),i=0,o=r.length;i<o;)K(e,n=r[i++],t[n]);return e},Z=function(e){var t=U.call(this,e=A(e,!0));return!(this===M&&i(L,e)&&!i(D,e))&&(!(t||!i(this,e)||!i(L,e)||i(this,T)&&this[T][e])||t)},X=function(e,t){if(e=w(e),t=A(t,!0),e!==M||!i(L,t)||i(D,t)){var n=O(e,t);return!n||!i(L,t)||i(e,T)&&e[T][t]||(n.enumerable=!0),n}},J=function(e){for(var t,n=B(w(e)),r=[],o=0;n.length>o;)i(L,t=n[o++])||t==T||t==l||r.push(t);return r},$=function(e){for(var t,n=e===M,r=B(n?D:w(e)),o=[],a=0;r.length>a;)!i(L,t=r[a++])||n&&!i(M,t)||o.push(L[t]);return o};N||(u((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var e=f(0<arguments.length?arguments[0]:void 0),t=function(n){this===M&&t.call(D,n),i(this,T)&&i(this[T],e)&&(this[T][e]=!1),Q(this,e,k(1,n))};return o&&H&&Q(M,e,{configurable:!0,set:t}),q(e)})[F],"toString",function(){return this._k}),C.f=X,x.f=K,n(52).f=E.f=J,n(40).f=Z,n(67).f=$,o&&!n(35)&&u(M,"propertyIsEnumerable",Z,!0),h.f=function(e){return q(p(e))}),a(a.G+a.W+a.F*!N,{Symbol:P});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)p(ee[te++]);for(var ne=V(p.store),re=0;ne.length>re;)v(ne[re++]);a(a.S+a.F*!N,"Symbol",{for:function(e){return i(z,e+="")?z[e]:z[e]=P(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in z)if(z[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!N,"Object",{create:function(e,t){return void 0===t?S(e):G(S(e),t)},defineProperty:K,defineProperties:G,getOwnPropertyDescriptor:X,getOwnPropertyNames:J,getOwnPropertySymbols:$}),_&&a(a.S+a.F*(!N||s(function(){var e=P();return"[null]"!=I([e])||"{}"!=I({a:e})||"{}"!=I(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!Y(e))return m(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Y(t))return t}),r[1]=t,I.apply(_,r)}}),P[F][j]||n(22)(P[F],j,P[F].valueOf),d(P,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var r=n(5);r(r.S,"Object",{setPrototypeOf:n(96).set})},function(e,t,n){var r=n(53),i=n(89),o=n(18),a=n(5),u=n(9),l=n(10);a(a.S,"Reflect",{get:function e(t,n){var a,s,c=arguments.length<3?t:arguments[2];return l(t)===c?t[n]:(a=r.f(t,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(c):void 0:u(s=i(t))?e(s,n,c):void 0}})},function(e,t,n){var r=n(6),i=n(21),o=n(22),a=n(17),u=n(28),l="prototype",s=function(e,t,n){var c,d,f,p,h=e&s.F,v=e&s.G,y=e&s.S,m=e&s.P,g=e&s.B,b=v?r:y?r[t]||(r[t]={}):(r[t]||{})[l],w=v?i:i[t]||(i[t]={}),A=w[l]||(w[l]={});for(c in v&&(n=t),n)f=((d=!h&&b&&void 0!==b[c])?b:n)[c],p=g&&d?u(f,r):m&&"function"==typeof f?u(Function.call,f):f,b&&a(b,c,f,e&s.U),w[c]!=f&&o(w,c,p),m&&A[c]!=f&&(A[c]=f)};r.core=i,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";var r,i,o,a,u=n(35),l=n(6),s=n(28),c=n(59),d=n(5),f=n(9),p=n(29),h=n(47),v=n(48),y=n(61),m=n(80).set,g=n(120)(),b=n(83),w=n(121),A=n(122),k=n(84),S="Promise",E=l.TypeError,C=l.process,x=C&&C.versions,V=x&&x.v8||"",O=l[S],R="process"==c(C),B=function(){},P=i=b.f,_=!!function(){try{var e=O.resolve(1),t=(e.constructor={})[n(8)("species")]=function(e){e(B,B)};return(R||"function"==typeof PromiseRejectionEvent)&&e.then(B)instanceof t&&0!==V.indexOf("6.6")&&-1===A.indexOf("Chrome/66")}catch(e){}}(),I=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},F=function(e,t){if(!e._n){e._n=!0;var n=e._c;g(function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a,u=i?t.ok:t.fail,l=t.resolve,s=t.reject,c=t.domain;try{u?(i||(2==e._h&&U(e),e._h=1),!0===u?n=r:(c&&c.enter(),n=u(r),c&&(c.exit(),a=!0)),n===t.promise?s(E("Promise-chain cycle")):(o=I(n))?o.call(n,l,s):l(n)):s(r)}catch(t){c&&!a&&c.exit(),s(t)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&T(e)})}},T=function(e){m.call(l,function(){var t,n,r,i=e._v,o=j(e);if(o&&(t=w(function(){R?C.emit("unhandledRejection",i,e):(n=l.onunhandledrejection)?n({promise:e,reason:i}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=R||j(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},j=function(e){return 1!==e._h&&0===(e._a||e._c).length},U=function(e){m.call(l,function(){var t;R?C.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})})},z=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),F(t,!0))},L=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw E("Promise can't be resolved itself");(t=I(e))?g(function(){var r={_w:n,_d:!1};try{t.call(e,s(L,r,1),s(z,r,1))}catch(e){z.call(r,e)}}):(n._v=e,n._s=1,F(n,!1))}catch(e){z.call({_w:n,_d:!1},e)}}};_||(O=function(e){h(this,O,S,"_h"),p(e),r.call(this);try{e(s(L,this,1),s(z,this,1))}catch(e){z.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(50)(O.prototype,{then:function(e,t){var n=P(y(this,O));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=R?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&F(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=s(L,e,1),this.reject=s(z,e,1)},b.f=P=function(e){return e===O||e===a?new o(e):i(e)}),d(d.G+d.W+d.F*!_,{Promise:O}),n(38)(O,S),n(62)(S),a=n(21)[S],d(d.S+d.F*!_,S,{reject:function(e){var t=P(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(u||!_),S,{resolve:function(e){return k(u&&this===a?O:this,e)}}),d(d.S+d.F*!(_&&n(85)(function(e){O.all(e).catch(B)})),S,{all:function(e){var t=this,n=P(t),r=n.resolve,i=n.reject,o=w(function(){var n=[],o=0,a=1;v(e,!1,function(e){var u=o++,l=!1;n.push(void 0),a++,t.resolve(e).then(function(e){l||(l=!0,n[u]=e,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=P(t),r=n.reject,i=w(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t,n){var r=n(44)("wks"),i=n(36),o=n(6).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(9);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){for(var r=n(13),i=n(31),o=n(17),a=n(6),u=n(22),l=n(37),s=n(8),c=s("iterator"),d=s("toStringTag"),f=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(p),v=0;v<h.length;v++){var y,m=h[v],g=p[m],b=a[m],w=b&&b.prototype;if(w&&(w[c]||u(w,c,f),w[d]||u(w,d,m),l[m]=f,g))for(y in r)w[y]||o(w,y,r[y],!0)}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";var r=n(51),i=n(86),o=n(37),a=n(23);e.exports=n(64)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){!function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag",s="object"==typeof e,c=t.regeneratorRuntime;if(c)s&&(e.exports=c);else{(c=t.regeneratorRuntime=s?e.exports:{}).wrap=w;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",v={},y={};y[a]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(P([])));g&&g!==r&&i.call(g,a)&&(y=g);var b=E.prototype=k.prototype=Object.create(y);S.prototype=b.constructor=E,E.constructor=S,E[l]=S.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(b),e},c.awrap=function(e){return{__await:e}},C(x.prototype),x.prototype[u]=function(){return this},c.AsyncIterator=x,c.async=function(e,t,n,r){var i=new x(w(e,t,n,r));return c.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},C(b),b[l]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=P,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return u.type="throw",u.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var o=this.tryEntries.length-1;0<=o;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),s=i.call(a,"finallyLoc");if(l&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function w(e,t,n,r){var i,o,a,u,l=t&&t.prototype instanceof k?t:k,s=Object.create(l.prototype),c=new B(r||[]);return s._invoke=(i=e,o=n,a=c,u=d,function(e,t){if(u===p)throw new Error("Generator is already running");if(u===h){if("throw"===e)throw t;return _()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){var r=V(n,a);if(r){if(r===v)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===d)throw u=h,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=p;var l=A(i,o,a);if("normal"===l.type){if(u=a.done?h:f,l.arg===v)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(u=h,a.method="throw",a.arg=l.arg)}}),s}function A(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function k(){}function S(){}function E(){}function C(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function x(e){var t;this._invoke=function(n,r){function o(){return new Promise(function(t,o){!function t(n,r,o,a){var u=A(e[n],e,r);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==typeof s&&i.call(s,"__await")?Promise.resolve(s.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(s).then(function(e){l.value=e,o(l)},a)}a(u.arg)}(n,r,t,o)})}return t=t?t.then(o,o):o()}}function V(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,V(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=A(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,v;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,v):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function P(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,n){e.exports=!n(12)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(10),i=n(79),o=n(45),a=Object.defineProperty;t.f=n(15)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(6),i=n(22),o=n(18),a=n(36)("src"),u=n(116),l="toString",s=(""+u).split(l);n(21).inspectSource=function(e){return u.call(e)},(e.exports=function(e,t,n,u){var l="function"==typeof n;l&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(l&&(o(n,a)||i(n,a,e[t]?""+e[t]:s.join(String(t)))),e===r?e[t]=n:u?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,l,function(){return"function"==typeof this&&this[a]||u.call(this)})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(49),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},function(e,t,n){"use strict";var r=n(6),i=n(18),o=n(30),a=n(68),u=n(45),l=n(12),s=n(52).f,c=n(53).f,d=n(16).f,f=n(97).trim,p="Number",h=r[p],v=h,y=h.prototype,m=o(n(39)(y))==p,g="trim"in String.prototype,b=function(e){var t=u(e,!1);if("string"==typeof t&&2<t.length){var n,r,i,o=(t=g?t.trim():f(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,l=t.slice(2),s=0,c=l.length;s<c;s++)if((a=l.charCodeAt(s))<48||i<a)return NaN;return parseInt(l,r)}}return+t};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof h&&(m?l(function(){y.valueOf.call(n)}):o(n)!=p)?a(new v(b(t)),n,h):b(t)};for(var w,A=n(15)?s(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;A.length>k;k++)i(v,w=A[k])&&!i(h,w)&&d(h,w,c(v,w));(h.prototype=y).constructor=h,n(17)(r,p,h)}},function(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(16),i=n(46);e.exports=n(15)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(63),i=n(32);e.exports=function(e){return r(i(e))}},function(e,t,n){"use strict";var r=n(90)(!0);n(64)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(16).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(15)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(5),i=n(88)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n(51)("includes")},function(e,t,n){"use strict";var r=n(5),i=n(69),o="includes";r(r.P+r.F*n(71)(o),"String",{includes:function(e){return!!~i(this,e,o).indexOf(e,1<arguments.length?arguments[1]:void 0)}})},function(e,t,n){var r=n(29);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(87),i=n(66);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(32);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(36)("meta"),i=n(9),o=n(18),a=n(16).f,u=0,l=Object.isExtensible||function(){return!0},s=!n(12)(function(){return l(Object.preventExtensions({}))}),c=function(e){a(e,r,{value:{i:"O"+ ++u,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!l(e))return"F";if(!t)return"E";c(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!l(e))return!0;if(!t)return!1;c(e)}return e[r].w},onFreeze:function(e){return s&&d.NEED&&l(e)&&!o(e,r)&&c(e),e}}},function(e,t){e.exports=!1},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports={}},function(e,t,n){var r=n(16).f,i=n(18),o=n(8)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(10),i=n(124),o=n(66),a=n(65)("IE_PROTO"),u=function(){},l="prototype",s=function(){var e,t=n(60)("iframe"),r=o.length;for(t.style.display="none",n(82).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),s=e.F;r--;)delete s[l][o[r]];return s()};e.exports=Object.create||function(e,t){var n;return null!==e?(u[l]=r(e),n=new u,u[l]=null,n[a]=e):n=s(),void 0===t?n:i(n,t)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(33),i=n(31);n(94)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){var r=n(5),i=n(142)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},function(e,t,n){var r=n(9);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){var r=n(21),i=n(6),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(35)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(9);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(28),i=n(117),o=n(118),a=n(10),u=n(19),l=n(119),s={},c={};(t=e.exports=function(e,t,n,d,f){var p,h,v,y,m=f?function(){return e}:l(e),g=r(n,d,t?2:1),b=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(o(m)){for(p=u(e.length);b<p;b++)if((y=t?g(a(h=e[b])[0],h[1]):g(e[b]))===s||y===c)return y}else for(v=m.call(e);!(h=v.next()).done;)if((y=i(v,g,h.value,t))===s||y===c)return y}).BREAK=s,t.RETURN=c},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},function(e,t,n){var r=n(17);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){var r=n(8)("unscopables"),i=Array.prototype;null==i[r]&&n(22)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t,n){var r=n(87),i=n(66).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(40),i=n(46),o=n(23),a=n(45),u=n(18),l=n(79),s=Object.getOwnPropertyDescriptor;t.f=n(15)?s:function(e,t){if(e=o(e),t=a(t,!0),l)try{return s(e,t)}catch(e){}if(u(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(28),i=n(63),o=n(33),a=n(19),u=n(128);e.exports=function(e,t){var n=1==e,l=2==e,s=3==e,c=4==e,d=6==e,f=5==e||d,p=t||u;return function(t,u,h){for(var v,y,m=o(t),g=i(m),b=r(u,h,3),w=a(g.length),A=0,k=n?p(t,w):l?p(t,0):void 0;A<w;A++)if((f||A in g)&&(y=b(v=g[A],A,m),e))if(n)k[A]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return A;case 2:k.push(v)}else if(c)return!1;return d?-1:s||c?c:k}}},function(e,t,n){"use strict";var r=n(10);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(59),i=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},function(e,t,n){"use strict";n(139);var r=n(17),i=n(22),o=n(12),a=n(32),u=n(8),l=n(74),s=u("species"),c=!o(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var f=u(e),p=!o(function(){var t={};return t[f]=function(){return 7},7!=""[e](t)}),h=p?!o(function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[s]=function(){return n}),n[f](""),!t}):void 0;if(!p||!h||"replace"===e&&!c||"split"===e&&!d){var v=/./[f],y=n(a,f,""[e],function(e,t,n,r,i){return t.exec===l?p&&!i?{done:!0,value:v.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),m=y[0],g=y[1];r(String.prototype,e,m),i(RegExp.prototype,f,2==t?function(e,t){return g.call(e,this,t)}:function(e){return g.call(e,this)})}}},function(e,t,n){"use strict";var r=n(10),i=n(33),o=n(19),a=n(49),u=n(73),l=n(56),s=Math.max,c=Math.min,d=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;n(57)("replace",2,function(e,t,n,h){return[function(r,i){var o=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(e,t){var i=h(n,e,this,t);if(i.done)return i.value;var d=r(e),f=String(this),p="function"==typeof t;p||(t=String(t));var y=d.global;if(y){var m=d.unicode;d.lastIndex=0}for(var g=[];;){var b=l(d,f);if(null===b)break;if(g.push(b),!y)break;""===String(b[0])&&(d.lastIndex=u(f,o(d.lastIndex),m))}for(var w,A="",k=0,S=0;S<g.length;S++){b=g[S];for(var E=String(b[0]),C=s(c(a(b.index),f.length),0),x=[],V=1;V<b.length;V++)x.push(void 0===(w=b[V])?w:String(w));var O=b.groups;if(p){var R=[E].concat(x,C,f);void 0!==O&&R.push(O);var B=String(t.apply(void 0,R))}else B=v(E,f,C,x,O,t);k<=C&&(A+=f.slice(k,C)+B,k=C+E.length)}return A+f.slice(k)}];function v(e,t,r,o,a,u){var l=r+e.length,s=o.length,c=p;return void 0!==a&&(a=i(a),c=f),n.call(u,c,function(n,i){var u;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(l);case"<":u=a[i.slice(1,-1)];break;default:var c=+i;if(0===c)return n;if(s<c){var f=d(c/10);return 0===f?n:f<=s?void 0===o[f-1]?i.charAt(1):o[f-1]+i.charAt(1):n}u=o[c-1]}return void 0===u?"":u})}})},function(e,t,n){var r=n(30),i=n(8)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(9),i=n(6).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(10),i=n(29),o=n(8)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},function(e,t,n){"use strict";var r=n(6),i=n(16),o=n(15),a=n(8)("species");e.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(30);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){"use strict";var r=n(35),i=n(5),o=n(17),a=n(22),u=n(37),l=n(123),s=n(38),c=n(89),d=n(8)("iterator"),f=!([].keys&&"next"in[].keys()),p="values",h=function(){return this};e.exports=function(e,t,n,v,y,m,g){l(n,t,v);var b,w,A,k=function(e){if(!f&&e in x)return x[e];switch(e){case"keys":case p:return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",E=y==p,C=!1,x=e.prototype,V=x[d]||x["@@iterator"]||y&&x[y],O=V||k(y),R=y?E?k("entries"):O:void 0,B="Array"==t&&x.entries||V;if(B&&(A=c(B.call(new e)))!==Object.prototype&&A.next&&(s(A,S,!0),r||"function"==typeof A[d]||a(A,d,h)),E&&V&&V.name!==p&&(C=!0,O=function(){return V.call(this)}),r&&!g||!f&&!C&&x[d]||a(x,d,O),u[t]=O,u[S]=h,y)if(b={values:E?O:k(p),keys:m?O:k("keys"),entries:R},g)for(w in b)w in x||o(x,w,b[w]);else i(i.P+i.F*(f||C),t,b);return b}},function(e,t,n){var r=n(44)("keys"),i=n(36);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(9),i=n(96).set;e.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},function(e,t,n){var r=n(70),i=n(32);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},function(e,t,n){var r=n(9),i=n(30),o=n(8)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(8)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){var r=n(6),i=n(68),o=n(16).f,a=n(52).f,u=n(70),l=n(55),s=r.RegExp,c=s,d=s.prototype,f=/a/g,p=/a/g,h=new s(f)!==f;if(n(15)&&(!h||n(12)(function(){return p[n(8)("match")]=!1,s(f)!=f||s(p)==p||"/a/i"!=s(f,"i")}))){s=function(e,t){var n=this instanceof s,r=u(e),o=void 0===t;return!n&&r&&e.constructor===s&&o?e:i(h?new c(r&&!o?e.source:e,t):c((r=e instanceof s)?e.source:e,r&&o?l.call(e):t),n?this:d,s)};for(var v=function(e){e in s||o(s,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})},y=a(c),m=0;y.length>m;)v(y[m++]);(d.constructor=s).prototype=d,n(17)(r,"RegExp",s)}n(62)("RegExp")},function(e,t,n){"use strict";var r=n(90)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){"use strict";var r,i,o=n(55),a=RegExp.prototype.exec,u=String.prototype.replace,l=a,s="lastIndex",c=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r[s]||0!==i[s]),d=void 0!==/()??/.exec("")[1];(c||d)&&(l=function(e){var t,n,r,i,l=this;return d&&(n=new RegExp("^"+l.source+"$(?!\\s)",o.call(l))),c&&(t=l[s]),r=a.call(l,e),c&&r&&(l[s]=l.global?r.index+r[0].length:t),d&&r&&1<r.length&&u.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r}),e.exports=l},function(e,t,n){"use strict";n(141);var r=n(10),i=n(55),o=n(15),a="toString",u=/./[a],l=function(e){n(17)(RegExp.prototype,a,e,!0)};n(12)(function(){return"/a/b"!=u.call({source:"a",flags:"b"})})?l(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)}):u.name!=a&&l(function(){return u.call(this)})},function(e,t,n){var r=n(5),i=n(6).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},function(e,t,n){"use strict";var r=n(5),i=n(29),o=n(33),a=n(12),u=[].sort,l=[1,2,3];r(r.P+r.F*(a(function(){l.sort(void 0)})||!a(function(){l.sort(null)})||!n(152)(u)),"Array",{sort:function(e){return void 0===e?u.call(o(this)):u.call(o(this),i(e))}})},function(e,t,n){var r=n(145);function i(e,t,n,i){void 0===n?n=1e3:"function"==typeof n&&(i=n,n=1e3);var o=r.get(e.style,"transition")||"";r(e.style,"transition","opacity "+n/1e3+"s"),e.style.opacity=t,setTimeout(function(){r(e.style,"transition",o),i&&i()},n)}(e.exports=i).out=function(e,t,n){i(e,0,t,n)},i.in=function(e,t,n){i(e,1,t,n)}},function(e,t,n){e.exports=!n(15)&&!n(12)(function(){return 7!=Object.defineProperty(n(60)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r,i,o,a=n(28),u=n(81),l=n(82),s=n(60),c=n(6),d=c.process,f=c.setImmediate,p=c.clearImmediate,h=c.MessageChannel,v=c.Dispatch,y=0,m={},g="onreadystatechange",b=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},w=function(e){b.call(e.data)};f&&p||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++y]=function(){u("function"==typeof e?e:Function(e),t)},r(y),y},p=function(e){delete m[e]},"process"==n(30)(d)?r=function(e){d.nextTick(a(b,e,1))}:v&&v.now?r=function(e){v.now(a(b,e,1))}:h?(o=(i=new h).port2,i.port1.onmessage=w,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",w,!1)):r=g in s("script")?function(e){l.appendChild(s("script"))[g]=function(){l.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),e.exports={set:f,clear:p}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(6).document;e.exports=r&&r.documentElement},function(e,t,n){"use strict";var r=n(29);function i(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}},function(e,t,n){var r=n(10),i=n(9),o=n(83);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(8)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(18),i=n(23),o=n(88)(!1),a=n(65)("IE_PROTO");e.exports=function(e,t){var n,u=i(e),l=0,s=[];for(n in u)n!=a&&r(u,n)&&s.push(n);for(;t.length>l;)r(u,n=t[l++])&&(~o(s,n)||s.push(n));return s}},function(e,t,n){var r=n(23),i=n(19),o=n(125);e.exports=function(e){return function(t,n,a){var u,l=r(t),s=i(l.length),c=o(a,s);if(e&&n!=n){for(;c<s;)if((u=l[c++])!=u)return!0}else for(;c<s;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(18),i=n(33),o=n(65)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(49),i=n(32);e.exports=function(e){return function(t,n){var o,a,u=String(i(t)),l=r(n),s=u.length;return l<0||s<=l?e?"":void 0:(o=u.charCodeAt(l))<55296||56319<o||l+1===s||(a=u.charCodeAt(l+1))<56320||57343<a?e?u.charAt(l):o:e?u.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){var r=n(6),i=n(21),o=n(35),a=n(92),u=n(16).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||u(t,e,{value:a.f(e)})}},function(e,t,n){t.f=n(8)},function(e,t,n){var r=n(30);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(5),i=n(21),o=n(12);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){"use strict";var r=n(5),i=n(54)(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{find:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n(51)(o)},function(e,t,n){var r=n(9),i=n(10),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(28)(Function.call,n(53).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){var r=n(5),i=n(32),o=n(12),a=n(98),u="["+a+"]",l=RegExp("^"+u+u+"*"),s=RegExp(u+u+"*$"),c=function(e,t,n){var i={},u=o(function(){return!!a[e]()||"​"!="​"[e]()}),l=i[e]=u?t(d):a[e];n&&(i[n]=l),r(r.P+r.F*u,"String",i)},d=c.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(s,"")),e};e.exports=c},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){"use strict";var r=n(31),i=n(67),o=n(40),a=n(33),u=n(63),l=Object.assign;e.exports=!l||n(12)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r})?function(e,t){for(var n=a(e),l=arguments.length,s=1,c=i.f,d=o.f;s<l;)for(var f,p=u(arguments[s++]),h=c?r(p).concat(c(p)):r(p),v=h.length,y=0;y<v;)d.call(p,f=h[y++])&&(n[f]=p[f]);return n}:l},function(e,t,n){"use strict";var r=n(70),i=n(10),o=n(61),a=n(73),u=n(19),l=n(56),s=n(74),c=n(12),d=Math.min,f=[].push,p="split",h="length",v="lastIndex",y=4294967295,m=!c(function(){RegExp(y,"y")});n(57)("split",2,function(e,t,n,c){var g;return g="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[h]||2!="ab"[p](/(?:ab)*/)[h]||4!="."[p](/(.?)(.?)/)[h]||1<"."[p](/()()/)[h]||""[p](/.?/)[h]?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(i,e,t);for(var o,a,u,l=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,p=void 0===t?y:t>>>0,m=new RegExp(e.source,c+"g");(o=s.call(m,i))&&!(d<(a=m[v])&&(l.push(i.slice(d,o.index)),1<o[h]&&o.index<i[h]&&f.apply(l,o.slice(1)),u=o[0][h],d=a,l[h]>=p));)m[v]===o.index&&m[v]++;return d===i[h]?!u&&m.test("")||l.push(""):l.push(i.slice(d)),l[h]>p?l.slice(0,p):l}:"0"[p](void 0,0)[h]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var i=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):g.call(String(i),n,r)},function(e,t){var r=c(g,e,this,t,g!==n);if(r.done)return r.value;var s=i(e),f=String(this),p=o(s,RegExp),h=s.unicode,v=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(m?"y":"g"),b=new p(m?s:"^(?:"+s.source+")",v),w=void 0===t?y:t>>>0;if(0===w)return[];if(0===f.length)return null===l(b,f)?[f]:[];for(var A=0,k=0,S=[];k<f.length;){b.lastIndex=m?k:0;var E,C=l(b,m?f:f.slice(k));if(null===C||(E=d(u(b.lastIndex+(m?0:k)),f.length))===A)k=a(f,k,h);else{if(S.push(f.slice(A,k)),S.length===w)return S;for(var x=1;x<=C.length-1;x++)if(S.push(C[x]),S.length===w)return S;k=A=E}}return S.push(f.slice(A)),S}]})},function(e,t,n){"use strict";var r=n(6),i=n(5),o=n(17),a=n(50),u=n(34),l=n(48),s=n(47),c=n(9),d=n(12),f=n(85),p=n(38),h=n(68);e.exports=function(e,t,n,v,y,m){var g=r[e],b=g,w=y?"set":"add",A=b&&b.prototype,k={},S=function(e){var t=A[e];o(A,e,"delete"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(m||A.forEach&&!d(function(){(new b).entries().next()}))){var E=new b,C=E[w](m?{}:-0,1)!=E,x=d(function(){E.has(1)}),V=f(function(e){new b(e)}),O=!m&&d(function(){for(var e=new b,t=5;t--;)e[w](t,t);return!e.has(-0)});V||(((b=t(function(t,n){s(t,b,e);var r=h(new g,t,b);return null!=n&&l(n,y,r[w],r),r})).prototype=A).constructor=b),(x||O)&&(S("delete"),S("has"),y&&S("get")),(O||C)&&S(w),m&&A.clear&&delete A.clear}else b=v.getConstructor(t,e,y,w),a(b.prototype,n),u.NEED=!0;return p(b,e),k[e]=b,i(i.G+i.W+i.F*(b!=g),k),m||v.setStrong(b,e,y),b}},function(e,t,n){var r=n(5),i=n(39),o=n(29),a=n(10),u=n(9),l=n(12),s=n(149),c=(n(6).Reflect||{}).construct,d=l(function(){function e(){}return!(c(function(){},[],e)instanceof e)}),f=!l(function(){c(function(){})});r(r.S+r.F*(d||f),"Reflect",{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(f&&!d)return c(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(s.apply(e,r))}var l=n.prototype,p=i(u(l)?l:Object.prototype),h=Function.apply.call(e,p,t);return u(h)?h:p}})},function(e,t){e.exports="data:image/png;base64,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"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsSAAALEgHS3X78AAACgklEQVRIx82XP4viQBjGn5GDTbems7QUm20FLbYUbExjYWUV7wsIm+q8SsEvYJltLEzhgghbRohgudtIyi1TJVplrN4rbhLmsol/7nLnPRAYZsL8Mg/vzDxhRIRzYowVAVTEUwKgJF7hADwALgCXiPZn5zwFZoyVADQBlHGdPgC8EpF3FZgxpgB4BFDDn2kLwCYifhYsoD1haSzDMCqtVqtSrVbLqqrey2NBEBx2u93HarVyR6ORm2B4AMwk/BdwGlTX9fJ4PG4nYVkKguAwmUxeEx/wCR6D06CO47Tr9frD73i82WzeG43GSxa8IA085gUFgHq9/uA4TlvqKgkGYrCo3lpe0BPwmmDFK27KRZQHVIbrui5vxyYAFMThEA8MBoNm2gSWZa0558csAOf8aFnWOm1sPB7Lqy4zxooFcRrFq02rXsuy1p1Ox+52u2YanHN+7Ha7ZqfTsdPgqqreG4ZRkboqEJU8BDB0HOeNUhSGIdc0bQpgqGnaNAxDfsmYLMdx3iKOYOIp6vB9f08ZSgNcCiUi8n1/L4GfmGgAAIjo26lCiSxdLBaepmklAIjas9mspyjK3ZnL5nvU/nJNhSqKcjebzXoRHAAuhSZVwI10FThptaZppcVi4WVV+zndpLhutp0KIq4AAFarlZtmyXK53GZVb1Rwke3L5XKbNkdibhcAitKXZNo9n8/tU1aGYcjn87l9gc1DAEWI+zi2W9d1k3KWruumbDMR/QwC4qr6mve1mBEIpkTkFcSJ5YlgBgBoNBovm83m/S9At1HylPexLeJJLvCM6GN/OkBEFjKT8H6//xwEweFSYBAEh36//3wqb/0/8famgf6mvzD/4qftB3nlWC1q4NisAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsSAAALEgHS3X78AAACeElEQVRIx82Xv4viQBTHvyMLjp2llVpkwU7CNkqEC6m2vBRa2KyV+g8I291td7D/gFp5jUW28Eqr4MGG3SaInWAK18ryuh2ruWZGxuieP+6i94VANOF9eG/e+/JCOOfYJ0JIEkBOXCkANPQKA7AEMAUw5Zz/2hvzT2BCSArALYAsjtMcwJBzvjwKTAihAEwABfydXgGMOOdsL1hAa6Kk/0JLAL0wPBYxFCJWTcTeBkcE/RCuZmxGBFXh5gZYdG8B0asgWOuMb3E+3QLAlTCHjTktFovJx8dH8+bmJkcpjX8w4w8AwDn/sus5Y2zl+/601WqNXl5eVEPJEkKSMeFGa9m2nXJdt2kYRv4j6CGilMYNw8i7rtu0bTvcOzkiOjkrM3VdtymBQRC8jcfj+a7AlUplBACO45i7nuu6ntU0LSOztyyrrWQ+JwDupfc+Pz9/NgwjDwBPT08/ZfBT5TiOWS6XPwGA53mTUqn0Q54EAfBVvvj+/n5PKY0HQfB2fX3dU4PU6/WD/Lrb7W5UaDab1TRNyzDGVolE4pv8/0repNNpKku8q7ydTufuQPCD+ns8Hs81TcuE+yWGC2md8WKxYIyxFaU0ruv6Vlkbjcb3UwAyFmNsFQYz2Vy+708Nw8hrmpZxHMdUmyt8doc2l+xs3/en6phfdJwKqmXatp3q9/u1feaxz7lUB6tWq73BYKBuI8OY2JPWGgwGS8uy2p7nTcLncowYYyvP8yaWZbVDUACYEs45CCG1E/aqUzXnnPfkOA3POEnD9RyLbfD1DNBXuXmqBjISi1lUWgrGpnOJLbAXEXxr09ywzIjgO9fb/2ehv+gnzDk+2n4Dh+9B1nqA5OYAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsSAAALEgHS3X78AAADPUlEQVRIx8VXv0vjUBz/JHdgBEHj1CnXQXqli71JQQcHoYGqWKejk6DmHAIuBtq/wELWDHfRwak4WYcrpLh0qHDd6lJ6kqFmynAQCzfkpndLXniGpK0cXD8QSPLC5/O+3/f9FY4QgkngOG4JQDa4UgCEyCc+ABfAAMCAEPIykXOcMMdxKQAygDTehiEAixDivkmY4zgBwBaAdfwbfgBoE0L8icKB6GHg0hDVajVbLBazuVwuLYriIrvmed6o3+8Pm83m4OLiYhDRcAFcR8VfCceJKoqSrtVq+1GxJHieN6pUKnemaQ7HiYfCcaKWZcmFQmEtSuw4jvv09OQCQCaTSUmSlIpurNVqdWVZtpLEWWGZPdNOp7O/sbGxSp9t237Wdb0dsQSsZzRN21pZWflA3z08PDxubm7esWdOCLFC4SB6T+Ms9X3/j2EYlqZpvWlcret6XlVVWRCEuQTLvxJCXD54kNmds6Llcvl6WlEA0DStVy6Xr33f/wMAhUJhTVEUNh1lAOCD4hAu1Gq1fXpvGIbVaDTcqEslSRLGiTcaDdcwDCuOE0Ca47glPqhGYcrQILFt+znO0u3t7XSv1zstlUqpSZbbtv0MAKIoLlar1SyznH0lXCwWs8xZtZNIRVFcvL29/XJ5ebk+4bzbcdxUONx5LpdL05RJil4Wx8fHhV6v9znJ9aZpDj3PG7HcAVI8W/Cpmx3HcacNptXV1Y/jXE+5Inku8HEf0+IwLca5PomLx4zwPu5lJpNJvYXE87zR0dHRTTT1xnG9D5q4QAlEUVyUJGlq4cfHx597e3t3juP4ceuUiwYZHRz4oHgDAPr9/pCeWaTaxOLq6qqVz+dvkkQVRQlbKOWmDYMPxhUAQLPZHDAFYGucaw8ODr6dnJz8mFBEtuK4AQzeAfhNu1Kn0/l1dnb2aX5+XlheXl5aWFgY3d/fu5EIxvn5ebvb7b5MahY7OztrdKO7u7vfmeXvfDCYhW6oVCphG1NVVY7mp2mawyTXUpRKpZSqqnIcJ4AhIeSFppPFErdarS4ACIIwV6/XD3Vdz08bbLqu5+v1+iHbFiNV0Jr9IDDT0Wdmw95Mx9uZDvQz/YX5Hz9tfwFbXx3mceUphQAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/gif;base64,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"},function(e,t){e.exports="data:image/png;base64,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"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAejwAAHo8BmMFdxAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGoSURBVCiRjVLPi9pQEJ7YUjAIhd02x716WcjdixdP+UPMIRCiMfHHi+IxIPrPRMSLf4Agyx5Cixc3SXtK1+1BcEvJzPTQDbi6KR14vGG+b2bevPkkANhAgVWr1Q/b7fZ3EV4qAgzDuA7D8NYwjOsiDrx0fnVM03xARFqtVj8RkUzTfHiLd5FsWVaEiDQajRIA2LiuGyMid7vd+J/JrVYrQkTyPC+p1Wpf4jj+1Wg0vjqOEyMi93q98wJ/nXa7HSEiCSESANioqhouFosnVVVDANh0Op0IEbnf78evkm3bjhCRB4NBkgOVSuWu2WzuZFm+y2MXPEVR7hGRgyDYnz5J1/UdM7Ou67vTeBAEe0RkRVHuS2maZq7rxpqmXQkhlHwF5XK5dHoDANi2/UnTtKvhcPgtTdPsYmbP85L815mZLcuKimZ+n1edzWaPRATT6fRGkiQ4HA6UY47jfPZ9/0YIkfi+/6NQJC975uVy+cTMPJ/P9/+151OFERExMxNRocLeAUDzXK/r9fo5yzKs1+sfx+Px98lk8njOAQCQ8vZvmSzLpePxSEX4H51xMkxfWUg5AAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,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"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsSAAALEgHS3X78AAAC+klEQVRIx82Xv2/aQBTHv4cixVvNgEAMEUMiZUHNFDglUrzZY4mEVGWImKCd8ie4zJ6ytUw0QwYG0vG8ZYgwyRQpC4Ol/JBiOWIIHSLR6XWxqTEGnDQ0/UoM9pn7+O69d+9rRkSYJ8aYDGDd+2UASKFHhgBcAD0APSIazJ1zFpgxlgGgAcjheboBIIjIfRaYMSYBUAAU8XfqAjglouFcsAeteFv6GnIBNMPwxEuhnHOZcy7HAGdWV1c/e3OPtBQXyjmXdV0vbm5urieTyXfBscfHx58XFxe9er3etSxrLLHOzs4+HB0dXdq2XWGMjVYeXLESBV1ZWZGEEFqn0zlQVbUQhgJAMpl8p6pqodPpHAghtCB0a2vrvb9yj/FnxV72FqOglmVVstlsOnjfcZyHfr8/AIBUKiUHx1VVLdzf3+eur6/dANRXkTF2SUSuv9VaHKhpmudR28k5lw3DUHxQNptNh182IA1AM+EdDhN12mg0FP/Pw+Hw1+7u7jdN00QYCgCWZQ22t7d/1Gq17zGSLccYkxPeaTSRSKqqFvzrvb295snJiTtvxv39/Y2YJbYeCdZ1vRjc3jjQUCLFAk9kcj6fH219vV7vvjIUADJLEQc+/Ng6jvMQFdOgDMPYSKfTsm3bt9Oe6ff74SNTYgC+hB8kIh0AbNu+XVtba2IBSswafHp6GmJBmglOpVLyIsETq3Ic58GPdcxGMFGOrVZLabVaimEYUSU2THhta0xXV1c3UaUVV7quF8vl8k65XN7J5/NRTcdNeHZlTMESUlW1UCqVYvfmarWaCx4+U8qxFwm2LGtgmua5f318fFyJAy+VSpnDw8OPwcNnSjn2Ep4xu4l481M/1pIkLbfb7ZoQQouKOedcFkJo7Xa7JknSsp8nmqaJKD9GRANGRH5b/PQabdEf55w37+7uosrxKxG5I8/FGNOm9eRGo6EE4zZLpmmeV6vV0ynQLhGJMbO3KOszzfSNucznmj0/EV/iNN/M3v4/hv5NP2H+xUfbb/mKoec8kZG2AAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAK3wAACt8Bpkq7FgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANsSURBVEiJvZfRS1tXHMc/JnG5Xawg1mViZqW6zGWEXYdsbmWrjLahIIzinu5eEvM3+CCyxz3r45gXI0qeJtlmYG2XBSIzi7A+tEJrS1/WmZGBWYspbW8Sa/pw79W7a8KNt2HflyTnd875nHPuze98f200JwfgA4a1zy5A0GIK8BjYAe4DeeDAasI2i3g78CEwBrze5CKfATngD6BqBxwALgOnmwSaVQJ+AbbrBZ0NBl0ArgBum1C0sQHUU/vTCtwGTAKjrwA06y2gG7hnbHSYOn0OBNLp9ESlUvl6YWFhrEXw94BxY4PxGQdQd4uiKLNut9sNsLS0dCMSiWRbtIBVtGeu77gduKRHl5eX0/r3cDgcisVi580zzM/Pf7C1tfXVCcEhjXX4jD9B/Y8CkEwm8/39/crIyMjbAKIoDvn9/heJROKh1+t9LZ1OX52cnLxQrVYrc3NzN08AdgNlYMeFuuuPzD2i0WgOYGpq6gqAJEkXu7u7PaIoDnq93jdOuFOjxoBNF+pbVzc5mOGhUOjjVwDq8gB9LuCdetGZmZlhQRCc+Xy+VCgUCr29vb0tgOoadqHm3mOanZ39wuPxeFoIM8rnQE34ttTZ2dlhc2iXg6Nbxg64Mx6Pf2ZjqGDOXCeWJEkX7cAdqPfp/w1XHKiXuC3t7e3t2YQ/cgJnqPNm12q1f7PZ7N319fU7giC88Pl8b5r7FIvFR6urqxt6hgsGg+f8fv9+IpH4ywJ81wnsA6I5srGxUcxkMruZTGZXluXtjo6Ox6Ojo4NOp/PwKi2VSk/Gx8d/NKbXYDA42AT8VweqR3pmsUKmp6dvTUxMfFsoFP4xx6LRaG5xcfGa/luSpEvxePzTBlM9Bf52oBqznBUYIJVKFQOBwHepVGqzAfx6E/AcUNOPrQC8TxNWR1GUg5WVlQcul2u3p6fnlCzLh55qbW1tZ2BgoCKK4hCox97X1/c8mUzmtS5PgJ+AA6MReBf40grcjGKx2PlwOBwCKJfLZUEQvtFC36NZIGMC2QZa4jQikUhWluWfq9VqNZvN3taaf8Pgu8z2tg24iuqRWqk7wA9ATW+oZ2+3tQWcbRH0d+CaEdoIDPAQ2EVNLHa9dQlYQ60ojsmqhHFxVMI0ezc/5aiE2W/UyQps7Gcu2k5pseccL9pqdeb4j14C7kYSya9zBngAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAK3wAACt8Bpkq7FgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAaRSURBVEiJpVfrT1NbFv/tXV45Laf10NbSkKEtWtumLepVW4w6cx31Ag4T55uTIH4y/EcmRj9pohjiNT6qoKI3jiMkM1AerR5ASyHyspR6Th+D2J49H0p7eVW49/6S82mtrN9aZ++19m8R7A4UQB2AAwBqAWgA8Gs2GUAKwDwAEcAsAGWngGQHezmAYwD8ADiHw7HXbrdbNBpNNcdx1QCQTqflVCqVFEVxanJyMgYgA6AfwH8AfCsVuOw7pC4A53ie1zc3NzfZbLZGnU6ns1qt4HmeVVdXAwCSySQkSSLRaBSJRGI5EomMPH36VJdKpY4CeAbg/W4rJgB+pJSeaG1tPdLY2PgXp9PJ+f1+ZrFYmEql2jbLXC6HaDRKBgYGyLt371JDQ0Mve3p6ggDeAPgFAFvvvzkKAfCPqqoq3+XLl/9+/PjxkxcvXiw7deoUEwQBlNKSv4dSCkEQ4PV6mdVqrWCMOcxmszYcDq/mcrk9AMa/R/zXqqoqX2dn56WjR48eaG9vV4xGY0myUtizZw+8Xi9Lp9Nms9lcNzw8HMvlcgRAdDtiF4CfOjo6/tbU1OS4dOmSUllZ+ZtJCygvL4fb7WZLS0uCTqfjg8Hg/wB8BrC0nrgcwD9bWlqaTp48+ef29vYdSYeGhsirV6+ox+PZcHaLi4tQq9UghIBSCrvdzmZnZ2uz2exyJBKpADAIQCkcmk+j0dQcOnTox/PnzzOO40oSrq6u4t69e/TBgwc0mUxusMmyjKtXr6qePXtWvLQcx6GtrY0dO3bsLMdxNci3J+ja52tubva5XC6NzWbbUMF6xGIxXL9+nY6Ojm7b/zzP48iRI8rbt29pOBwu+litVuZ0OqvPnj37A/IzgRQmEmez2Rr9fn9J0uHhYXLt2jX6+fPnLaSSJOHGjRt0YWEBra2tbO/evez58+ckl8sVffx+P9u3b58XgBpAHQXgsFgsgiAINRaLpUgsiiIJhUIkFAqR7u5uev/+ffrt27dtK62srIQkSejq6qKKouD06dMskUiQzVUbDIZas9nMAzhQBsDkcDjqrVYr1g+HR48ekVQqtdNIBQBUVVXhwoUL7ObNm3RwcJD4fD6mVqvZxMQE8Xq9DABUKhUsFgtcLlf93NxcLQVQzfO8VqvVlvzNu0FDQwMzGo1MFEVCCEF9fT0+ffq0wUer1TKe53kA1RRANcdxao1G80d4AQC1tbWIx+MAAJ7nWSqV2mDXaDTgOE4DgKcAGGPsD1VbwPowpUIyxhQAjAJIZjKZ1Oae/D2YnZ2FwWAAAMiyTAovWAHJZBLpdDoFQKYAUpIkSbIs7+oilYIoiiQejxOn08kURcH09DTq6uo2+MiyTL58+SIBSJUBmB8dHY1MTU0hl8sVb3ZbWxvLZrMMACYmJsjIyEjJxDKZDB4+fEj0ej07fPgwE0WRZDIZYrfbi0okm80iEomwcDg8DWCuDIC4sLDgj8Vi89Fo1NTQ0MAAwOFwFA/J7XYzm81GAoEAWV1d3ZJANpuFyWRCS0uLwhjDy5cviSAIzOVyFWNEo1GyuLg4E4vF0gDGKfIaKTMxMTE8MDBQsqqDBw+yzs5OxWQybbk1PM+jo6NDMRgMePz4MY3FYjh37twG0dDf30/Gx8dHAKQBzFLkhVl/b2/v4NjYWOLjx48lyfV6Pa5cuaL4fL5txZwsywgGg+TEiRPM6XQWE5ycnCShUGjpxYsXI8jrMVZIaT6Xy3lUKtWKSqVyezweVlFRsS05pRT79++HwWDAysoKWU9QWVkJt9vN3G43CMnnn8lk0N3dTQOBwP2ZmZkIgAcAlAKxAkCenp42CoJQ/vXr13qPx8O+J3WMRiPWkxZQeIuBvA67c+cO7evr+6W3tzcI4BHyYmCDAlkCoAqHwzmj0WiIx+NGu91esvKdkMlkcPfuXfrmzZvR27dv9zLG/gXgvwX7Zs01zRgTgsFgXKVSZZeXlxv0ej0EQfhNpB8+fCBdXV309evX/75169ZTRVHGAPSs99lOq4qMMfr+/XvIsjwXi8XMi4uLao7joNVqSyrNtT4lgUCAPnnyJBYIBH7u6ekZXKu0Z7P/96aVA8BPZWVlujNnzjTa7XavyWT6k81mo1qttijoZVmGJElkampKmZ+fj4qiONLX1zemKMoX5AW9uF3wncZkGX5dYdQ1NTWcw+GoEwRBx3GcGgDS6XQqkUhIoVBoRpKkFeT7tLDCZEsF3u18Jti6tGnXbBK2Lm07vnb/B3pVyutUGlg2AAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAArCAYAAAAOnxr+AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAlhJREFUeNpi9HZyYIACMyC2B2JhhsEB3gLxQSA+BeKwADEjEFcBcSDD4APhQLwBiFtBDvUapI6EgQAgvsAEJLwZBj/wADlUaAg4VISJYYiAUYeOOnTUoYPRoVo6OoPbodw83AzFlVUMwRGRg9eh8oqKDG29/QxGpmY0jXoWSjR7+vgyxCQl0yWNEuVQUTExMEZxpK8fzUORZIfWNLcwiIiKkWWBjr4Bg4WNDcOcqVNwyodFRTP0dbQzfHj/jvw0au/kRLYjQQDkCEdnF4a80nKsjiwoK2dQVlVlsHdxoSwzBYVHUBRloJC6fOkig7mlJYpjYY7k5ORkWLV8GcPG1asocygloQkCoOjsaKhnOHn8ONyxpDqSYBoFlY/UApO6O8GOBDkWhEGAWEfSvQrdt2snnP3+3TuGg3v2UKfA//rlK9UcCYtuELh7+zaDoJAQQ0Z+PvVqpjevX1HNkbA0WVdeCk6zunr6WEsDshy6buUKqjoSliZBaRY5g1Hs0IP79lEUqqByFOTIrZs2YmQcZMf6h4bhNYdZTVEhhFBP9Oypk2B8eP8+OObh4WGQlJZGSyavGQ4BPYYMzp89Cx7iWLZgPlazTx47yvD33z9Cuf8dUVXo61evwBgZXLtyhahGCagcxeVIGCCmiKKoeNq+ZTNDVXEhVTIczcvRh/fvgx177vSpwdseRS5ve9vbBn9XBDndjvZCRx066tBRh1LPob+GgDt/gBx6agg49BTIoYuA+PEgdiTIbUtADv0ExKAm0CZQY2cQOfAD1E0gt31i/P///5DITAABBgBYwtYY1zNaqwAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAArCAYAAAAOnxr+AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAulJREFUeNrslz1sEmEYxx8aJnDSFjcrmyJdBIFFiyx+IEZxaE2aDqVDF622i6W4KOJUtbp0KA6kiXVoY9TEjVinFqsxKSVORXSy1aRpPGJc8P2/d0faJsjbOyRHck/ycHfwwv3uef/PB5ZwKEiK+Zh3Mz9AxrCfzBeY53BhZW5hHmd+mYxnPcxfML8H0PMGhVTtEvNPbewlTMa3swDd3wKg7W3UImaCmqAmqBFBXW630Lr+WIw6nc7mg9r32Wl0LE5Xeq8KQZ4JR2jk1hj/XtNAEZnUxEM6fsIntH4hm6VyuUztHQ4aujbcHNBzFyIcEjetZ0PXh7mXikWan33G38PDicrFKrKow+HgvgMyclE4it2hEJ0MnubnpbU1evP6FXkDATriOsblUkiMNwY0cTcpFLVaD4nt9voD/MGiDOzd2yzNsaiO30lyWKzZWF/Xt/WIhlZIbHXqwSMOMvVkkmvTZrPRqWCICvk8/diQ4bw+v36NRnt6NUfSwwAA1h8bJOmXRB9ySzIY23aYeu3q6tIPqjWa2MqZp9PVpOFgS4v8iO3ma77LEbXZ7fpA91LnapWi7c1AkqQdn5e+FPnx0GHn/6+jhmih0JUeQyKqhuSx79riTiWSX5XI6oqomplakqlvYJCff3zP//GSxy8n0efCqrzmoKz/siTpB51/Pqs5mZDVKEmZ9DTXu0cpQ8uLclKp14WVFf2gSAitUZ16PEnxkRscGn0dpQrgKPhILrWiLCtlSndnSt5OaG6hgIRW1bXo89C+OmlBBvW6kjAofmj3jyE5MJT0DcSEytRRt1zU0efxPbWWzikDSkNAaxluWljN89myXmOADNSxMKpEE0mGB27KPIqxLT56s5rZIiULWoXu0f9FzUoNMGhu4n5KaLbMpNNVOeylTjcEdLtuRUyFNf+FmqAmqAn6b9A/LcD5G6C5FgDNATTD/JuBIcE2A9At5hiBXjLfNBDgpsIEti1LpVJpiWT6K8AA9tML3aYOAakAAAAASUVORK5CYII="},function(e,t,n){e.exports=n(44)("native-function-to-string",Function.toString)},function(e,t,n){var r=n(10);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(37),i=n(8)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(59),i=n(8)("iterator"),o=n(37);e.exports=n(21).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(6),i=n(80).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,u=r.Promise,l="process"==n(30)(a);e.exports=function(){var e,t,n,s=function(){var r,i;for(l&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(l)n=function(){a.nextTick(s)};else if(!o||r.navigator&&r.navigator.standalone)if(u&&u.resolve){var c=u.resolve(void 0);n=function(){c.then(s)}}else n=function(){i.call(r,s)};else{var d=!0,f=document.createTextNode("");new o(s).observe(f,{characterData:!0}),n=function(){f.data=d=!d}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(6).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){"use strict";var r=n(39),i=n(46),o=n(38),a={};n(22)(a,n(8)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(16),i=n(10),o=n(31);e.exports=n(15)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),u=a.length,l=0;l<u;)r.f(e,n=a[l++],t[n]);return e}},function(e,t,n){var r=n(49),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(31),i=n(67),o=n(40);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,u=n(e),l=o.f,s=0;u.length>s;)l.call(e,a=u[s++])&&t.push(a);return t}},function(e,t,n){var r=n(23),i=n(52).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},function(e,t,n){var r=n(129);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(9),i=n(93),o=n(8)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(5);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(5),i=n(132);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(e,t,n){var r=n(6).parseFloat,i=n(97).trim;e.exports=1/r(n(98)+"-0")!=-1/0?function(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},function(e,t,n){"use strict";(function(e){var r=n(135),i=n(136),o=n(137);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"!=typeof e)return s(this,e,t,n);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}function s(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=f(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),i=(e=u(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|p(t.length);return 0===(e=u(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?u(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(c(t),e=u(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=u(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(r)return j(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){var o,a=1,u=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;u/=a=2,l/=2,n/=2}function s(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=n;o<u;o++)if(s(e,o)===s(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(u<n+l&&(n=u-l),o=n;0<=o;o--){for(var d=!0,f=0;f<l;f++)if(s(e,o+f)!==s(t,f)){d=!1;break}if(d)return o}return-1}function g(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?i<(r=Number(r))&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");o/2<r&&(r=o/2);for(var a=0;a<r;++a){var u=parseInt(t.substr(2*a,2),16);if(isNaN(u))return a;e[n+a]=u}return a}function b(e,t,n,r){return z(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,u,l,s=e[i],c=null,d=239<s?4:223<s?3:191<s?2:1;if(i+d<=n)switch(d){case 1:s<128&&(c=s);break;case 2:128==(192&(o=e[i+1]))&&127<(l=(31&s)<<6|63&o)&&(c=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&2047<(l=(15&s)<<12|(63&o)<<6|63&a)&&(l<55296||57343<l)&&(c=l);break;case 4:o=e[i+1],a=e[i+2],u=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&u)&&65535<(l=(15&s)<<18|(63&o)<<12|(63&a)<<6|63&u)&&l<1114112&&(c=l)}null===c?(c=65533,d=1):65535<c&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=d}return function(e){var t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=k));return n}(r)}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return s(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return r=null,o=t,a=n,c(i=e),i<=0?u(r,i):void 0!==o?"string"==typeof a?u(r,i).fill(o,a):u(r,i).fill(o):u(r,i);var r,i,o,a},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(n=t=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},l.byteLength=h,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return S(this,t,n);case"latin1":case"binary":return E(this,t,n);case"base64":return w(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(i<=r&&n<=t)return 0;if(i<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),u=Math.min(o,a),s=this.slice(r,i),c=e.slice(t,n),d=0;d<u;++d)if(s[d]!==c[d]){o=s[d],a=c[d];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||i<n)&&(n=i),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o,a,u,l,s,c,d=!1;;)switch(r){case"hex":return g(this,e,t,n);case"utf8":case"utf-8":return s=t,c=n,z(j(e,this.length-s),this,s,c);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return b(this,e,t,n);case"base64":return this,u=t,l=n,z(U(e),this,u,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o=t,a=n,z(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(e,this.length-o),this,o,a);default:if(d)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),d=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function S(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function E(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function C(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var i="",o=t;o<n;++o)i+=T(e[o]);return i}function x(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function V(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<t||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function B(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function P(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function _(e,t,n,r,o){return o||P(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function I(e,t,n,r,o){return o||P(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||V(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||V(e,t,this.length);for(var r=this[e+--t],i=1;0<t&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||V(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||V(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||V(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||V(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||V(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||V(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return(i*=128)<=r&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||V(e,t,this.length);for(var r=t,i=1,o=this[e+--r];0<r&&(i*=256);)o+=this[e+--r]*i;return(i*=128)<=o&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||V(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||V(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||V(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||V(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||V(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||V(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||V(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||V(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||V(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;0<=--i&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):B(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var o=0,a=1,u=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===u&&0!==this[t+o-1]&&(u=1),this[t+o]=(e/a>>0)-u&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var o=n-1,a=1,u=0;for(this[t+o]=255&e;0<=--o&&(a*=256);)e<0&&0===u&&0!==this[t+o+1]&&(u=1),this[t+o]=(e/a>>0)-u&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):B(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return _(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return _(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return I(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return I(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;0<=i;--i)e[i+t]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=l.isBuffer(e)?e:j(new l(e,r).toString()),u=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%u]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function T(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if(55295<(n=e.charCodeAt(a))&&n<57344){if(!i){if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}if(a+1===r){-1<(t-=3)&&o.push(239,191,189);continue}i=n;continue}if(n<56320){-1<(t-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(t-=3)&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(e){return r.toByteArray(function(e){var t;if((e=(t=e,t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(134))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=s(e),r=n[0],a=n[1],u=new o(3*(r+(f=a))/4-f),l=0,c=0<a?r-4:r,d=0;d<c;d+=4)t=i[e.charCodeAt(d)]<<18|i[e.charCodeAt(d+1)]<<12|i[e.charCodeAt(d+2)]<<6|i[e.charCodeAt(d+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;var f;return 2===a&&(t=i[e.charCodeAt(d)]<<2|i[e.charCodeAt(d+1)]>>4,u[l++]=255&t),1===a&&(t=i[e.charCodeAt(d)]<<10|i[e.charCodeAt(d+1)]<<4|i[e.charCodeAt(d+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,u=n-i;a<u;a+=16383)o.push(c(e,a,u<a+16383?u:a+16383));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,l=a.length;u<l;++u)r[u]=a[u],i[a.charCodeAt(u)]=u;function s(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,o,a=[],u=t;u<n;u+=3)i=(e[u]<<16&16711680)+(e[u+1]<<8&65280)+(255&e[u+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,u=8*i-r-1,l=(1<<u)-1,s=l>>1,c=-7,d=n?i-1:0,f=n?-1:1,p=e[t+d];for(d+=f,o=p&(1<<-c)-1,p>>=-c,c+=u;0<c;o=256*o+e[t+d],d+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;0<c;a=256*a+e[t+d],d+=f,c-=8);if(0===o)o=1-s;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=s}return(p?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,u,l,s=8*o-i-1,c=(1<<s)-1,d=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,h=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),2<=(t+=1<=a+d?f/l:f*Math.pow(2,1-d))*l&&(a++,l/=2),c<=a+d?(u=0,a=c):1<=a+d?(u=(t*l-1)*Math.pow(2,i),a+=d):(u=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));8<=i;e[n+p]=255&u,p+=h,u/=256,i-=8);for(a=a<<i|u,s+=i;0<s;e[n+p]=255&a,p+=h,a/=256,s-=8);e[n+p-h]|=128*v}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){var r=n(5);r(r.S+r.F,"Object",{assign:n(99)})},function(e,t,n){"use strict";var r=n(74);n(5)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(e,t,n){"use strict";var r=n(5),i=n(19),o=n(69),a="endsWith",u=""[a];r(r.P+r.F*n(71)(a),"String",{endsWith:function(e){var t=o(this,e,a),n=1<arguments.length?arguments[1]:void 0,r=i(t.length),l=void 0===n?r:Math.min(i(n),r),s=String(e);return u?u.call(t,s,l):t.slice(l-s.length,l)===s}})},function(e,t,n){n(15)&&"g"!=/./g.flags&&n(16).f(RegExp.prototype,"flags",{configurable:!0,get:n(55)})},function(e,t,n){var r=n(31),i=n(23),o=n(40).f;e.exports=function(e){return function(t){for(var n,a=i(t),u=r(a),l=u.length,s=0,c=[];s<l;)o.call(a,n=u[s++])&&c.push(e?[n,a[n]]:a[n]);return c}}},function(e,t,n){"use strict";var r,i=n(6),o=n(54)(0),a=n(17),u=n(34),l=n(99),s=n(144),c=n(9),d=n(43),f=n(43),p=!i.ActiveXObject&&"ActiveXObject"in i,h="WeakMap",v=u.getWeak,y=Object.isExtensible,m=s.ufstore,g=function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},b={get:function(e){if(c(e)){var t=v(e);return!0===t?m(d(this,h)).get(e):t?t[this._i]:void 0}},set:function(e,t){return s.def(d(this,h),e,t)}},w=e.exports=n(101)(h,g,b,s,!0,!0);f&&p&&(l((r=s.getConstructor(g,h)).prototype,b),u.NEED=!0,o(["delete","has","get","set"],function(e){var t=w.prototype,n=t[e];a(t,e,function(t,i){if(!c(t)||y(t))return n.call(this,t,i);this._f||(this._f=new r);var o=this._f[e](t,i);return"set"==e?this:o})}))},function(e,t,n){"use strict";var r=n(50),i=n(34).getWeak,o=n(10),a=n(9),u=n(47),l=n(48),s=n(54),c=n(18),d=n(43),f=s(5),p=s(6),h=0,v=function(e){return e._l||(e._l=new y)},y=function(){this.a=[]},m=function(e,t){return f(e.a,function(e){return e[0]===t})};y.prototype={get:function(e){var t=m(this,e);if(t)return t[1]},has:function(e){return!!m(this,e)},set:function(e,t){var n=m(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var s=e(function(e,r){u(e,s,t,"_i"),e._t=t,e._i=h++,e._l=void 0,null!=r&&l(r,n,e[o],e)});return r(s.prototype,{delete:function(e){if(!a(e))return!1;var n=i(e);return!0===n?v(d(this,t)).delete(e):n&&c(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=i(e);return!0===n?v(d(this,t)).has(e):n&&c(n,this._i)}}),s},def:function(e,t,n){var r=i(o(t),!0);return!0===r?v(e).set(t,n):r[e._i]=n,e},ufstore:v}},function(e,t){var n=["-webkit-","-moz-","-o-","-ms-",""];(e.exports=function(e,t,r){for(var i=0;i<n.length;i++)e[n[i]+t]=r}).get=function(e,t){for(var r=0;r<n.length;r++){var i=e[n[r]+t];if(i&&""!=i)return i}return""}},function(e,t,n){"use strict";var r=n(5),i=n(21),o=n(6),a=n(61),u=n(84);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return u(t,e()).then(function(){return n})}:e,n?function(n){return u(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(148),i=n(43);e.exports=n(101)("Map",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(16).f,i=n(39),o=n(50),a=n(28),u=n(47),l=n(48),s=n(64),c=n(86),d=n(62),f=n(15),p=n(34).fastKey,h=n(43),v=f?"_s":"size",y=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,s){var c=e(function(e,r){u(e,c,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[v]=0,null!=r&&l(r,n,e[s],e)});return o(c.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var n=h(this,t),r=y(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[v]--}return!!r},forEach:function(e){h(this,t);for(var n,r=a(e,1<arguments.length?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!y(h(this,t),e)}}),f&&r(c.prototype,"size",{get:function(){return h(this,t)[v]}}),c},def:function(e,t,n){var r,i,o=y(e,t);return o?o.v=n:(e._l=o={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[v]++,"F"!==i&&(e._i[i]=o)),e},getEntry:y,setStrong:function(e,t,n){s(e,t,function(e,n){this._t=h(e,t),this._k=n,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?c(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,c(1))},n?"entries":"values",!n,!0),d(t)}}},function(e,t,n){"use strict";var r=n(29),i=n(9),o=n(81),a=[].slice,u={};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),l=function(){var r=n.concat(a.call(arguments));return this instanceof l?function(e,t,n){if(!(t in u)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";u[t]=Function("F,a","return new F("+r.join(",")+")")}return u[t](e,n)}(t,r.length,r):o(t,r,e)};return i(t.prototype)&&(l.prototype=t.prototype),l}},function(e,t,n){"use strict";var r=n(10),i=n(19),o=n(73),a=n(56);n(57)("match",1,function(e,t,n,u){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=u(n,e,this);if(t.done)return t.value;var l=r(e),s=String(this);if(!l.global)return a(l,s);for(var c,d=l.unicode,f=[],p=l.lastIndex=0;null!==(c=a(l,s));){var h=String(c[0]);""===(f[p]=h)&&(l.lastIndex=o(s,i(l.lastIndex),d)),p++}return 0===p?null:f}]})},function(e,t,n){"use strict";var r=n(5),i=n(19),o=n(69),a="startsWith",u=""[a];r(r.P+r.F*n(71)(a),"String",{startsWith:function(e){var t=o(this,e,a),n=i(Math.min(1<arguments.length?arguments[1]:void 0,t.length)),r=String(e);return u?u.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){"use strict";var r=n(12);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){"use strict";var r=n(5),i=n(54)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n(51)(o)},function(e,t,n){var r=n(9),i=n(34).onFreeze;n(94)("freeze",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(5),i=n(23),o=n(19);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=o(t.length),r=arguments.length,a=[],u=0;u<n;)a.push(String(t[u++])),u<r&&a.push(String(arguments[u]));return a.join("")}})},function(e,t,n){"use strict";var r=n(10),i=n(157),o=n(56);n(57)("search",1,function(e,t,n,a){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=a(n,e,this);if(t.done)return t.value;var u=r(e),l=String(this),s=u.lastIndex;i(s,0)||(u.lastIndex=0);var c=o(u,l);return i(u.lastIndex,s)||(u.lastIndex=s),null===c?-1:c.index}]})},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"IvtSize",function(){return y});var i={};n.r(i),n.d(i,"createElement",function(){return B}),n.d(i,"createBeacon",function(){return P}),n.d(i,"createFiFrame",function(){return _}),n.d(i,"createCompanion",function(){return I}),n.d(i,"translateToStyleLength",function(){return C});var o={};n.r(o),n.d(o,"createEvent",function(){return j}),n.d(o,"IvtEventTarget",function(){return U});var a={};n.r(a),n.d(a,"timeout",function(){return D}),n.d(a,"Deferred",function(){return M});var u={};function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(u),n.d(u,"IvtEnum",function(){return ie}),n.d(u,"IvtDeviceType",function(){return oe}),n.d(u,"IvtOsType",function(){return ae}),n.d(u,"IvtBrowserType",function(){return ue}),n.d(u,"IvtMediaType",function(){return le}),n.d(u,"IvtErrorCode",function(){return se}),n.d(u,"IvtPlayerPausedReason",function(){return ce}),n.d(u,"IvtAdNotification",function(){return fe}),n.d(u,"IvtUserNotification",function(){return de}),n.d(u,"IvtAdUIType",function(){return pe}),n.d(u,"IvtAdPlayerState",function(){return he}),n.d(u,"IvtAdEvent",function(){return ve}),n.d(u,"IvtAdState",function(){return ye}),n(7),n(11),n(13),n(24),n(14),n(1),n(2),n(41),n(95),n(3),n(4),n(25),n(130),n(20),n(131),n(26),n(27);var c=Symbol("privateNameSpace"),d=Symbol("privatePrint"),f=function(){function e(t){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),s(this,c,""),this[c]=t,"console"in window&&"undefined"!=typeof console?this.sys=window.console:(this.sys={},this.sys.log=function(){return null},this.sys.dir=function(){return null})}var t,n;return t=e,(n=[{key:"debug",value:function(t,n){e.isDebug&&(this[d]("[DAC-IVT: ".concat(this[c],"] ").concat(t)),this[d](n))}},{key:"warn",value:function(t,n){e.isDebug&&(this.sys.warn("[DAC-IVT: ".concat(this[c],"] ").concat(t)),void 0!==this.sys.trace&&this.sys.trace(),this[d](n))}},{key:"error",value:function(t,n){e.isDebug&&(this.sys.error("[DAC-IVT: ".concat(this[c],"] ").concat(t)),void 0!==this.sys.trace&&this.sys.trace(),this[d](n))}},{key:d,value:function(e){void 0!==e&&("string"==typeof e||"number"==typeof e?this.sys.log(e):this.sys.dir(e))}}])&&l(t.prototype,n),e}();s(f,"isDebug",!1);var p=f;function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,"width",0),v(this,"height",0),1===arguments.length){var t=arguments[0];this.width=(null==t?void 0:t.width)||0,this.height=(null==t?void 0:t.height)||0}else 1<arguments.length&&(this.width=arguments[0],this.height=arguments[1])}var t,n;return t=e,(n=[{key:"clone",value:function(){return new e(this.width,this.height)}}])&&h(t.prototype,n),e}(),m=n(0),g=n(78);function b(e,t,n){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),e}var E=new p("IvtElement");function C(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"0px",n=String(e);if(n.includes("auto"))return"auto";var r,i=/(\d*\.?\d*)(.*)/.exec(n);if(!i)return t;var o=i[1],a=Number.parseFloat(o);if(Number.isNaN(a))return t;if(a<0)return t;var u=m.a.notEmpty(null===(r=i[2])||void 0===r?void 0:r.trim(),"px");return"".concat(a).concat(u)}var x=function(){function e(){A(this,e)}return S(e,null,[{key:"createElement",value:function(t){var n="string"==typeof t?document.createElement(t):t;return n.eventHandlers={},n.style.margin="0",n.style.padding="0",n.style.border="none",n.clear=e.clear.bind(null,n),n._wh=e._wh.bind(null,n),n.on=e.on.bind(null,n),n.off=e.off.bind(null,n),n.wh=e.wh.bind(null,n),n.show=e.show.bind(null,n),n.fadein=e.fadein.bind(null,n),n.fadeout=e.fadeout.bind(null,n),n.hide=e.hide.bind(null,n),n.zero=e.zero.bind(null,n),n.slideSetup=e.slideSetup.bind(null,n),n.slide=e.slide.bind(null,n),n.cancelSlide=e.cancelSlide.bind(null,n),n.inviewPercentage=e.inviewPercentage.bind(null,n),n.getClientSize=e.getClientSize.bind(null,n),Object.defineProperties(n,{w:{get:e.getWidth.bind(null,n),set:e.setWidth.bind(null,n),configurable:!0},h:{get:e.getHeight.bind(null,n),set:e.setHeight.bind(null,n),configurable:!0},size:{get:e.getSize.bind(null,n),set:e.setSize.bind(null,n),configurable:!0},styleSize:{get:e.getStyleSize.bind(null,n),configurable:!0},isHidden:{get:e.getIsHidden.bind(null,n),set:e.setIsHidden.bind(null,n),configurable:!0}}),n}},{key:"clear",value:function(e){var t;if(e){null===(t=e.parentElement)||void 0===t||t.removeChild(e);for(var n=Object.keys(e.eventHandlers),r=0;r<n.length;r++){var i=n[r];e.off(i)}Object.getOwnPropertyNames(e).forEach(function(t){Object.getOwnPropertyDescriptor(e,t).configurable&&(delete e.name,e.name=null)})}}},{key:"getHeight",value:function(e){return e._wh(e,"Height")}},{key:"setHeight",value:function(e,t){e.style.height=C(t)}},{key:"getWidth",value:function(e){return e._wh(e,"Width")}},{key:"setWidth",value:function(e,t){e.style.width=C(t)}},{key:"getSize",value:function(e){return new y(e.offsetWidth,e.offsetHeight)}},{key:"setSize",value:function(e,t){e.wh((null==t?void 0:t.width)||0,(null==t?void 0:t.height)||0)}},{key:"getStyleSize",value:function(e){return new y(e.style.width,e.style.height)}},{key:"getIsHidden",value:function(e){return"visible"!==e.style.visibility}},{key:"setIsHidden",value:function(e,t){e.style.visibility=m.a.toBool(t)?"hidden":"visible"}},{key:"_wh",value:function(e,t,n){return Math.max(t["scroll"+n],t["offset"+n],t["client"+n])}},{key:"on",value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];t in e.eventHandlers||(e.eventHandlers[t]=[]);var i={listener:n,useCapture:r};e.eventHandlers[t].push(i),e.addEventListener(t,n,r)}},{key:"off",value:function(e,t){if(t in e.eventHandlers){var n=!0,r=!1,i=void 0;try{for(var o,a=e.eventHandlers[t][Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;e.removeEventListener(t,u.listener,u.useCapture)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}e.eventHandlers[t]=null,delete e.eventHandlers[t]}}},{key:"wh",value:function(e,t,n){e.w=t,e.h=n}},{key:"show",value:function(t){return e.setIsHidden(t,!1),t}},{key:"hide",value:function(t){return e.setIsHidden(t,!0),t}},{key:"fadein",value:function(e){return new Promise(function(t){e.show(),g.in(e,1e3,function(){t()})})}},{key:"fadeout",value:function(e){return new Promise(function(t){g.out(e,1e3,function(){e.hide(),t()})})}},{key:"zero",value:function(e){return e.w=0,e.h=0,e}},{key:"slideSetup",value:function(e){for(var t=0,n=["webkit","moz"],r=0;r<n.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[n[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n[r]+"CancelAnimationFrame"]||window[n[r]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var n=(new Date).getTime(),r=Math.max(0,16-(n-t)),i=window.setTimeout(function(){e(n+r)},r);return t=n+r,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}},{key:"slide",value:function(e,t,n,r){return new Promise(function(i){var o=e.offsetWidth,a=e.offsetHeight;e.w=t,e.h=n,r&&r(e.w,e.h);var u=e.offsetWidth,l=e.offsetHeight,s=Math.round(u-o),c=Math.round(l-a),d=s/30,f=c/30,p=s<=0?function(){return o<=u}:function(){return u<=o},h=c<=0?function(){return a<=l}:function(){return l<=a};e.w=o,e.h=a,e.cancelSlide(),e.slideSetup(),function u(){if(p()&&h())return e.cancelSlide(),e.w=t,e.h=n,r&&r(t,n),void i();o+=d,a+=f,e.w=o,e.h=a,r&&r(o,a),e.animetionID=requestAnimationFrame(function(){u()})}()})}},{key:"cancelSlide",value:function(e){e.animetionID&&(cancelAnimationFrame(e.animetionID),e.animetionID=null)}},{key:"inviewPercentage",value:function(e,t,n){if(m.a.safeFrame){var r=m.a.safeFrame;if(r.ext&&m.a.isFunction(r.ext.inViewPercentage))return r.ext.inViewPercentage()}var i,o,a=m.a.toDecimal(t,0),u=m.a.toDecimal(n,0),l=e.getBoundingClientRect(),s=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;c=c-a-u;var d=l.left,f=l.right,p=f-d,h=l.top-a,v=l.bottom-a,y=v-h;return i=f<=0?0:s<=d?0:p<=0?1:d<0&&s<f?s/p:d<0?f/p:s<f?(s-d)/p:1,o=v<=0?0:c<=h?0:y<=0?1:h<=0&&c<v?c/y:h<=0?v/y:c<v?(c-h)/y:1,Math.floor(i*o*100)}},{key:"getClientSize",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=e.getBoundingClientRect(),r=n.width,i=n.height,o=0,a=0,u=0,l=0;if(!t){var s=window.getComputedStyle(e);o=0<(o=parseInt(s.borderTopWidth,10))?o:0,a=0<(a=parseInt(s.borderBottomWidth,10))?a:0,u=0<(u=parseInt(s.borderLeftWidth,10))?u:0,l=0<(l=parseInt(s.borderRightWidth,10))?l:0}return{width:r-u-l,height:i-o-a}}}]),e}(),V=function(){function e(){A(this,e)}return S(e,null,[{key:"createBeacon",value:function(e){var t=x.createElement(e);return t.w=1,t.h=1,t.style.overflow="hidden",t.style.opacity="0.1",t}}]),e}(),O=function(){function e(){A(this,e)}return S(e,null,[{key:"createFiFrame",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.text,n=e.isInDapIF||!0,r=x.createElement("iframe");return t&&r.on("load",function(e){r.off("load");var i=r.contentWindow.document,o=n?"<body><script>inDapIF = true;<\/script>"+t+"</body>":t;i.open(),i.write(o),i.write("<style> body {margin:0} </style>"),i.close()}),r}},{key:"setup",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};b(w(e),"setup",this).call(this,t,n);var r=n.text,i=n.isInDapIF||!0;r&&t.on("load",function(){t.off("load");var e=t.contentWindow.document,n=i?"<body><script>inDapIF = true;<\/script>"+r+"</body>":r;e.open(),e.write(n),e.write("<style> body {margin:0} </style>"),e.close()})}}]),e}(),R=function(){function e(){A(this,e)}return S(e,null,[{key:"createCompanion",value:function(e){var t="コンパニオンの設定が不正です。";if(!e)return E.error(t),null;var n=null;if(e.staticResourceUri)(n=x.createElement("img")).src=e.staticResourceUri;else if(e.iframeResourceUri)(n=x.createElement("iframe")).src=e.iframeResourceUri;else{if(!e.htmlResourceUri)return E.error(t),null;n=O.createFiFrame({text:n.htmlResourceUri,isInDapIF:!1})}return n.companion=e,n}}]),e}(),B=x.createElement,P=V.createBeacon,_=O.createFiFrame,I=R.createCompanion;function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){var n=t||{};if(m.a.isNotExist(n.bubbles)&&(n.bubbles=!1),m.a.isNotExist(n.cancelable)&&(n.cancelable=!1),m.a.isNotExist(n.detail)&&(n.detail={}),"CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(e,n);var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),r}n(42);var U=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),T(this,"log",null),T(this,"eventTarget",null),T(this,"eventHandlers",{}),this.log=new p(this.constructor.name),this.eventTarget=document.createDocumentFragment()}var t,n;return t=e,(n=[{key:"clear",value:function(){this.offAll()}},{key:"dispatch",value:function(e,t){2<arguments.length&&void 0!==arguments[2]&&arguments[2]&&this.log.debug("dispatch: ".concat(e,", parameter: ").concat(m.a.toSource(t)));var n=j(e,t);n.cancelDispatch=!1,(n.detail.target=this).eventTarget.dispatchEvent(n)}},{key:"eventListener",value:function(e){e&&e.stopPropagation();var t=e.type,n=null;if(m.a.isFunction(this[t])&&(n=this[t](e)),!e.cancelDispatch){var r={bubbles:e.bubbles,cancelable:e.cancelable,detail:e.detail};this.dispatch(t,r),n&&n instanceof Promise&&n.then(function(e){m.a.isFunction(e)&&e()})}}},{key:"on",value:function(t,n){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(!m.a.isNotExist(t)){var i=m.a.isString(t)?[t]:t,o=!0,a=!1,u=void 0;try{for(var l,s=i[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var c=l.value;c in this.eventHandlers||(this.eventHandlers[c]=[]);var d={type:c,listener:n,useCapture:r};this.eventHandlers[c].push(d),n instanceof e?this.eventTarget.addEventListener(c,function(e){n.eventListener(e)},r):this.eventTarget.addEventListener(c,n,r)}}catch(t){a=!0,u=t}finally{try{o||null==s.return||s.return()}finally{if(a)throw u}}}}},{key:"off",value:function(e){if(!m.a.isNotExist(e)){var t=m.a.isString(e)?[e]:e,n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;if(u in this.eventHandlers){var l=!0,s=!1,c=void 0;try{for(var d,f=this.eventHandlers[u][Symbol.iterator]();!(l=(d=f.next()).done);l=!0){var p=d.value;this.eventTarget.removeEventListener(p.type,p.listener,p.useCapture)}}catch(e){s=!0,c=e}finally{try{l||null==f.return||f.return()}finally{if(s)throw c}}this.eventHandlers[u]=null,delete this.eventHandlers[u]}}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}}},{key:"offAll",value:function(){for(var e=Object.entries(this.eventHandlers),t=0;t<e.length;t++){var n=e[t];this.eventTarget.removeEventListener(n.type,n.listener,n.useCapture)}this.eventHandlers={}}}])&&F(t.prototype,n),e}();function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e,t,n){var r=null,i=new Promise(function(e,i){r=window.setTimeout(function(){var o="timed out in ".concat(t," ms.");n&&(o+=" info = ".concat(n,"."));var a=new Error(o);r?i(a):e()},t)});return Promise.race([e,i]).finally(function(){clearTimeout(r),r=null})}n(146);var M=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),L(this,"_resolve",null),L(this,"_reject",null),L(this,"_promise",null),L(this,"_detail",null),this._detail=t,this._promise=new Promise(function(e,t){n._resolve=e,n._reject=t})}var t,n;return t=e,(n=[{key:"timeout",value:function(e){return D(this.promise,e,this._detail)}},{key:"resolve",get:function(){return this._resolve}},{key:"reject",get:function(){return this._reject}},{key:"promise",get:function(){return this._promise}},{key:"detail",get:function(){return this._detail}}])&&z(t.prototype,n),e}();function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){var t="function"==typeof Map?new Map:void 0;return(H=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return function(e,t,n){return(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Q(i,n.prototype),i}).apply(null,arguments)}(e,arguments,q(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Q(r,e)})(e)}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(147),n(102),n(75);var K="IvtError",G=function(e){function t(e,n){var r,i;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,Y(W(r=!(i=q(t).call(this,e))||"object"!==N(i)&&"function"!=typeof i?W(this):i),"log",null),Y(W(r),"errorCode","0"),r.log=new p(K),r.name=K,m.a.isNotEmpty(n)&&(r.errorCode=n),m.a.isFunction(Error.captureStackTrace)?Error.captureStackTrace(W(r),r.constructor):r.stack=new Error(e).stack,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(t,H(Error)),t}();function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e,t,n){return t&&ne(e.prototype,t),n&&ne(e,n),e}n(58),n(150);var ie=function(){function e(){te(this,e)}return re(e,null,[{key:"all",get:function(){return Object.keys(this).filter(function(e,t){return"all"!==e})}}]),e}(),oe=function(e){function t(){return te(this,t),X(this,J(t).call(this))}return $(t,ie),t}();ee(oe,"SD","SD"),ee(oe,"PC","PC"),ee(oe,"Other","Other");var ae=function(e){function t(){return te(this,t),X(this,J(t).call(this))}return $(t,ie),t}();ee(ae,"Windows","Windows"),ee(ae,"Mac","Mac"),ee(ae,"Android","Android"),ee(ae,"iOS","iOS"),ee(ae,"Other","Other");var ue=function(e){function t(){return te(this,t),X(this,J(t).call(this))}return $(t,ie),t}();ee(ue,"IE","IE"),ee(ue,"Edge","Edge"),ee(ue,"Chrome","Chrome"),ee(ue,"Firefox","Firefox"),ee(ue,"Safari","Safari"),ee(ue,"Other","Other");var le=function(e){function t(){return te(this,t),X(this,J(t).call(this))}return $(t,ie),t}();ee(le,"Video","Video"),ee(le,"Canvas","Canvas");var se=function(e){function t(){return te(this,t),X(this,J(t).call(this))}return $(t,ie),t}();ee(se,"timeout","301"),ee(se,"noAd","303"),ee(se,"linear","400"),ee(se,"linearNotFound","401"),ee(se,"linearTimeout","402"),ee(se,"linearUnsupportedCodecs","403"),ee(se,"undefined","901"),ee(se,"vpaid","901");var ce=function(e){function t(){return te(this,t),X(this,J(t).call(this))}return $(t,ie),t}();ee(ce,"playing",0),ee(ce,"outview",1),ee(ce,"focus",2),ee(ce,"userInteraction",4),ee(ce,"vpaid",8),ee(ce,"pausing",ce.outview|ce.focus|ce.userInteraction|ce.vpaid);var de=function(e){function t(){return te(this,t),X(this,J(t).call(this))}return $(t,ie),t}();ee(de,"didUserVideoClick","didUserVideoClick"),ee(de,"didUserClose","didUserClose"),ee(de,"didUserEnterFullscreen","didUserEnterFullscreen"),ee(de,"didUserOptout","didUserOptout"),ee(de,"didUserResume","didUserResume"),ee(de,"didUserPause","didUserPause"),ee(de,"didUserReplay","didUserReplay"),ee(de,"didUserVolumeChange","didUserVolumeChange"),ee(de,"didUserMute","didUserMute"),ee(de,"didUserUnMute","didUserUnMute"),ee(de,"didUserAcceptInvitation","didUserAcceptInvitation"),ee(de,"didUserCollapse","didUserCollapse");var fe=function(e){function t(){return te(this,t),X(this,J(t).call(this))}return $(t,ie),t}();ee(fe,"didAdStart","didAdStart"),ee(fe,"didAdFinish","didAdFinish"),ee(fe,"didAdError","didAdError"),ee(fe,"didAdImpression","didAdImpression"),ee(fe,"didAdClick","didAdClick"),ee(fe,"didAdOptout","didAdOptout"),ee(fe,"didAdLoad","didAdLoad"),ee(fe,"didAdPause","didAdPause"),ee(fe,"didAdPlay","didAdPlay"),ee(fe,"didAdReplay","didAdReplay"),ee(fe,"didAdSkip","didAdSkip"),ee(fe,"didAdStop","didAdStop"),ee(fe,"didAdClose","didAdClose"),ee(fe,"didAdVolumeChange","didAdVolumeChange"),ee(fe,"didAdMute","didAdMute"),ee(fe,"didAdUnMute","didAdUnMute"),ee(fe,"didAdSizeChange","didAdSizeChange"),ee(fe,"didAdEnterFullscreen","didAdEnterFullscreen"),ee(fe,"didAdExitFullscreen","didAdExitFullscreen"),ee(fe,"didAdVideoProgress","didAdVideoProgress"),ee(fe,"didAdVideoStart","didAdVideoStart"),ee(fe,"didAdVideoViewable","didAdVideoViewable"),ee(fe,"didAdVideoFirstQuartile","didAdVideoFirstQuartile"),ee(fe,"didAdVideoMidpoint","didAdVideoMidpoint"),ee(fe,"didAdVideoThirdQuartile","didAdVideoThirdQuartile"),ee(fe,"didAdVideoComplete","didAdVideoComplete");var pe=function(e){function t(){return te(this,t),X(this,J(t).call(this))}return $(t,ie),t}();ee(pe,"click","click"),ee(pe,"mute","mute"),ee(pe,"unmute","unmute"),ee(pe,"volumeChange","volumeChange"),ee(pe,"pause","pause"),ee(pe,"resume","resume"),ee(pe,"rewind","rewind"),ee(pe,"fullscreen","fullscreen"),ee(pe,"close","close"),ee(pe,"optout","optout"),ee(pe,"acceptInvitation","acceptInvitation"),ee(pe,"collapse","collapse"),ee(pe,"expand","expand");var he=function(e){function t(){return te(this,t),X(this,J(t).call(this))}return $(t,ie),t}();ee(he,"hidden","hidden"),ee(he,"normal","normal"),ee(he,"fullscreen","fullscreen");var ve=function(e){function t(){return te(this,t),X(this,J(t).call(this))}return $(t,ie),t}();ee(ve,"AdError","AdError"),ee(ve,"AdUserInteraction","AdUserInteraction"),ee(ve,"didAdError","didAdError"),ee(ve,"didAdSizeChange","didAdSizeChange"),ee(ve,"willVastRequest","willVastRequest"),ee(ve,"didVastRequest","didVastRequest"),ee(ve,"willAdCreate","willAdCreate"),ee(ve,"didAdCreate","didAdCreate"),ee(ve,"willAdLoad","willAdLoad"),ee(ve,"didAdLoad","didAdLoad"),ee(ve,"willAdUnload","willAdUnload"),ee(ve,"didAdUnload","didAdUnload"),ee(ve,"willAdStart","willAdStart"),ee(ve,"didAdStart","didAdStart"),ee(ve,"willAdStop","willAdStop"),ee(ve,"didAdStop","didAdStop"),ee(ve,"willAdReplay","willAdReplay"),ee(ve,"didAdReplay","didAdReplay"),ee(ve,"willAdPlay","willAdPlay"),ee(ve,"didAdPlay","didAdPlay"),ee(ve,"willAdPause","willAdPause"),ee(ve,"didAdPause","didAdPause"),ee(ve,"willAdClose","willAdClose"),ee(ve,"didAdClose","didAdClose"),ee(ve,"willAdEnterFullscreen","willAdEnterFullscreen"),ee(ve,"didAdEnterFullscreen","didAdEnterFullscreen"),ee(ve,"willAdExitFullscreen","willAdExitFullscreen"),ee(ve,"didAdExitFullscreen","didAdExitFullscreen"),ee(ve,"willAdMute","willAdMute"),ee(ve,"didAdMute","didAdMute"),ee(ve,"willAdUnmute","willAdUnmute"),ee(ve,"didAdUnmute","didAdUnmute"),ee(ve,"willAdVolumeChange","willAdVolumeChange"),ee(ve,"didAdVolumeChange","didAdVolumeChange"),ee(ve,"willAdClick","willAdClick"),ee(ve,"didAdClick","didAdClick"),ee(ve,"willAdOptout","willAdOptout"),ee(ve,"didAdOptout","didAdOptout"),ee(ve,"didVideoCanplay","didVideoCanplay"),ee(ve,"didVideoProgress","didVideoProgress"),ee(ve,"didVideoStart","didVideoStart"),ee(ve,"didVideoFirstQuartile","didVideoFirstQuartile"),ee(ve,"didVideoMidpoint","didVideoMidpoint"),ee(ve,"didVideoThirdQuartile","didVideoThirdQuartile"),ee(ve,"didVideoComplete","didVideoComplete"),ee(ve,"willAdImpression","willAdImpression"),ee(ve,"didAdImpression","didAdImpression"),ee(ve,"willAdViewable","willAdViewable"),ee(ve,"didAdViewable","didAdViewable"),ee(ve,"willAdUpdateLayout","willAdUpdateLayout"),ee(ve,"didAdUpdateLayout","didAdUpdateLayout"),ee(ve,"didUserEnterFullscreen","didUserEnterFullscreen"),ee(ve,"didUserReplay","didUserReplay"),ee(ve,"didUserPlay","didUserPlay"),ee(ve,"didUserPause","didUserPause"),ee(ve,"didUserMute","didUserMute"),ee(ve,"didUserUnmute","didUserUnmute"),ee(ve,"didUserVolumeChange","didUserVolumeChange"),ee(ve,"didUserVideoClick","didUserVideoClick"),ee(ve,"didUserOptout","didUserOptout"),ee(ve,"didUserAcceptInvitation","didUserAcceptInvitation"),ee(ve,"didUserCollapse","didUserCollapse"),ee(ve,"didUserExpand","didUserExpand"),ee(ve,"didUserClose","didUserClose");var ye=function(e){function t(){return te(this,t),X(this,J(t).call(this))}return $(t,ie),re(t,null,[{key:"isRequested",value:function(e){return Boolean(e&this.request)}},{key:"isCreated",value:function(e){return Boolean(e&this.create)}},{key:"isLoaded",value:function(e){return Boolean(e&this.load)}},{key:"isUnloaded",value:function(e){return!this.isLoaded(e)}},{key:"isStarted",value:function(e){return Boolean(e&this.start)}},{key:"isStopped",value:function(e){return!this.isStarted(e)}},{key:"isPlayed",value:function(e){return Boolean(e&this.play)}},{key:"isPaused",value:function(e){return!this.isPlayed(e)}}]),t}();function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}ee(ye,"none",0),ee(ye,"request",1),ee(ye,"create",2),ee(ye,"load",4),ee(ye,"start",8),ee(ye,"play",16);var ge,be,we,Ae=m.a.namespace(),ke=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"isSupport",value:function(){return function(e){var t=ke.osType,n=ke.osVersion,r=ke.browserType,i=ke.browserVersion,o=Boolean(e);switch(t){case ae.Android:return!(n<4.4||r===ue.Chrome&&i<53);case ae.iOS:return!(n<8.3)&&(r===ue.Safari||o);case ae.Windows:return r===ue.Chrome&&50<=i||r===ue.Firefox&&48<=i||(r!==ue.IE?r!==ue.Edge?o:14<=i:11<=i);case ae.Mac:return r===ue.Chrome&&50<=i||r===ue.Firefox&&48<=i||(r!==ue.Safari?o:6.2<=i);default:return o}}(!(0<arguments.length&&void 0!==arguments[0])||arguments[0])}},{key:"browserType",get:function(){var e=Ae(this);return e.browserInfo||(e.browserInfo=Ee(this.userAgent)),e.browserInfo.type}},{key:"browserVersion",get:function(){var e=Ae(this);return e.browserInfo||(e.browserInfo=Ee(this.userAgent)),e.browserInfo.version}},{key:"osType",get:function(){var e=Ae(this);return e.osInfo||(e.osInfo=Ce(this.userAgent)),e.osInfo.type}},{key:"osVersion",get:function(){var e=Ae(this);return e.osInfo||(e.osInfo=Ce(this.userAgent)),e.osInfo.version}},{key:"mediaType",get:function(){var e=Ae(this);return e.mediaType||(e.mediaType=function(){var e=ke.osType,t=ke.osVersion;return e!==ae.iOS?le.Video:t<10?le.Canvas:le.Video}()),e.mediaType}},{key:"deviceType",get:function(){var e=Ae(this);if(!e.deviceType)switch(this.osType){case ae.Windows:case ae.Mac:e.deviceType=oe.PC;break;case ae.iOS:case ae.Android:e.deviceType=oe.SD;break;default:e.deviceType=oe.Other}return e.deviceType}},{key:"isEnabledVideoPlayer",get:function(){return this.mediaType===le.Video}}],null&&me(t.prototype,null),n&&me(t,n),e}();function Se(e,t){var n=e.match(t);return Array.isArray(n)?n[1]:null}function Ee(e){var t=["blackberry","bb10","chromium","gsa","kindle","lunascape","maxthon","netfront","nintendo","opr","opera","palemoon","playstation","puffin","qqbrowser","seamonkey","samsung","silk","sleipnir","ucbrowser","uc browser","ucweb","yabrowser","vivaldi"],n={type:ue.Other,version:0};try{for(var r=e.toLowerCase(),i=0;i<t.length;i++){var o=t[i];if(r.includes(o))return n}if(r.includes("trident/7"))return{type:ue.IE,version:11};if(r.includes("edge")){var a=Number(Se(r,/edge\/(\d+\.?\d*)[\.\d]*\s?/i))||0;return{type:ue.Edge,version:a}}if(r.includes("firefox")){var u=Number(Se(r,/firefox\/(\d+\.?\d*)[\.\d]*\s?/i))||0;return{type:ue.Firefox,version:u}}if(r.includes("chrome")){if(r.includes("version"))return n;var l=Number(Se(r,/chrome\/(\d+\.?\d*)[\.\d]*\s?/i))||0;return{type:ue.Chrome,version:l}}if(r.includes("safari")){if(r.includes("android"))return n;if(r.includes("crios")){var s=Number(Se(r,/crios\/(\d+\.?\d*)[\.\d]*\s?/i))||0;return{type:ue.Chrome,version:s}}if(r.includes("fxios")){var c=Number(Se(r,/fxios\/(\d+\.?\d*)[\.\d]*\s?/i))||0;return{type:ue.Firefox,version:c}}var d=Number(Se(r,/version\/(\d+\.?\d*)[\.\d]*\s?/i))||0;return{type:ue.Safari,version:d}}}catch(e){}return n}function Ce(e){var t={type:ae.Other,version:0};try{var n=e.toLowerCase();if(n.includes("windows phone"))return t;if(n.includes("windows")){var r=Number(Se(n,/windows\snt\s(\d+\.?\d*)[\.\d]*;?/i))||0;return{type:ae.Windows,version:r}}if(n.includes("android")){var i=Number(Se(n,/android\s(\d+\.?\d*)[\.\d]*;?/i))||0;return{type:ae.Android,version:i}}if(n.includes("iphone")||n.includes("ipod")){var o=Se(n,/iphone\sos\s(\d+_?\d*)[_\d]*\s?/i);return o=Number(o.replace("_","."))||0,{type:ae.iOS,version:o}}if(n.includes("ipad")){var a=Se(n,/cpu\sos\s(\d+_?\d*)[_\d]*\s?/i);return a=Number(a.replace("_","."))||0,{type:ae.iOS,version:a}}if(n.includes("macintosh")){var u=Se(n,/mac\sos\sx\s(\d+[_\.]?\d*)[_\.\d]*\s?/i);return u=Number(u.replace("_","."))||0,{type:ae.Mac,version:u}}}catch(e){}return t}ge=ke,be="userAgent",we=window.navigator.userAgent,be in ge?Object.defineProperty(ge,be,{value:we,enumerable:!0,configurable:!0,writable:!0}):ge[be]=we;var xe=ke,Ve=["amazon-adsystem.com"],Oe=n(103),Re=n(104),Be=n(105),Pe=n(106),_e=n(107),Ie=n(108),Fe=n(109),Te=n(110),je=n(111),Ue=n(112),ze=n(113),Le=n(114),De=n(115);function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ne=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};Me(Ne,"defaultAdmarkButtonSrc",Oe),Me(Ne,"defaultCloseButtonSrc",Re),Me(Ne,"defaultDetailButtonSrc",Be),Me(Ne,"defaultFullscreenButtonSrc",Pe),Me(Ne,"defaultLoadingButtonSrc",_e),Me(Ne,"defaultOptoutButtonOnExpandSrc",Ie),Me(Ne,"defaultOptoutButtonSrc",Fe),Me(Ne,"defaultPrButtonSrc",Te),Me(Ne,"defaultReplayButtonSrc",je),Me(Ne,"defaultVolumeOffButtonSrc",Ue),Me(Ne,"defaultVolumeOnButtonSrc",ze),Me(Ne,"inreadVolumeOffButtonSrc",Le),Me(Ne,"inreadVolumeOnButtonSrc",De),Me(Ne,"defaultButtonSize",{width:24,height:24}),Me(Ne,"admarkButtonSize",{width:20,height:20}),Me(Ne,"closeButtonSize",Ne.defaultButtonSize),Me(Ne,"detailButtonSize",Ne.defaultButtonSize),Me(Ne,"fullscreenButtonSize",Ne.defaultButtonSize),Me(Ne,"loadingButtonSize",{width:20,height:20}),Me(Ne,"optoutButtonSize",{width:15,height:15}),Me(Ne,"optoutButtonOnExpandSize",{width:105,height:105}),Me(Ne,"replayButtonSize",Ne.defaultButtonSize),Me(Ne,"volumeButtonSize",Ne.defaultButtonSize),Me(Ne,"billboardDefaultButtonSize",{width:30,height:30}),Me(Ne,"billboardCloseButtonSize",Ne.billboardDefaultButtonSize),Me(Ne,"billboardDetailButtonSize",Ne.billboardDefaultButtonSize),Me(Ne,"billboardFullscreenButtonSize",Ne.billboardDefaultButtonSize),Me(Ne,"billboardLoadingButtonSize",{width:32,height:32}),Me(Ne,"billboardReplayButtonSize",Ne.billboardDefaultButtonSize),Me(Ne,"billboardVolumeButtonSize",Ne.billboardDefaultButtonSize),Me(Ne,"infeedDefaultButtonSize",{width:20,height:20}),Me(Ne,"infeedCloseButtonSize",Ne.infeedDefaultButtonSize),Me(Ne,"infeedDetailButtonSize",Ne.infeedDefaultButtonSize),Me(Ne,"infeedFullscreenButtonSize",Ne.infeedDefaultButtonSize),Me(Ne,"infeedLoadingButtonSize",{width:25,height:25}),Me(Ne,"infeedReplayButtonSize",Ne.infeedDefaultButtonSize),Me(Ne,"infeedVolumeButtonSize",Ne.infeedDefaultButtonSize),Me(Ne,"infeedPrButtonSize",Ne.infeedDefaultButtonSize),Me(Ne,"inreadRTVolumeButtonSize",{width:22,height:22}),Me(Ne,"inreadTimeBarSize",{width:0,height:3}),Me(Ne,"inreadVolumeBarSize",{width:"100%",height:22}),Me(Ne,"inreadVolumeButtonSize",{width:42,height:42}),Me(Ne,"inreadVolumeSliderSize",{width:80,height:3}),Me(Ne,"containerCloseButtonSize",{width:29,height:29}),Me(Ne,"defaultContainerZIndex","50"),Me(Ne,"defaultDialogZIndex","5000000"),Me(Ne,"defaultWipePotision",{top:"auto",bottom:"20px",left:"auto",right:"20px"});var We=Ne;function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Qe(this,"urls",[]),Qe(this,"adContainers",[]),Qe(this,"noCloseButton",!1),Qe(this,"noFullscreenButton",!1),Qe(this,"noVolumeButton",!0),Qe(this,"noReplayButton",!1),Qe(this,"noDetailButton",!1),Qe(this,"noButton",!1),Qe(this,"admark",!1),Qe(this,"optout",!1),Qe(this,"interface","sva"),Qe(this,"infeedStyle",{}),Qe(this,"targetElement",null),Qe(this,"impressionOffset",1),Qe(this,"viewableOffset",2),Qe(this,"inviewPercentage",50),Qe(this,"autoCloseDuration",NaN),Qe(this,"autoReplayTimes",0),Qe(this,"fullscreenOnAdClick",!1),Qe(this,"outviewSkip",!1),Qe(this,"noSlideDown",!1),Qe(this,"wrapperWidth",null),Qe(this,"wrapperHeight",null),Qe(this,"contentHeaderHeight",null),Qe(this,"contentFooterHeight",null),Qe(this,"tomeSize",{width:640,height:360}),Qe(this,"companionSize",{width:300,height:82}),Qe(this,"leftCompanionSize",{width:263,height:250}),Qe(this,"rightCompanionSize",{width:263,height:250}),Qe(this,"reminderSize",{width:300,height:50}),Qe(this,"headerSize",{width:640,height:60}),Qe(this,"passbackIframe",!0),Qe(this,"passbackIframeSize",{width:300,height:250}),Qe(this,"multiVastTimeout",1e3),Qe(this,"headerImgUrl",""),Qe(this,"underBlankLine",!1),Qe(this,"unsupportedBrowsers",!0),Qe(this,"wrapperBorder",!1),Qe(this,"eventCallback",null),Qe(this,"debug",!1),Qe(this,"isEnabledInviewCheck",null),Qe(this,"isInlineVideoSupport",!0),Qe(this,"isTextReminder",!1),Qe(this,"backgroundColor","rgb(0, 0, 0)"),Qe(this,"type","normal"),Qe(this,"iosCanvas",!1),Qe(this,"player",null),Qe(this,"wrapperAutoTateyoko",!1),this.setup(t)}var t,n;return t=e,(n=[{key:"setup",value:function(e){var t,n=e.target,r=e.dataset;if(!r)throw new Error("[".concat(this.constructor.name,"]: setup failed: Not declared dataset."));this.id=r.id||"",this.urls=r.urls||function(e){if(e.url)return[e.url];if(e.n&&e.c&&e.d&&e.s){var t="http://axp.zedo.com/asw/fnsr.vast?";return t+="n="+e.n+"&",t+="c="+e.c+"&",t+="d="+e.d+"&",t+="s="+e.s+"&",[t+="v=vast2&z="+1e3*Math.random()]}return null}(r)||this.urls,m.a.isNotEmpty(r.adContainers)&&(this.adContainers=m.a.deepCloneArray(r.adContainers));var i=m.a.toDecimalString(r.wrapperWidth,null,"%");if(m.a.isNotEmpty(i)&&(this.wrapperWidth=i),null===(t=r.wrapperHeight)||void 0===t?void 0:t.includes("auto"))this.wrapperHeight="auto";else{var o=m.a.toDecimalString(r.wrapperHeight,null,"%");m.a.isNotEmpty(o)&&(this.wrapperHeight=o)}var a=parseInt(r.wrapperZindex,10);isFinite(a)&&(this.wrapperZindex=a);var u=parseInt(r.contentHeaderHeight,10);isFinite(u)&&(this.contentHeaderHeight=u);var l=parseInt(r.contentFooterHeight,10);isFinite(l)&&(this.contentFooterHeight=l),this.noButton=m.a.isNotEmpty(r.noButton)?m.a.toBool(r.noButton):this.noButton,this.noButton?(this.noCloseButton=!0,this.noFullscreenButton=!0,this.noVolumeButton=!0,this.noReplayButton=!0,this.noDetailButton=!0):(this.noCloseButton=m.a.isNotEmpty(r.noCloseButton)?m.a.toBool(r.noCloseButton):this.noCloseButton,this.noFullscreenButton=m.a.isNotEmpty(r.noFullscreenButton)?m.a.toBool(r.noFullscreenButton):this.noFullscreenButton,this.noVolumeButton=m.a.isNotEmpty(r.noVolumeButton)?m.a.toBool(r.noVolumeButton):this.noVolumeButton,this.noReplayButton=m.a.isNotEmpty(r.noReplayButton)?m.a.toBool(r.noReplayButton):this.noReplayButton,this.noDetailButton=m.a.isNotEmpty(r.noDetailButton)?m.a.toBool(r.noDetailButton):this.noDetailButton),m.a.isNotEmpty(r.adMark)&&(this.admark=m.a.toBool(r.adMark)),m.a.isNotEmpty(r.optout)&&(this.optout=m.a.toBool(r.optout)),"blank"!==r.interface&&"billboard"!==r.interface&&"infeed"!==r.interface&&"inread"!==r.interface&&"sva"!==r.interface||(this.interface=r.interface),this.infeedStyle=m.a.isNotEmpty(r.infeedStyle)?m.a.deepClone(r.infeedStyle):this.infeedStyle;var s=m.a.toDecimalString(r.areaNumber)||1,c=null;m.a.isNotEmpty(r.areaSelector)&&(c=document.getElementById(r.areaSelector)),m.a.isNotEmpty(r.areaSelectorByClassName)&&(c=document.getElementsByClassName(r.areaSelectorByClassName)[0]),m.a.isNotEmpty(c)?this.targetElement=c.children[s-1]:this.targetElement=n;var d=parseFloat(r.impressionOffset);0<=d&&(this.impressionOffset=d);var f=parseFloat(r.inviewPercentage);0<=f&&(this.inviewPercentage=f);var p=parseFloat(r.autoCloseDuration);0<=p&&(this.autoCloseDuration=p);var h=parseFloat(r.autoReplayTimes);0<=h&&(this.autoReplayTimes=h),this.fullscreenOnAdClick=m.a.isNotEmpty(r.fullscreenOnAdClick)?m.a.toBool(r.fullscreenOnAdClick):this.fullscreenOnAdClick,this.outviewSkip=m.a.isNotEmpty(r.outviewSkip)?m.a.toBool(r.outviewSkip):this.outviewSkip,this.noSlideDown=m.a.isNotEmpty(r.noSlideDown)?m.a.toBool(r.noSlideDown):this.noSlideDown,this.wrapperAutoTateyoko=m.a.isNotEmpty(r.wrapperAutoTateyoko)?m.a.toBool(r.wrapperAutoTateyoko):this.wrapperAutoTateyoko,this.tomeSize=m.a.stringToSize(r.tomeSize)||this.tomeSize,this.companionSize=m.a.stringToSize(r.companionSize)||this.companionSize,this.leftCompanionSize=m.a.stringToSize(r.leftCompanionSize)||this.leftCompanionSize,this.rightCompanionSize=m.a.stringToSize(r.rightCompanionSize)||this.rightCompanionSize,this.reminderSize=m.a.stringToSize(r.reminderSize)||this.reminderSize,this.headerSize=m.a.stringToSize(r.headerSize)||this.headerSize,m.a.isNotEmpty(r.passbackIframe)&&(this.passbackIframe=m.a.toBool(r.passbackIframe));var v=m.a.stringToSize(r.passbackIframeSize,{width:r.passbackIframeWidth,height:r.passbackIframeHeight});v&&((0<=parseInt(v.width,10)||"auto"===v.width)&&(this.passbackIframeSize.width=v.width),(0<=parseInt(v.height,10)||"auto"===v.height)&&(this.passbackIframeSize.height=v.height)),this.multiVastTimeout=parseInt(r.multiVastTimeout,10)||this.multiVastTimeout,this.headerImgUrl=r.headerImgUrl||this.headerImgUrl,this.underBlankLine=m.a.isNotEmpty(r.underBlankLine)?m.a.toBool(r.underBlankLine):this.underBlankLine,m.a.isNotEmpty(r.unsupportedBrowsers)&&(this.unsupportedBrowsers=m.a.toBool(r.unsupportedBrowsers)),this.wrapperBorder=m.a.isNotEmpty(r.wrapperBorder)?m.a.toBool(r.wrapperBorder):this.wrapperBorder,this.eventCallback=m.a.isFunction(r.eventCallback)?r.eventCallback:this.eventCallback,m.a.isNotEmpty(r.isEnabledInviewCheck)&&(this.isEnabledInviewCheck=m.a.toBool(r.isEnabledInviewCheck)),m.a.isNotEmpty(r.isInlineVideoSupport)&&(this.isInlineVideoSupport=m.a.toBool(r.isInlineVideoSupport)),m.a.isNotEmpty(r.isTextReminder)&&(this.isTextReminder=m.a.toBool(r.isTextReminder));var y=r.adEventTimeout;if(m.a.isNotEmpty(y)){var g=parseFloat(y);this.adEventTimeout=0<g?g:m.a.deepClone(r.adEventTimeout)}return this.type=function(e){return m.a.toBool(e.adhesion)?"adhesion":m.a.toBool(e.interstitial)?"interstitial":m.a.toBool(e.overlay)?"overlay":m.a.toBool(e.wipe)?"wipe":"normal"}(r),this.debug=m.a.isNotEmpty(r.debug)?m.a.toBool(r.debug):this.debug,this}}])&&He(t.prototype,n),e}(),Ye=y;function Ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xe(e,t,n){return(Xe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Je(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Je(e){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function et(e,t,n){return t&&$e(e.prototype,t),n&&$e(e,n),e}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(151);var rt=function(e){function t(){var e,n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,nt(Ze(e=!(n=Je(t).call(this))||"object"!==Ge(n)&&"function"!=typeof n?Ze(this):n),"param",null),nt(Ze(e),"element",null),nt(Ze(e),"delegate",null),nt(Ze(e),"_lastSize",{width:0,height:0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tt(e,t)}(t,o.IvtEventTarget),et(t,[{key:"isClass",get:function(){return!0}}]),et(t,[{key:"setup",value:function(e,t){var n=this;return this.createParam(t),this.createElement(e),this.element.on("click",function(e){n.clicked(e)}),this.element.on("mouseover",function(e){n.onMouseover(e)}),this.element.on("mouseout",function(e){n.onMouseout(e)}),this}},{key:"createParam",value:function(e){this.param=function(e){var t=[].concat(e,{style:{margin:"0 auto",visibility:"visible",overflow:"hidden"},option:{layout:"",sources:{}}}).reverse(),n=m.a.deepMerge.apply(void 0,t);return n.style.top||n.style.bottom||n.style.left||n.style.right||(n.style.top=n.option.top,n.style.bottom=n.option.bottom,n.style.left=n.option.left,n.style.right=n.option.right),n.style.top||n.style.bottom||n.style.left||n.style.right||(n.option.layout.includes("contain")?n.style.top=n.style.bottom=n.style.left=n.style.right=0:(n.option.layout.includes("top")&&(n.style.top=0),n.option.layout.includes("bottom")&&(n.style.bottom=0),n.option.layout.includes("left")&&(n.style.left=0),n.option.layout.includes("right")&&(n.style.right=0))),n.option.size&&(n.size=n.option.size),n.style.width&&(n.size=n.size||{},n.size.width=n.style.width),n.style.height&&(n.size=n.size||{},n.size.height=n.style.height),n.size&&(m.a.isEmpty(n.size.width)||m.a.isEmpty(n.size.height))&&(n.size=null),m.a.isEmpty(n.sources)&&(n.sources=n.option.sources),n}(e)}},{key:"createElement",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div";this.element=this.createNode(i.createElement,e,this.param)}},{key:"createNode",value:function(e,t,n){return function(e,t,n){for(var r=e(t),i=Object.entries(n),o=0;o<i.length;o++){var a=Ke(i[o],2),u=a[0],l=a[1];switch(u){case"attributes":for(var s=Object.entries(l),c=0;c<s.length;c++){var d=Ke(s[c],2),f=d[0],p=d[1];r.setAttribute(f,p)}break;case"dataset":case"style":for(var h=Object.entries(l),v=0;v<h.length;v++){var y=Ke(h[v],2),g=y[0],b=y[1];r[u][g]=b}break;case"sources":var w=r.src||l.normal;w&&(r.src=w);break;default:if(m.a.isFunction(l)){var A=u;u.startsWith("on")&&(A=A.toLowerCase().replace(/^on/,"")),r.on(A,l)}else r[u]=l}}return r}(e,t,n)}},{key:"clear",value:function(){var e,n,r=this.delegate;null===(e=this.element)||void 0===e||e.clear(),this.element=null,this.param=null,this.delegate=null,Xe(Je(t.prototype),"clear",this).call(this),null==r||null===(n=r.onViewUnload)||void 0===n||n.call(r)}},{key:"show",value:function(){var e;null===(e=this.element)||void 0===e||e.show()}},{key:"hide",value:function(){var e;null===(e=this.element)||void 0===e||e.hide()}},{key:"fadein",value:function(){var e;return null===(e=this.element)||void 0===e?void 0:e.fadein()}},{key:"fadeout",value:function(){var e;return null===(e=this.element)||void 0===e?void 0:e.fadeout()}},{key:"resize",value:function(e){}},{key:"updateLayout",value:function(){return null}},{key:"appendView",value:function(e){var t,n=null==e?void 0:e.element;n&&(null===(t=this.element)||void 0===t||t.appendChild(n))}},{key:"removeView",value:function(e){var t,n=null==e?void 0:e.element;n&&(null===(t=this.element)||void 0===t||t.removeChild(n))}},{key:"removeFromParent",value:function(){var e,t;null===(e=this.element)||void 0===e||null===(t=e.parentElement)||void 0===t||t.removeChild(this.element)}},{key:"isInview",value:function(e,t,n){var r=t||0,i=n||0;return(isFinite(e)?e:0)<=this.inviewPercentage(r,i)}},{key:"inviewPercentage",value:function(e,t){return this.element?this.element.inviewPercentage(e,t):0}},{key:"clicked",value:function(e){e.stopPropagation(),this.log.debug("onClick"),this.onClick()}},{key:"onClick",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onViewClick)||void 0===t||t.call(e,this)}},{key:"onMouseover",value:function(e){this.param.sources.mouseover&&(this.element.src=this.param.sources.mouseover)}},{key:"onMouseout",value:function(e){this.param.sources.mouseout&&(this.element.src=this.param.sources.mouseout)}},{key:"isHidden",get:function(){return!this.element||this.element.isHidden},set:function(e){this.element&&(this.element.isHidden=e)}},{key:"size",get:function(){return this.element?this.element.size:null}},{key:"style",get:function(){return this.element?this.element.style:null}},{key:"parentWidth",get:function(){var e,t=0,n=null===(e=this.element)||void 0===e?void 0:e.parentElement;return n&&"fixed"!==window.getComputedStyle(this.element).position&&(t=n.offsetWidth),0<t||(t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0),t}}]),t}();function it(e){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ot(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function at(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){ot(o,r,i,a,u,"next",e)}function u(e){ot(o,r,i,a,u,"throw",e)}a(void 0)})}}function ut(e,t){return!t||"object"!==it(t)&&"function"!=typeof t?lt(e):t}function lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function st(e,t,n){return(st="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ct(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ht(e,t,n){return t&&pt(e.prototype,t),n&&pt(e,n),e}function vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yt=We.defaultDialogZIndex,mt=function(){function e(t){ft(this,e),vt(this,"element",null),vt(this,"resolve",null),vt(this,"reject",null),vt(this,"timeoutID",null),vt(this,"bindedTransitionEnd",null),this.element=t,this.bindedTransitionEnd=this.transitionEnd.bind(this),this.element.addEventListener("transitionend",this.bindedTransitionEnd,!1)}return ht(e,[{key:"clear",value:function(){var e;this.resetHandler(),null===(e=this.element)||void 0===e||e.removeEventListener("transitionend",this.bindedTransitionEnd,!1),this.element=null,this.bindedTransitionEnd=null}},{key:"on",value:function(){var t=this;return this.cancelTransition(),new Promise(function(n,r){t.resolve=n,t.reject=r;var i=t.element,o=window.getComputedStyle(i).transitionDuration,a=m.a.cssTimeStringToMillisecondsNumber(o,0);if(0<a){var u=a+e.offsetDuration;t.timeoutID=window.setTimeout(function(){t.cancelTransition()},u)}else t.finishTransition()})}},{key:"off",value:function(){this.cancelTransition()}},{key:"transitionEnd",value:function(e){this.finishTransition()}},{key:"finishTransition",value:function(){var e=this.resolve;this.resetHandler(),null==e||e(!0)}},{key:"cancelTransition",value:function(){var e=this.resolve;this.resetHandler(),null==e||e(!1)}},{key:"resetHandler",value:function(){window.clearTimeout(this.timeoutID),this.resolve=null,this.reject=null}}]),e}();vt(mt,"offsetDuration",100);var gt=function(e){function t(){var e;return ft(this,t),vt(lt(e=ut(this,ct(t).call(this))),"id",""),vt(lt(e),"isInviewStatus",!1),vt(lt(e),"displayStatus",null),vt(lt(e),"adView",null),vt(lt(e),"_isLoaded",!1),vt(lt(e),"_styleElement",null),vt(lt(e),"_transitionFinish",null),e}var n,r,i,o;return dt(t,rt),ht(t,[{key:"setup",value:function(e){var n=e||{},r=n.id,i=n.adView,o=n.attributes;return o.id=r,st(ct(t.prototype),"setup",this).call(this,"div",o),this.id=r,this.adView=i,this._transitionFinish=new mt(this.element),this._isLoaded=!1,this.adView&&this.appendView(this.adView),this.element.style.padding="",this}},{key:"clear",value:function(){var e,n,r;this.id=null,this.isInviewStatus=null,(this.displayStatus=null)===(e=this.adView)||void 0===e||e.clear(),(this.adView=null)===(n=this._transitionFinish)||void 0===n||n.clear(),this._transitionFinish=null,this._styleElement&&(null===(r=this._styleElement.parentElement)||void 0===r||r.removeChild(this._styleElement),this._styleElement=null),this._isLoaded=!1,st(ct(t.prototype),"clear",this).call(this)}},{key:"load",value:(o=at(regeneratorRuntime.mark(function e(){var t,n,r,i,o,a,u,l,s,c,d,f,p,h,v,y,g,b,w;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._isLoaded)return e.abrupt("return");e.next=2;break;case 2:this._isLoaded=!0,u=this.config,l=this.element,s=u.width,c=u.height,l.style.width=s,l.style.height=c,this.adView.updateLayout(),/auto/.test(c)&&(c=this.adView.element.scrollHeight,d=parseInt(this.adView.element.style.borderTopWidth,10),f=parseInt(this.adView.element.style.borderBottomWidth,10),c+=(d=0<d?d:0)+(f=0<f?f:0),/%|vw/.test(s)&&(p=this.parentWidth,h=Number(c/p*100).toFixed(2),c=h+"%")),l.style.width="",l.style.height="",du.configStore.initCss(u,s,c),v=bt(this),m.a.isEmpty(v.sheet.rules)&&((null===(y=u.cssRules)||void 0===y?void 0:y.disappear)&&v.sheet.insertRule(u.cssRules.disappear.style,0),(null===(g=u.cssRules)||void 0===g?void 0:g.appear)&&v.sheet.insertRule(u.cssRules.appear.style,0),(null===(b=u.cssRules)||void 0===b?void 0:b.load)&&v.sheet.insertRule(u.cssRules.load.style,0),(null===(w=u.cssRules)||void 0===w?void 0:w.base)&&v.sheet.insertRule(u.cssRules.base.style,0)),(null===(t=u.cssRules)||void 0===t?void 0:null===(n=t.base)||void 0===n?void 0:n.selector)&&l.classList.add(u.cssRules.base.selector),(null===(r=u.cssRules)||void 0===r?void 0:null===(i=r.load)||void 0===i?void 0:i.selector)&&l.classList.add(u.cssRules.load.selector),l.getBoundingClientRect(),"shouldAppear"===this.displayStatus&&(null===(o=u.cssRules)||void 0===o?void 0:o.appear)?this.appear():"shouldDisappear"===this.displayStatus&&(null===(a=u.cssRules)||void 0===a?void 0:a.disappear)&&this.disappear();case 20:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"unload",value:(i=at(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.element)||void 0===t?void 0:t.fadeout();case 2:this.clear();case 3:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"appear",value:(r=at(regeneratorRuntime.mark(function e(){var t,n,r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.config,i=this.element,null===(t=r.cssRules)||void 0===t?void 0:t.appear){e.next=5;break}return this.displayStatus="shouldAppear",e.abrupt("return",!1);case 5:if("willAppear"===this.displayStatus||"didAppear"===this.displayStatus)return this.log.debug("appear(); willAppear||didAppear."),e.abrupt("return",!1);e.next=10;break;case 10:this.log.debug("appear(); not willAppear||didAppear. displayStatus: ".concat(this.displayStatus)),this.displayStatus="willAppear";case 12:return(null===(n=r.cssRules)||void 0===n?void 0:n.appear)&&(i.classList.remove(null===(o=r.cssRules.load)||void 0===o?void 0:o.selector),i.classList.remove(null===(a=r.cssRules.disappear)||void 0===a?void 0:a.selector),i.classList.add(r.cssRules.appear.selector)),e.next=15,this._transitionFinish.on();case 15:return e.sent,this.displayStatus="didAppear",this.log.debug("appear(); transitionFinish."),e.abrupt("return",!0);case 19:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"disappear",value:(n=at(regeneratorRuntime.mark(function e(){var t,n,r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.config,i=this.element,null===(t=r.cssRules)||void 0===t?void 0:t.disappear){e.next=5;break}return this.displayStatus="shouldDisappear",e.abrupt("return",!1);case 5:if("willDisappear"===this.displayStatus||"didDisappear"===this.displayStatus)return e.abrupt("return",!1);e.next=9;break;case 9:this.displayStatus="willDisappear";case 10:return(null===(n=r.cssRules)||void 0===n?void 0:n.disappear)&&(i.classList.remove(null===(o=r.cssRules.load)||void 0===o?void 0:o.selector),i.classList.remove(null===(a=r.cssRules.appear)||void 0===a?void 0:a.selector),i.classList.add(r.cssRules.disappear.selector)),e.next=13,this._transitionFinish.on();case 13:return e.sent,this.displayStatus="didDisappear",e.abrupt("return",!0);case 16:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"updateInviewStatus",value:function(e){var t,n,r=this.config.inviewPercentage,i=this.config.contentHeaderHeight,o=this.config.contentFooterHeight,a=this.isInview(r,i,o);return a===this.isInviewStatus?a:(a?(this.isInviewStatus=!0,null===(t=this.delegate)||void 0===t||t.onContainerInview()):(this.isInviewStatus=!1,null===(n=this.delegate)||void 0===n||n.onContainerOutview()),a)}},{key:"config",get:function(){return du.getConfig(this.id)}}]),t}();function bt(e){var t=e;if(!t._styleElement){var n=document.createElement("style");n.type="text/css",n.appendChild(document.createTextNode("")),t.element.insertBefore(n,t.element.firstChild),t._styleElement=n}return t._styleElement}var wt=function(e){function t(){return ft(this,t),ut(this,ct(t).call(this))}var n,r,i;return dt(t,gt),ht(t,[{key:"setup",value:function(e){var n=e||{},r=n.attributes||{},i=m.a.deepMerge({},{className:"dac-ivt-root-container",style:{position:"relative",margin:"auto",overflow:"hidden"}},r);return n.attributes=i,st(ct(t.prototype),"setup",this).call(this,n),this}},{key:"load",value:(i=at(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}},e)})),function(){return i.apply(this,arguments)})},{key:"appear",value:(r=at(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)})},{key:"disappear",value:(n=at(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})}]),t}(),At=function(e){function t(){return ft(this,t),ut(this,ct(t).call(this))}return dt(t,gt),ht(t,[{key:"setup",value:function(e){var n=e||{},r=n.attributes||{},i=m.a.deepMerge({},{className:"dac-ivt-normal-container",style:{position:"relative",margin:"auto",overflow:"hidden"}},r);return n.attributes=i,st(ct(t.prototype),"setup",this).call(this,n),this}}]),t}(),kt=function(e){function t(){return ft(this,t),ut(this,ct(t).call(this))}return dt(t,gt),ht(t,[{key:"setup",value:function(e){var n=e||{},r=n.attributes||{},i=m.a.deepMerge({},{attributes:{className:"dac-ivt-interstitial-container"},style:{position:"absolute",top:"50%",bottom:"",left:"50%",right:"",webkitTransform:"translate(-50%,-50%)",transform:"translate(-50%,-50%)",zIndex:"0"}},r);n.attributes=i,st(ct(t.prototype),"setup",this).call(this,n);var o=this.config,a=du.adContainerStore.rootAdContainer.view.element;return a.style.position="fixed",a.style.top="0px",a.style.bottom="",a.style.left="0px",a.style.right="",a.style.width="100vw",a.style.height="100vh",a.style.backgroundColor="rgba(0, 0, 0, 0.8)",a.style.zIndex=m.a.exist(o.zIndex,yt),this}}]),t}(),St=function(e){function t(){var e;return ft(this,t),vt(lt(e=ut(this,ct(t).call(this))),"_safeframe",null),e._safeframe=m.a.safeFrame,e}return dt(t,gt),ht(t,[{key:"setup",value:function(e){var n=e||{},r=du.getConfig(n.id);if(this._safeframe){var i=this._safeframe,o=parseInt((null==r?void 0:r.height)||0,10),a=i.ext.geom(),u=a.exp;i.ext.register(a.self.w,a.self.h,function(){});var l={push:!1};l.l=Math.min(a.self.l,u.l),l.r=Math.min(a.win.w-a.self.w,u.r),l.b=Math.min(o-a.self.h,u.b),i.ext.expand(l),n.attributes=null,st(ct(t.prototype),"setup",this).call(this,n)}else{var s=m.a.exist(null==r?void 0:r.contentHeaderHeight,0),c={className:"dac-ivt-adhesion-container",style:{position:"fixed",top:"".concat(s,"px"),left:"50%",right:"50%",marginLeft:"-50vw",marginRight:"-50vw",backgroundColor:"#000"}},d=n.attributes||{},f=m.a.deepMerge({},c,d);n.attributes=f,st(ct(t.prototype),"setup",this).call(this,n)}var p=this.adView;return p.style.width=r.width,p.style.height=r.height,du.configStore.setSize(r,{width:"100vw"}),this}},{key:"clear",value:function(){var e;null===(e=this._safeframe)||void 0===e||e.ext.collapse(),this._safeframe=null,st(ct(t.prototype),"clear",this).call(this)}}]),t}(),Et=function(e){function t(){return ft(this,t),ut(this,ct(t).call(this))}return dt(t,gt),ht(t,[{key:"setup",value:function(e){var n=e||{},r=du.getConfig(n.id),i=m.a.exist(null==r?void 0:r.contentFooterHeight,0),o={className:"dac-ivt-overlay-container",style:{position:"fixed",bottom:"".concat(i,"px"),left:"50%",right:"50%",marginLeft:"-50vw",marginRight:"-50vw",backgroundColor:"#000"}},a=n.attributes||{},u=m.a.deepMerge({},o,a);n.attributes=u,st(ct(t.prototype),"setup",this).call(this,n);var l=this.adView;return l.style.width=r.width,l.style.height=r.height,du.configStore.setSize(r,{width:"100vw"}),this}}]),t}(),Ct=function(e){function t(){return ft(this,t),ut(this,ct(t).call(this))}return dt(t,gt),ht(t,[{key:"setup",value:function(e){var n=e||{},r=n.attributes||{},i=m.a.deepMerge({},{className:"dac-ivt-wipe-container",style:{position:"fixed"}},r);return n.attributes=i,st(ct(t.prototype),"setup",this).call(this,n),this}}]),t}();function xt(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function Vt(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){xt(o,r,i,a,u,"next",e)}function u(e){xt(o,r,i,a,u,"throw",e)}a(void 0)})}}function Ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Rt=new p("AdStore");function Bt(e,t){return function(){return Vt(regeneratorRuntime.mark(function e(t,n){var r,i,o,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=2<u.length&&void 0!==u[2]?u[2]:null,e.prev=1,i=Promise.all(t.map(function(e){return e(n)})),0<r)return e.next=6,a.timeout(i,r);e.next=10;break;case 6:return o=e.sent,e.abrupt("return",o);case 10:return e.next=12,i;case 12:return e.abrupt("return",e.sent);case 13:e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(1),Rt.debug("_notify(nmae: ".concat(null==n?void 0:n.name,", ); error = '").concat(null===e.t0||void 0===e.t0?void 0:e.t0.message,"'.")),e.t0;case 19:case"end":return e.stop()}},e,null,[[1,15]])})).apply(this,arguments)}.apply(this,arguments)}function Pt(e){var t,n=null===(t=du.option)||void 0===t?void 0:t.adEventTimeout,r=n;return 0<r?r:0<(r=null==n?void 0:n[e])?r:0<(r=null==n?void 0:n.base)?r:null}var _t=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.listeners=[],this.isFullscreened=!1,this.isMuted=!0,this.volume=0,this.status=ye.none,this.lastEvent="none",this._replayTimes=0,this._isEnded=!0,this._vast=null,this.pausedReason=0}var t,n,r,i,o,a,u,l,s,c,d,f;return t=e,n=[{key:"clear",value:function(){this.listeners=[],this.isFullscreened=!1,this.isMuted=!0,this.volume=0,this.status=ye.none,this.lastEvent="none",this._replayTimes=0,this._isEnded=!0,this._vast=null,this.pausedReason=0}},{key:"addObsever",value:function(e){this.listeners.indexOf(e)<0&&this.listeners.push(e)}},{key:"removeObsever",value:function(e){this.listeners=this.listeners.filter(function(t){return t!==e})}},{key:"addPausedReason",value:function(e){this.pausedReason=m.a.addFlag(this.pausedReason,e)}},{key:"removePausedReason",value:function(e){this.pausedReason=m.a.removeFlag(this.pausedReason,e)}},{key:"isPausedReason",value:function(e){return m.a.isFlag(this.pausedReason,e)}},{key:"setLastEvent",value:(f=Vt(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:"lastEvent",oldValue:null,newValue:t},this.lastEvent=m.a.deepClone(t),r=t.name,i=Pt(r),e.next=6,Bt(this.listeners,n,i);case 6:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"addState",value:(d=Vt(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._setState(m.a.addFlag(this.status,t));case 2:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})},{key:"removeState",value:(c=Vt(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._setState(m.a.removeFlag(this.status,t));case 2:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"isState",value:(s=Vt(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isFlag(status,t);case 2:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"_setState",value:(l=Vt(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:"status",oldValue:this.status,newValue:t},this.status=t,e.next=4,Bt(this.listeners,n);case 4:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"setIsMuted",value:(u=Vt(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:"isMuted",oldValue:this.isMuted,newValue:t},this.isMuted=t,e.next=4,Bt(this.listeners,n);case 4:case"end":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"setVolume",value:(a=Vt(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:"volume",oldValue:this.volume,newValue:t},this.volume=t,e.next=4,Bt(this.listeners,n);case 4:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"setIsFullscreened",value:(o=Vt(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:"isFullscreened",oldValue:this.isFullscreened,newValue:t},this.isFullscreened=t,e.next=4,Bt(this.listeners,n);case 4:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"setIsEnded",value:function(e){this._isEnded=e}},{key:"setVast",value:function(e){this._vast=e}},{key:"incrementReplayTimes",value:function(){this._replayTimes+=1}},{key:"isStarted",get:function(){return ye.isStarted(this.status)}},{key:"isStopped",get:function(){return ye.isStopped(this.status)}},{key:"isPlayed",get:function(){return ye.isPlayed(this.status)}},{key:"isPaused",get:function(){return ye.isPaused(this.status)}},{key:"isEmptyPausedReason",get:function(){return 0===this.pausedReason}},{key:"isEnded",get:function(){return this._isEnded}},{key:"vast",get:function(){return this._vast}},{key:"replayTimes",get:function(){return this._replayTimes}}],r=[{key:"changed",value:(i=Vt(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("lastEvent"===n.name)return a=null===(r=n.newValue)||void 0===r?void 0:r.name,e.next=4,null===(i=t[a])||void 0===i?void 0:i.call(t,null===(o=n.newValue)||void 0===o?void 0:o.detail);e.next=5;break;case 4:return e.abrupt("return",e.sent);case 5:if("status"===n.name)return null===(u=n.newValue)||void 0===u||u.name,e.next=9,null===(l=t.didAdStatusChange)||void 0===l?void 0:l.call(t,n.newValue,n.oldValue);e.next=10;break;case 9:return e.abrupt("return",e.sent);case 10:return e.abrupt("return",Promise.resolve());case 11:case"end":return e.stop()}},e)})),function(e,t){return i.apply(this,arguments)})}],n&&Ot(t.prototype,n),r&&Ot(t,r),e}();function It(e){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function Tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ut(e,t,n){return(Ut="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zt(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function zt(e){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lt(e,t){return(Lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mt=m.a.namespace(),Nt=function(e){function t(){var e,n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,Dt(jt(e=!(n=zt(t).call(this))||"object"!==It(n)&&"function"!=typeof n?jt(this):n),"view",null),Dt(jt(e),"isDidLoad",!1),Dt(jt(e),"_adStoreChangedFunc",null),e.log.debug("constructor();"),e._adStoreChangedFunc=_t.changed.bind(null,jt(e)),du.adStore.addObsever(e._adStoreChangedFunc),e}var n,i,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lt(e,t)}(t,o.IvtEventTarget),n=t,(i=[{key:"setup",value:function(e){this.log.debug("setup(parameter: ".concat(e,");"));var t=(e||{}).view;if(m.a.isEmpty(t))throw new Error("setup failed: Not declared view.");return t.delegate=this,Mt(this).size=new r.IvtSize("100%","100%"),this.view=t,this}},{key:"clear",value:function(){var e;this.log.debug("clear();"),du.adStore.removeObsever(this._adStoreChangedFunc),this._adStoreChangedFunc=null,(Mt(this).size=null)===(e=this.view)||void 0===e||e.clear(),this.view=null,Ut(zt(t.prototype),"clear",this).call(this)}},{key:"updateLayout",value:function(){var e;this.log.debug("updateLayout();"),null===(e=this.view)||void 0===e||e.resize(this.size)}},{key:"willAdResize",value:(a=regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.log.debug("resize(width: ".concat(t.width,", height: ").concat(t.height,");")),null===(n=this.view)||void 0===n||n.resize(this.size),e.abrupt("return",Promise.resolve());case 3:case"end":return e.stop()}},e,this)}),u=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=a.apply(e,t);function o(e){Ft(i,n,r,o,u,"next",e)}function u(e){Ft(i,n,r,o,u,"throw",e)}o(void 0)})},function(e){return u.apply(this,arguments)})},{key:"onViewClick",value:function(e){this.log.debug("onViewClick.")}},{key:"size",get:function(){return Mt(this).size.clone()},set:function(e){Mt(this).size=e}}])&&Tt(n.prototype,i),t}();function Wt(e){return(Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ht(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function Qt(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){Ht(o,r,i,a,u,"next",e)}function u(e){Ht(o,r,i,a,u,"throw",e)}a(void 0)})}}function qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kt(e,t,n){return(Kt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Gt(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Gt(e){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zt(e,t){return(Zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xt=function(e){function t(){var e,n,i;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,e=!(n=Gt(t).call(this))||"object"!==Wt(n)&&"function"!=typeof n?Yt(this):n,"","id"in(i=Yt(e))?Object.defineProperty(i,"id",{value:"",enumerable:!0,configurable:!0,writable:!0}):i.id="",e.size=new r.IvtSize("auto","auto"),e}var n,i,o,a,u,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zt(e,t)}(t,Nt),n=t,(i=[{key:"setup",value:function(e){var n,r=e||{};return r.id||(r.id=null===(n=r.view)||void 0===n?void 0:n.id),Kt(Gt(t.prototype),"setup",this).call(this,r),this.id=r.id,this}},{key:"didVideoCanplay",value:(l=Qt(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.view.load();case 1:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"didAdStop",value:(u=Qt(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.log.debug("didAdStop();"),"wipe"===this.view.type&&this.view.disappear();case 2:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)})},{key:"willAdClose",value:(a=Qt(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.log.debug("willAdClose();"),e.next=3,null===(t=this.view.element)||void 0===t?void 0:null===(n=t.fadeout)||void 0===n?void 0:n.call(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"willAdUnload",value:(o=Qt(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.view.unload();case 2:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"onContainerInview",value:function(){gs.adContainerAction.inview(this.id)}},{key:"onContainerOutview",value:function(){gs.adContainerAction.outview(this.id)}},{key:"onViewUnload",value:function(){this.clear()}},{key:"config",get:function(){return du.getConfig(this.id)}}])&&qt(n.prototype,i),t}();function Jt(e){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function en(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tn(e,t,n){return t&&en(e.prototype,t),n&&en(e,n),e}function nn(e,t){return!t||"object"!==Jt(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function rn(e,t,n){return(rn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=on(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function on(e){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function an(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}var un=new r.IvtSize(We.defaultButtonSize.width,We.defaultButtonSize.height),ln=function(e){function t(){return $t(this,t),nn(this,on(t).call(this))}return an(t,rt),tn(t,[{key:"setup",value:function(e){return rn(on(t.prototype),"setup",this).call(this,"img",e),this}},{key:"createParam",value:function(e){var n=[].concat(e,{style:{cursor:"pointer",position:"absolute"},option:{size:un}});rn(on(t.prototype),"createParam",this).call(this,n)}}]),t}(),sn=function(e){function t(e){return $t(this,t),nn(this,on(t).call(this))}return an(t,rt),tn(t,[{key:"setup",value:function(e){return rn(on(t.prototype),"setup",this).call(this,"div",e),this}},{key:"createParam",value:function(e){var n=[].concat(e,{style:{cursor:"pointer"},option:{size:un}});rn(on(t.prototype),"createParam",this).call(this,n)}}]),t}(),cn=function(e){function t(){return $t(this,t),nn(this,on(t).call(this))}return an(t,rt),tn(t,[{key:"setup",value:function(e){var n=this;return rn(on(t.prototype),"setup",this).call(this,"input",e),this.element.on("input",function(e){n.onInput(e)}),this.element.on("change",function(e){n.onChange(e)}),this}},{key:"createParam",value:function(e){rn(on(t.prototype),"createParam",this).call(this,[].concat(e,{style:{cursor:"pointer"}}))}},{key:"onInput",value:function(e){var t,n;this.log.debug("onInput"),null===(t=this.delegate)||void 0===t||null===(n=t.onInput)||void 0===n||n.call(t)}},{key:"onChange",value:function(e){var t,n;this.log.debug("onChange"),null===(t=this.delegate)||void 0===t||null===(n=t.onChange)||void 0===n||n.call(t)}}]),t}(),dn=function(e){function t(){return $t(this,t),nn(this,on(t).call(this))}return an(t,rt),tn(t,[{key:"setup",value:function(e,n){return rn(on(t.prototype),"setup",this).call(this,e,n),this.companion=e,this}},{key:"createParam",value:function(e){rn(on(t.prototype),"createParam",this).call(this,[].concat(e,{attributes:{className:"dac-ivt-ad-companion"},style:{cursor:"pointer",objectFit:"contain"},option:{layout:"contain"}}))}},{key:"createElement",value:function(e){this.element=this.createNode(i.createCompanion,e,this.param)}},{key:"onClick",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onUserVideoClick)||void 0===t||t.call(e,this)}}]),t}();function fn(e,t,n){return(fn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=gn(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hn(e,t,n){return t&&pn(e.prototype,t),n&&pn(e,n),e}function vn(e){return(vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mn(e,t){return!t||"object"!==vn(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function gn(e){return(gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}var wn=We.defaultAdmarkButtonSrc,An=We.defaultCloseButtonSrc,kn=We.defaultDetailButtonSrc,Sn=We.defaultFullscreenButtonSrc,En=We.defaultLoadingButtonSrc,Cn=We.defaultOptoutButtonSrc,xn=We.defaultOptoutButtonOnExpandSrc,Vn=We.defaultPrButtonSrc,On=We.defaultReplayButtonSrc,Rn=We.defaultVolumeOffButtonSrc,Bn=We.defaultVolumeOnButtonSrc,Pn=We.optoutButtonSize,_n=We.optoutButtonOnExpandSize,In=function(e){function t(e){var n;yn(this,t);var r={attributes:{id:"dac-ivt-admark-button"},option:{sources:{normal:wn}}};return(n=mn(this,gn(t).call(this))).setup([].concat(e,r)),n}return bn(t,ln),t}(),Fn=function(e){function t(e){var n;yn(this,t);var r={attributes:{id:"dac-ivt-close-button"},option:{sources:{normal:An}}};return(n=mn(this,gn(t).call(this))).setup([].concat(e,r)),n}return bn(t,ln),hn(t,[{key:"onClick",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserClose(this)}}]),t}(),Tn=function(e){function t(e){var n;yn(this,t);var r={attributes:{id:"dac-ivt-optout-button"},option:{sources:{normal:Cn,mouseover:xn,mouseout:Cn}}};return(n=mn(this,gn(t).call(this))).setup([].concat(e,r)),n}return bn(t,ln),hn(t,[{key:"onClick",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserOptout(this)}},{key:"onMouseover",value:function(e){this.element.size=_n,fn(gn(t.prototype),"onMouseover",this).call(this,e)}},{key:"onMouseout",value:function(e){this.element.size=Pn,fn(gn(t.prototype),"onMouseout",this).call(this,e)}}]),t}(),jn=function(e){function t(e){var n;yn(this,t);var r={attributes:{id:"dac-ivt-volume-button"},option:{sources:{normal:Rn}}};n=mn(this,gn(t).call(this));var i=[].concat(e,r);return n.setup(i),n.volumeOffButtonSrc=Rn,n.volumeOnButtonSrc=Bn,n}return bn(t,ln),hn(t,[{key:"clear",value:function(){this.volumeOffButtonSrc=null,this.volumeOnButtonSrc=null}},{key:"mute",value:function(){this.element.src=this.volumeOffButtonSrc}},{key:"unmute",value:function(){this.element.src=this.volumeOnButtonSrc}},{key:"onClick",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserVolumeSwitch(this)}}]),t}(),Un=function(e){function t(e){var n;yn(this,t);var r={attributes:{id:"dac-ivt-detail-button"},option:{sources:{normal:kn}}};return(n=mn(this,gn(t).call(this))).setup([].concat(e,r)),n}return bn(t,ln),hn(t,[{key:"onClick",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserVideoClick(this)}}]),t}(),zn=function(e){function t(e){var n;yn(this,t);var r={attributes:{id:"dac-ivt-fullscreen-button"},option:{sources:{normal:Sn}}};return(n=mn(this,gn(t).call(this))).setup([].concat(e,r)),n}return bn(t,ln),hn(t,[{key:"onClick",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserEnterFullscreen(this)}}]),t}(),Ln=function(e){function t(e){var n;yn(this,t);var r={attributes:{id:"dac-ivt-loading-button"},style:{cursor:"progress"},option:{layout:"contain",sources:{normal:En}}};return(n=mn(this,gn(t).call(this))).setup([].concat(e,r)),n}return bn(t,ln),hn(t,[{key:"onClick",value:function(){}}]),t}(),Dn=function(e){function t(e){var n;yn(this,t);var r={attributes:{id:"dac-ivt-replay-button"},option:{sources:{normal:On}}};return(n=mn(this,gn(t).call(this))).setup([].concat(e,r)),n}return bn(t,ln),hn(t,[{key:"onClick",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserReplay(this)}}]),t}(),Mn=function(e){function t(e,n){var r;return yn(this,t),(r=mn(this,gn(t).call(this))).setup(e,[].concat(n,{attributes:{id:"dac-ivt-end-card"},option:{layout:"contain",size:{width:"100%",height:"100%"}}})),r}return bn(t,dn),t}(),Nn=function(e){function t(e){var n;yn(this,t);var r={attributes:{id:"dac-ivt-pr-button"},option:{sources:{normal:Vn}}};return(n=mn(this,gn(t).call(this))).setup([].concat(e,r)),n}return bn(t,ln),hn(t,[{key:"onClick",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserVideoClick(this)}}]),t}();function Wn(e){return(Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qn(e,t,n){return(qn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Yn(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Yn(e){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kn(e,t){return(Kn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zn=function(e){function t(){var e,n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,Gn(Qn(e=!(n=Yn(t).call(this))||"object"!==Wn(n)&&"function"!=typeof n?Qn(this):n),"companion",null),Gn(Qn(e),"replayButton",null),Gn(Qn(e),"_adContainerId",null),e}var n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kn(e,t)}(t,rt),n=t,(i=[{key:"clear",value:function(){var e,n;null===(e=this.companion)||void 0===e||e.clear(),(this.companion=null)===(n=this.replayButton)||void 0===n||n.clear(),this.replayButton=null,qn(Yn(t.prototype),"clear",this).call(this)}},{key:"setup",value:function(e){var n=e||{},i={attributes:{className:"dac-ivt-image-reminder"},option:{size:new r.IvtSize("100%","100%")}},o=m.a.deepMerge({},i,n);qn(Yn(t.prototype),"setup",this).call(this,"div",o),this.element.style.position="absolute",this.element.style.width="",this.element.style.height="",this.element.style.top="0px",this.element.style.bottom="0px",this.element.style.right="0px",this.element.style.left="0px";var a=du.getConfig(this.adContainerId).reminderVastCompanion,u=n.companion||a;this.companion=(new dn).setup(u,{option:{layout:"contain"}}),(this.companion.delegate=this).appendView(this.companion);var l={option:{layout:"bottom|right",size:new r.IvtSize(18,18),sources:{normal:We.defaultReplayButtonSrc}}};return this.replayButton=new Dn([l]),(this.replayButton.delegate=this).appendView(this.replayButton),this._adContainerId=n.adContainerId,this}},{key:"onUserVideoClick",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserVideoClick()}},{key:"onUserReplay",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserReplay()}},{key:"adContainerId",get:function(){return this._adContainerId}}])&&Hn(n.prototype,i),t}();function Xn(e){return(Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function er(e,t,n){return(er="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=tr(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function tr(e){return(tr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nr(e,t){return(nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rr=function(e){function t(){var e,n,r,i,o;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,e=!(n=tr(t).call(this))||"object"!==Xn(n)&&"function"!=typeof n?$n(this):n,o=void 0,(i="_adContainerId")in(r=$n(e))?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,e}var n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nr(e,t)}(t,sn),n=t,(o=[{key:"setup",value:function(e){var n=e||{},o={attributes:{className:"dac-ivt-text-reminder"},style:{textAlign:"center",color:"#3B68FF",fontWeight:"bold",fontFamily:"arial",fontSize:"12px",backgroundSize:"contain",backgroundColor:"transparent"},option:{layout:"bottom",size:new r.IvtSize("100%","22px")}},a=m.a.deepMerge({},o,n);er(tr(t.prototype),"setup",this).call(this,a),this.element.textContent="広告をもう一度見る",this.element.style.position="absolute",this.element.style.width="",this.element.style.height="",this.element.style.top="0px",this.element.style.bottom="0px",this.element.style.right="0px",this.element.style.left="0px";var u=i.createElement("div");return u.style.borderTop="1px dotted #3E5F9D",u.style.height="1px",u.style.width="auto",this.element.appendChild(u),this._adContainerId=n.adContainerId,this}},{key:"onClick",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserReplay()}},{key:"adContainerId",get:function(){return this._adContainerId}}])&&Jn(n.prototype,o),t}();function ir(e){return(ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function or(e,t,n){return(or="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ar(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ar(e){return(ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lr(e,t,n){return t&&ur(e.prototype,t),n&&ur(e,n),e}function sr(e,t){return(sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var cr=function(e){function t(e){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){return!t||"object"!==ir(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,ar(t).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sr(e,t)}(t,Nt),lr(t,[{key:"hasReminder",get:function(){return Boolean(this.view)}}]),lr(t,[{key:"setup",value:function(e){var n=e||{};n.view;try{or(ar(t.prototype),"setup",this).call(this,n),this.size=this.view.element.styleSize}catch(e){}return this}},{key:"onUserVideoClick",value:function(){var e=du.getConfig(this.view.adContainerId).videoClicksThrough;gs.userAction.videoClick(e,!0)}},{key:"onUserReplay",value:function(){gs.adContainerAction.disappear(this.view.adContainerId),gs.userAction.replay()}}]),t}();function dr(e){return(dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hr(e,t,n){return(hr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vr(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function vr(e){return(vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yr(e,t){return(yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gr(e){var t=e;return t._video||(t._video=du.videoElement),t._video}function br(e){var t=e,n=gr(t),r=t._context;null==r||r.drawImage(n,t._dx,t._dy,t._dWidth,t._dHeight)}var wr=function(e){function t(){var e,n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,mr(pr(e=!(n=vr(t).call(this))||"object"!==dr(n)&&"function"!=typeof n?pr(this):n),"_video",null),mr(pr(e),"_context",null),mr(pr(e),"_dx",0),mr(pr(e),"_dy",0),mr(pr(e),"_dWidth",0),mr(pr(e),"_dHeight",0),e}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yr(e,t)}(t,rt),n=t,(r=[{key:"init",value:function(){var e=i.createElement("canvas");return hr(vr(t.prototype),"setup",this).call(this,e),this._context=e.getContext("2d"),this}},{key:"clear",value:function(){var e;(e=this)._requestId&&window.cancelAnimationFrame(e._requestId),e._requestId=null,e._video=null,e._context=null,e._dx=0,e._dy=0,e._dWidth=0,e._dHeight=0,hr(vr(t.prototype),"clear",this).call(this)}},{key:"updateLayout",value:function(){var e=hr(vr(t.prototype),"updateLayout",this).call(this);return function(e){var t=e,n=t.element,r=gr(t),i=n.offsetWidth,o=n.offsetHeight,a=null==r?void 0:r.videoWidth,u=null==r?void 0:r.videoHeight;if(0<i&&0<o&&0<a&&0<u){n.width=i,n.height=o;var l=i/a,s=o/u;t._dHeight=l<s?(t._dWidth=i,u*l):(t._dWidth=a*s,o),t._dx=(i-t._dWidth)/2,t._dy=(o-t._dHeight)/2}}(this),e}},{key:"draw",value:function(){br(this)}},{key:"drawStart",value:function(){var e;(e=this)._requestId||(e._requestId=window.requestAnimationFrame(function t(){br(e),e._requestId=window.requestAnimationFrame(t)}))}},{key:"drawStop",value:function(){var e;(e=this)._requestId&&(window.cancelAnimationFrame(e._requestId),e._requestId=null),br(e)}},{key:"video",get:function(){return gr(this)}},{key:"canvas",get:function(){return this.element}}])&&fr(n.prototype,r),t}();function Ar(e){return(Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Er(e,t,n){return(Er="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Cr(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Cr(e){return(Cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xr(e,t){return(xr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Vr=function(e){function t(){var e,n,r,i;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,e=!(n=Cr(t).call(this))||"object"!==Ar(n)&&"function"!=typeof n?Sr(this):n,null,(i="_lastIsHidden")in(r=Sr(e))?Object.defineProperty(r,i,{value:null,enumerable:!0,configurable:!0,writable:!0}):r[i]=null,e}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xr(e,t)}(t,Nt),n=t,(r=[{key:"clear",value:function(){this._lastIsHidden=null,Er(Cr(t.prototype),"clear",this).call(this)}},{key:"init",value:function(e){return Er(Cr(t.prototype),"setup",this).call(this,e),this}},{key:"didAdStart",value:function(){this.videoCanvasView.drawStart()}},{key:"didAdStop",value:function(){this.videoCanvasView.drawStop()}},{key:"didAdPlay",value:function(){this.videoCanvasView.drawStart()}},{key:"didAdPause",value:function(){this.videoCanvasView.drawStop()}},{key:"didAdReplay",value:function(){this.videoCanvasView.drawStart()}},{key:"didAdEnterFullscreen",value:function(){var e=this.videoCanvasView.video;this._lastIsHidden=e.isHidden,this._lastIsHidden&&e.show(),this.videoCanvasView.drawStop()}},{key:"didAdExitFullscreen",value:function(){var e=this.videoCanvasView.video;this._lastIsHidden&&e.hide(),this.videoCanvasView.drawStart()}},{key:"onViewUnload",value:function(){this.clear()}},{key:"videoCanvasView",get:function(){return this.view}}])&&kr(n.prototype,r),t}();function Or(e){return(Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Br(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pr(e,t,n){return(Pr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_r(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _r(e){return(_r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ir(e,t){return(Ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tr=function(e){function t(){var e,n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,Fr(Br(e=!(n=_r(t).call(this))||"object"!==Or(n)&&"function"!=typeof n?Br(this):n),"playerFrame",null),Fr(Br(e),"playerSlot",null),Fr(Br(e),"videoCanvas",null),Fr(Br(e),"_playerView",null),Fr(Br(e),"_videoSize",null),Fr(Br(e),"_adContainerId",null),e}var n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ir(e,t)}(t,rt),n=t,(i=[{key:"clear",value:function(){var e,n,r;null===(e=this.playerFrame)||void 0===e||e.clear(),(this.playerFrame=null)===(n=this.playerSlot)||void 0===n||n.clear(),(this.playerSlot=null)===(r=this.videoCanvas)||void 0===r||r.clear(),this.videoCanvas=null,this._videoSize=null,Pr(_r(t.prototype),"clear",this).call(this)}},{key:"setPlayerView",value:function(e){!function(e,t){var n,r=e;t?(t.show(),r._playerView=t,r.videoCanvas.removeFromParent(),r.playerFrame.appendView(t),r.playerFrame.appendView(r.playerSlot)):(r._playerView&&(null===(n=r._playerView)||void 0===n||n.element.hide()),r.playerFrame.appendView(r.videoCanvas),r.playerFrame.appendView(r.playerSlot))}(this,e)}},{key:"loading",value:function(){this.log.debug("loading();")}},{key:"playing",value:function(){this.log.debug("playing();")}},{key:"pause",value:function(){this.log.debug("pause();")}},{key:"ended",value:function(){this.log.debug("ended();")}},{key:"muted",value:function(){this.log.debug("muted();")}},{key:"unmuted",value:function(){this.log.debug("unmuted();")}},{key:"volumeChange",value:function(e){this.log.debug("volumeChange(); volume = ".concat(e,"."))}},{key:"setup",value:function(e){if(!Pr(_r(t.prototype),"setup",this).call(this))throw new Error("setup failed: super.setup failed.");var n,r,i=e.adContainerId,o=e.playerView||null,a=(e.zIndex,e.backgroundColor||this.config.backgroundColor||null);if(!e.adContainerId)throw new Error("setup failed: Not declared adContainerId.");return this.log.debug("setup."),this._adContainerId=i,this.playerFrame=function(e){var t=(new rt).setup();return t.className="dac-ivt-video-frame",t.style.position="relative",t.style.width="100%",t.style.height="100%",t.style.margin="0 auto",t.style.overflow="hidden",e&&(t.style.backgroundColor=e),t}(a),this.playerSlot=((n=(new rt).setup()).element.className="dac-ivt-video-slot",n.element.style.display="block",n.element.style.position="absolute",n.element.style.left="0px",n.element.style.top="0px",n.element.style.width="100%",n.element.style.height="100%",n.element.style.margin="auto%",n.element.style.cursor="pointer",n.element.style.overflow="hidden",n),this.videoCanvas=function(){var e=(new wr).init();return e.element.className="dac-ivt-video-canvas",e.element.style.display="block",e.element.style.position="absolute",e.element.style.left="0px",e.element.style.top="0px",e.element.style.width="100%",e.element.style.height="100%",e.element.style.margin="auto%",e.element.style.cursor="pointer",e.element.style.overflow="hidden",(new Vr).init({view:e}),e}(),(r=this).element.className="dac-ivt-ad-frame",r.element.style.position="absolute",r.element.style.width="",r.element.style.height="",r.element.style.top="0px",r.element.style.bottom="0px",r.element.style.left="0px",r.element.style.right="0px",r.element.style.margin="auto",r.element.style.overflow="hidden",this.appendView(this.playerFrame),this.setPlayerView(o),this}},{key:"updateLayout",value:function(){var e,t,n,i;return this.log.debug("updateLayout();"),n=(t=(e=this).element.getClientSize()).width,i=function(e,t,n){var r=e,i=r.config.height;if(0<n){i=n||0}else{var o=r.playerFrameDefaultSize,a=o.width;i=o.height*(t/a)}return 0<i?i:0}(e,t.width,t.height),e.playerFrame.element.w=n,e.playerFrame.element.h=i,e.videoCanvas.updateLayout(),e.videoCanvas.draw(),new r.IvtSize(n,i)}},{key:"hasEndCard",get:function(){return!1}},{key:"player",get:function(){return du.videoElement}},{key:"playerView",get:function(){return this._playerView}},{key:"videoView",get:function(){return this._playerView}},{key:"playerFrameDefaultSize",get:function(){if(!this._videoSize){var e=du.adStore.vast.media,t=du.adContainerStore.playerView.element;if(0<(null==e?void 0:e.width)&&0<(null==e?void 0:e.height))this._videoSize=new r.IvtSize(null==e?void 0:e.width,null==e?void 0:e.height);else{if(!(0<(null==t?void 0:t.videoWidth)&&0<(null==t?void 0:t.videoHeight)))return new r.IvtSize;this._videoSize=new r.IvtSize(t.videoWidth,t.videoHeight)}}return this._videoSize.clone()},set:function(e){this._videoSize=new r.IvtSize(e.width,e.height)}},{key:"config",get:function(){return du.getConfig(this._adContainerId)}}])&&Rr(n.prototype,i),t}();function jr(e){return(jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ur(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function zr(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){Ur(o,r,i,a,u,"next",e)}function u(e){Ur(o,r,i,a,u,"throw",e)}a(void 0)})}}function Lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mr(e,t,n){return(Mr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Nr(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Nr(e){return(Nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wr(e,t){return(Wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(77),n(153);var Qr=function(e){function t(){var e,n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,Hr(Dr(e=!(n=Nr(t).call(this))||"object"!==jr(n)&&"function"!=typeof n?Dr(this):n),"_tasks",[]),Hr(Dr(e),"_videoProgressEvents",[]),e}var n,r,i,o,a,l,s,c,d,f,p,h,v,y;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wr(e,t)}(t,Nt),n=t,(r=[{key:"_addTask",value:function(e){this.log.debug("***** Video: task is added begin. functionName: ".concat(e,"."));var t=new M({name:e});return this._tasks.push(t),t.promise}},{key:"_removeTask",value:function(e){var t=this._tasks.findIndex(function(t){return t.detail.name===e});return 0<=t?this._tasks.splice(t,1)[0]:null}},{key:"clear",value:function(){Mr(Nr(t.prototype),"clear",this).call(this),this.videoView.clear(),this._tasks=[]}},{key:"setup",value:function(e){return Mr(Nr(t.prototype),"setup",this).call(this,e),(this.view.delegate=this)._tasks=[],this}},{key:"willAdLoad",value:(y=zr(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.log.debug("willAdLoad();"),t=this._addTask("load"),this.videoView.load(),e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"willAdUnload",value:(v=zr(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.log.debug("willAdUnload();"),this.videoView.unload();case 2:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"willAdStart",value:(h=zr(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!0===this.videoView.isPlaying)return this.log.debug("willAdStart(); but video is already playing."),e.abrupt("return",Promise.resolve());e.next=3;break;case 3:if(!this.videoView.canPlay){e.next=7;break}this.log.debug("willAdStart(); video is possible to play."),e.next=10;break;case 7:return this.log.debug("willAdStart(); video is not yet possible to play."),e.next=10,this._addTask("canplay");case 10:return t=this._addTask("play"),this.videoView.play(),e.abrupt("return",t);case 13:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)})},{key:"willAdStop",value:(p=zr(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.log.debug("willAdStop();"),e.abrupt("return",this.willAdPause());case 2:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"willAdPlay",value:(f=zr(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!0===this.videoView.isPlaying)return e.abrupt("return",Promise.resolve());e.next=2;break;case 2:return this.log.debug("willAdPlay();"),t=this._addTask("play"),this.videoView.play(),e.abrupt("return",t);case 6:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"willAdPause",value:(d=zr(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!0===this.videoView.isPaused)return e.abrupt("return",Promise.resolve());e.next=2;break;case 2:return this.log.debug("willAdPause();"),t=this._addTask("pause"),this.videoView.pause(),e.abrupt("return",t);case 6:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)})},{key:"willAdMute",value:(c=zr(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.videoView.isMuted===(t=!0))return e.abrupt("return",Promise.resolve());e.next=4;break;case 4:return this.log.debug("willAdMute();"),n=this._addTask("mute"),this.videoView.setMuted(t),e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"willAdUnmute",value:(s=zr(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.videoView.isMuted===(t=!1))return e.abrupt("return",Promise.resolve());e.next=4;break;case 4:return this.log.debug("willAdUnmute();"),n=this._addTask("unmute"),this.videoView.setMuted(t),e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"willAdVolumeChange",value:(l=zr(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.videoView.volume,r=(null==t?void 0:t.volume)||0,n===r)return e.abrupt("return",Promise.resolve());e.next=4;break;case 4:return this.log.debug("willAdVolumeChange(volume: ".concat(r,");")),i=this._addTask("volumechange"),this.videoView.setVolume(r),e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"willAdReplay",value:(a=zr(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.log.debug("willAdReplay();"),e.next=3,this.willAdLoad();case 3:return e.next=5,this.willAdStart();case 5:return e.abrupt("return",Promise.resolve());case 6:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"willAdEnterFullscreen",value:(o=zr(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.log.debug("willAdEnterFullscreen();"),t=this._addTask("enterfullscreen"),this.videoView.enterFullscreen(),e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"onVideoLoad",value:function(){this.log.debug("onVideoLoad(); duration = ".concat(this.duration,".")),this.setupVideoProgressEvents(this.duration);var e=this._removeTask("load");return e?(this.log.debug("onVideoLoad(); load task is over."),void e.resolve(!0)):void 0}},{key:"onVideoCanPlay",value:function(){var e=this._removeTask("canplay");e?(this.log.debug("onVideoCanPlay(); canplay task is over."),e.resolve(!0)):this.log.debug("onVideoCanPlay(); This callback is called from the os."),gs.adAction.videoCanplay()}},{key:"onVideoPlay",value:function(){var e=this._removeTask("play");return e?(this.log.debug("didVideoPlay(); play task is over."),void e.resolve(!0)):void this.log.debug("didVideoPlay(); This callback is called from the os.")}},{key:"onVideoPause",value:function(){this.log.debug("onVideoPause();");var e=this._removeTask("pause");return e?(this.log.debug("onVideoPause(); pause task is over."),void e.resolve(!0)):void gs.adAction.pause(u.IvtPlayerPausedReason.outview)}},{key:"onVideoEnded",value:(i=zr(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.log.debug("onVideoEnded();"),e.next=3,gs.adAction.videoEnded();case 3:if(du.adStore.isFullscreened){e.next=6;break}return e.next=6,gs.adAction.stop();case 6:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"onVideoError",value:function(){var e,t,n,r,i,o,a=null===(e=this.videoView)||void 0===e?void 0:null===(t=e.videoElement)||void 0===t?void 0:null===(n=t.error)||void 0===n?void 0:n.code,l=null===(r=this.videoView)||void 0===r?void 0:null===(i=r.videoElement)||void 0===i?void 0:null===(o=i.error)||void 0===o?void 0:o.message;this.log.debug("onVideoError(code: ".concat(a,", message: ").concat(l,");"));var s=u.IvtErrorCode.linear;switch(a){case MediaError.MEDIA_ERR_ABORTED:break;case MediaError.MEDIA_ERR_DECODE:s=u.IvtErrorCode.linearUnsupportedCodecs;break;case MediaError.MEDIA_ERR_NETWORK:s=u.IvtErrorCode.linearTimeout;break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:s=u.IvtErrorCode.linearNotFound}gs.adAction.raiseError(s,l)}},{key:"onVideoMuted",value:function(){var e=this._removeTask("mute");if(e)return this.log.debug("onVideoMuted(); task is over."),void e.resolve(!0);this.log.debug("onVideoMuted(); This callback is called from the System."),gs.userAction.mute()}},{key:"onVideoUnmuted",value:function(){var e=this._removeTask("unmute");if(e)return this.log.debug("onVideoUnmuted(); task is over."),void e.resolve(!0);this.log.debug("onVideoUnmuted(); This callback is called from the System."),gs.userAction.unmute()}},{key:"onVideoVolumeChange",value:function(e){var t=this._removeTask("volumechange");if(t)return this.log.debug("onVideoVolumeChange(volume: ".concat(e,"); task is over.")),void t.resolve(!0);this.log.debug("onVideoVolumeChange(volume: ".concat(e,"); This callback is called from the System.")),gs.userAction.volumeChange(e)}},{key:"onVideoEnterFullscreen",value:function(){var e=this._removeTask("enterfullscreen");return e?(this.log.debug("onVideoEnterFullscreen(); task is over."),void e.resolve(!0)):void this.log.debug("onVideoEnterFullscreen(); This callback is called from the os.")}},{key:"onVideoExitFullscreen",value:function(){gs.adAction.exitFullscreen()}},{key:"onVideoProgress",value:function(){var e=this.duration,t=this.progress;gs.adAction.videoProgress(t,e),this.progressVideo(t)}},{key:"onVideoProgressStart",value:function(e,t){this.log.debug("didVideoStart(); Video 0% completed."),gs.adAction.videoStart(e,t)}},{key:"onVideoProgressFirstQuartile",value:function(e,t){this.log.debug("didVideoFirstQuartile(); Video 25% completed."),gs.adAction.videoFirstQuartile(e,t)}},{key:"onVideoProgressMidpoint",value:function(e,t){this.log.debug("didVideoMidpoint(); Video 50% completed."),gs.adAction.videoMidpoint(e,t)}},{key:"onVideoProgressThirdQuartile",value:function(e,t){this.log.debug("didVideoThirdQuartile(); Video 75% completed."),gs.adAction.videoThirdQuartile(e,t)}},{key:"onVideoProgressComplete",value:function(e,t){this.log.debug("didVideoComplete(); Video 100% completed.");var n=t+.1;gs.adAction.videoComplete(n,t)}},{key:"progressVideo",value:function(e){var t,n=this;(null===(t=this._videoProgressEvents[0])||void 0===t?void 0:t.time)<=e&&(this._videoProgressEvents=this._videoProgressEvents.filter(function(t){var r=e<t.time;return r||t.func.call(n,e,n.duration),r}))}},{key:"setupVideoProgressEvents",value:function(e){var t=[];t.push({time:0,func:this.onVideoProgressStart}),t.push({time:.25*e,func:this.onVideoProgressFirstQuartile}),t.push({time:.5*e,func:this.onVideoProgressMidpoint}),t.push({time:.75*e,func:this.onVideoProgressThirdQuartile}),t.push({time:e,func:this.onVideoProgressComplete}),t.sort(function(e,t){return e.time<t.time?-1:e.time>t.time?1:0}),this._videoProgressEvents=t}},{key:"playerView",get:function(){return this.view}},{key:"videoView",get:function(){return this.view}},{key:"progress",get:function(){return this.videoView.progress}},{key:"duration",get:function(){return this.videoView.duration}},{key:"isFullscreen",get:function(){return this.videoView.isFullscreen}}])&&Lr(n.prototype,r),t}();function qr(e){return(qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gr(e,t,n){return(Gr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Zr(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Zr(e){return(Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xr(e,t){return(Xr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(76);var $r="loadedmetadata",ei=HTMLMediaElement.HAVE_METADATA,ti=function(e){function t(){var e,n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,Jr(Kr(e=!(n=Zr(t).call(this))||"object"!==qr(n)&&"function"!=typeof n?Kr(this):n),"video",null),Jr(Kr(e),"_isFullscreenFunction",null),Jr(Kr(e),"_lastMuted",!0),Jr(Kr(e),"_lastVolume",0),e}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xr(e,t)}(t,rt),n=t,(r=[{key:"clear",value:function(){Gr(Zr(t.prototype),"clear",this).call(this),this._lastMuted=!0,this._lastVolume=0,this._isFullscreenFunction=null}},{key:"setup",value:function(e){var n=(e||{}).tag,r=i.createElement("video");return r.setAttribute("playsinline",""),r.setAttribute("muted",""),r.setAttribute("controlsList","nodownload noremoteplayback nofullscreen"),r.className="dac-ivt-video-player",r.style.display="block",r.style.position="static",r.style.width="100%",r.style.height="100%",r.style.margin="auto",r.style.overflow="hidden",r.style.cursor="pointer",r.style.objectFit="contain",r.muted=!0,r.on($r,this),r.on("ended",this),r.on("error",this),this.video=r,Gr(Zr(t.prototype),"setup",this).call(this,n||r),this._lastMuted=r.muted,this._lastvolume=r.volume,this._isFullscreenFunction=function(e){return"object"===qr(document.fullscreenElement)?(e.log.debug("_makeIsFullscreenFunction(); document has fullscreenElement property."),function(){return null!==document.fullscreenElement}):"object"!==qr(document.webkitFullscreenElement)?"object"!==qr(document.msFullscreenElement)?"object"!==qr(document.mozFullScreenElement)?"boolean"!=typeof e.player.webkitDisplayingFullscreen?"object"!==qr(document.webkitCurrentFullScreenElement)?(e.log.debug("_makeIsFullscreenFunction(); document has not fullScreenElement property."),function(){return!1}):(e.log.debug("_makeIsFullscreenFunction(); document has webkitCurrentFullScreenElement property."),function(){return null!==document.webkitCurrentFullScreenElement}):(e.log.debug("_makeIsFullscreenFunction(); HTMLVideoElement has webkitDisplayingFullscreen property."),function(){return e.player.webkitDisplayingFullscreen}):(e.log.debug("_makeIsFullscreenFunction(); document has mozFullScreenElement property."),function(){return null!==document.mozFullScreenElement}):(e.log.debug("_makeIsFullscreenFunction(); document has msFullscreenElement property."),function(){return null!==document.msFullscreenElement}):(e.log.debug("_makeIsFullscreenFunction(); document has webkitFullscreenElement property."),function(){return null!==document.webkitFullscreenElement})}(this),this}},{key:"setVolume",value:function(e){this.videoElement&&(this.videoElement.volume=e)}},{key:"setMuted",value:function(e){this.videoElement&&(this.videoElement.muted=e)}},{key:"load",value:function(){this.log.debug("load();")}},{key:"unload",value:function(){this.log.debug("unload();")}},{key:"start",value:function(){this.log.debug("start();")}},{key:"stop",value:function(){this.log.debug("stop();")}},{key:"play",value:function(){this.log.debug("play();")}},{key:"pause",value:function(){this.log.debug("pause();")}},{key:"enterFullscreen",value:function(){this.log.debug("enterFullscreen();")}},{key:"replay",value:function(){this.log.debug("replay();")}},{key:"resize",value:function(e){Gr(Zr(t.prototype),"resize",this).call(this,e)}},{key:"handleEvent",value:function(e){switch(e.stopPropagation(),e.type){case $r:this.onVideoCanPlay();break;case"ended":this.onVideoEnded();break;case"error":this.onVideoError()}}},{key:"onVideoCanPlay",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVideoCanPlay)||void 0===t||t.call(e)}},{key:"onVideoEnded",value:function(){var e,t;this.log.debug("onVideoEnded();"),null===(e=this.delegate)||void 0===e||null===(t=e.onVideoEnded)||void 0===t||t.call(e)}},{key:"onVideoError",value:function(){var e,t;this.log.debug("onVideoError();"),null===(e=this.delegate)||void 0===e||null===(t=e.onVideoError)||void 0===t||t.call(e)}},{key:"onVideoMuted",value:function(){var e,t;this.log.debug("onVideoMuted();"),null===(e=this.delegate)||void 0===e||null===(t=e.onVideoMuted)||void 0===t||t.call(e)}},{key:"onVideoUnmuted",value:function(){var e,t;this.log.debug("onVideoUnmuted();"),null===(e=this.delegate)||void 0===e||null===(t=e.onVideoUnmuted)||void 0===t||t.call(e)}},{key:"onVideoVolumeChange",value:function(){var e=this._lastMuted,t=this.isMuted;e!==t&&((this._lastMuted=t)?this.onVideoMuted():this.onVideoUnmuted());var n,r,i=this._lastVolume,o=this.volume;i!==o&&(this.log.debug("onVideoVolumeChange(); newVolume: ".concat(o,", oldVolume: ").concat(i,".")),this._lastVolume=o,null===(n=this.delegate)||void 0===n||null===(r=n.onVideoVolumeChange)||void 0===r||r.call(n,o))}},{key:"player",get:function(){return this.video}},{key:"videoElement",get:function(){return this.video}},{key:"canPlay",get:function(){var e;return ei<=(null===(e=this.player)||void 0===e?void 0:e.readyState)}},{key:"isFullscreen",get:function(){var e;return null===(e=this._isFullscreenFunction)||void 0===e?void 0:e.call(this)}},{key:"progress",get:function(){var e;return Number(null===(e=this.player)||void 0===e?void 0:e.currentTime)}},{key:"duration",get:function(){var e;return Number(null===(e=this.player)||void 0===e?void 0:e.duration)}},{key:"ended",get:function(){var e;return Boolean(null===(e=this.player)||void 0===e?void 0:e.ended)}},{key:"isEnded",get:function(){var e;return Boolean(null===(e=this.video)||void 0===e?void 0:e.ended)}},{key:"volume",get:function(){var e;return Number(null===(e=this.player)||void 0===e?void 0:e.volume)}},{key:"paused",get:function(){var e;return m.a.toBoolIfExist(null===(e=this.video)||void 0===e?void 0:e.paused,!0)}},{key:"videoHeight",get:function(){var e;return Number(null===(e=this.player)||void 0===e?void 0:e.videoHeight)}},{key:"videoWidth",get:function(){var e;return Number(null===(e=this.player)||void 0===e?void 0:e.videoWidth)}},{key:"isPaused",get:function(){var e,t=m.a.toBoolIfExist(null===(e=this.video)||void 0===e?void 0:e.paused,!0),n=this.isEnded;return t||n}},{key:"isPlaying",get:function(){return!this.isPaused}},{key:"isMuted",get:function(){var e;return m.a.toBoolIfExist(null===(e=this.videoElement)||void 0===e?void 0:e.muted,!0)}}])&&Yr(n.prototype,r),t}();function ni(e){return(ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ri(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ii(e,t,n){return(ii="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oi(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function oi(e){return(oi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ai(e,t){return(ai=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}m.a.namespace();var ui=function(e){function t(){var e;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),(e=function(e,t){return!t||"object"!==ni(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,oi(t).call(this)))._enterFullscreenFunction=null,e}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ai(e,t)}(t,ti),n=t,(r=[{key:"clear",value:function(){ii(oi(t.prototype),"clear",this).call(this),this._enterFullscreenFunction=null}},{key:"setup",value:function(e){return ii(oi(t.prototype),"setup",this).call(this,e),this.player.on("pause",this),this.player.on("play",this),this.player.on("timeupdate",this),this.player.on("loadedmetadata",this),this.player.on("volumechange",this),this.player.on("fullscreenchange",this),this.player.on("webkitfullscreenchange",this),this.player.on("webkitbeginfullscreen",this),this.player.on("webkitendfullscreen",this),document.addEventListener("mozfullscreenchange",this),document.addEventListener("MSFullscreenChange",this),this._enterFullscreenFunction=function(e){return"function"!=typeof e.player.requestFullscreen?"function"!=typeof e.player.msRequestFullscreen?"function"!=typeof e.player.mozRequestFullScreen?"function"!=typeof e.player.webkitRequestFullscreen?"function"!=typeof e.player.webkitEnterFullscreen?(e.log.debug("makeEnterFullscreen: HTMLVideoElement has not toFullscreen method."),function(){}):(e.log.debug("makeEnterFullscreen: HTMLVideoElement has webkitEnterFullscreen method."),function(){e.player.webkitEnterFullscreen()}):(e.log.debug("makeEnterFullscreen: HTMLVideoElement has webkitRequestFullscreen method."),function(){e.player.webkitRequestFullscreen()}):(e.log.debug("makeEnterFullscreen: HTMLVideoElement has mozRequestFullScreen method."),function(){e.player.mozRequestFullScreen()}):(e.log.debug("makeEnterFullscreen: HTMLVideoElement has msRequestFullscreen method."),function(){e.player.msRequestFullscreen()}):(e.log.debug("makeEnterFullscreen: HTMLVideoElement has requestFullscreen method."),function(){e.player.requestFullscreen()})}(this),this}},{key:"load",value:function(){var e,n;ii(oi(t.prototype),"load",this).call(this);var r=null===(e=du.adStore.vast)||void 0===e?void 0:null===(n=e.media)||void 0===n?void 0:n.uri;this.log.debug("load(); url = ".concat(r,".")),r&&(this.player.src=r),this.player.load()}},{key:"unload",value:function(){ii(oi(t.prototype),"unload",this).call(this),this.clear()}},{key:"play",value:function(){this.canPlay&&this.isPaused&&(ii(oi(t.prototype),"play",this).call(this),this.player.play())}},{key:"pause",value:function(){this.canPlay&&this.isPlaying&&(ii(oi(t.prototype),"pause",this).call(this),this.player.pause())}},{key:"resize",value:function(e){ii(oi(t.prototype),"resize",this).call(this,e),this.dispatch(u.IvtAdNotification.didAdSizeChange)}},{key:"enterFullscreen",value:function(){ii(oi(t.prototype),"enterFullscreen",this).call(this),this._enterFullscreenFunction()}},{key:"onVideoLoad",value:function(){var e,t;this.log.debug("onVideoLoad()"),null===(e=this.delegate)||void 0===e||null===(t=e.onVideoLoad)||void 0===t||t.call(e)}},{key:"onVideoPause",value:function(){var e,t;this.ended||(this.log.debug("onVideoPause()"),null===(e=this.delegate)||void 0===e||null===(t=e.onVideoPause)||void 0===t||t.call(e))}},{key:"onVideoPlay",value:function(){var e,t;this.log.debug("onVideoPlay()"),null===(e=this.delegate)||void 0===e||null===(t=e.onVideoPlay)||void 0===t||t.call(e)}},{key:"onVideoProgress",value:function(e){var t,n,r=e||this.progress;null===(t=this.delegate)||void 0===t||null===(n=t.onVideoProgress)||void 0===n||n.call(t,r)}},{key:"onVideoEnterFullscreen",value:function(){var e,t;this.log.debug("onVideoEnterFullscreen()"),null===(e=this.delegate)||void 0===e||null===(t=e.onVideoEnterFullscreen)||void 0===t||t.call(e)}},{key:"onVideoExitFullscreen",value:function(){var e,t;this.log.debug("onVideoExitFullscreen()"),null===(e=this.delegate)||void 0===e||null===(t=e.onVideoExitFullscreen)||void 0===t||t.call(e)}},{key:"onVideoFullscreenChange",value:function(e){var t=this.isFullscreen;this.log.debug("onVideoFullscreenChange isFullscreen: "+t),t?this.onVideoEnterFullscreen(e):this.onVideoExitFullscreen(e)}},{key:"handleEvent",value:function(e){switch(ii(oi(t.prototype),"handleEvent",this).call(this,e),e&&e.stopPropagation(),e.type){case"loadedmetadata":this.onVideoLoad();break;case"pause":this.onVideoPause();break;case"play":this.onVideoPlay();break;case"timeupdate":this.isPlaying&&this.onVideoProgress();break;case"ended":this.onVideoProgress();break;case"volumechange":this.onVideoVolumeChange();break;case"fullscreenchange":case"webkitfullscreenchange":case"webkitbeginfullscreen":case"webkitendfullscreen":case"mozfullscreenchange":case"MSFullscreenChange":this.onVideoFullscreenChange()}}}])&&ri(n.prototype,r),t}();function li(e){return(li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function si(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ci(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function di(e,t,n){return(di="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fi(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function fi(e){return(fi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pi(e,t){return(pi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var hi=m.a.namespace(),vi=function(e){function t(){var e,n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,e=!(n=fi(t).call(this))||"object"!==li(n)&&"function"!=typeof n?ci(this):n,hi(ci(e)).duration=0,e}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pi(e,t)}(t,Nt),n=t,(r=[{key:"setup",value:function(e){var n=e||{};di(fi(t.prototype),"setup",this).call(this,n);var r=n.adContainerId;if(m.a.isEmpty(r))throw new Error("setup failed: Not declared adContainerId.");return this.adContainerId=r,this}},{key:"enterFullscreen",value:function(){di(fi(t.prototype),"enterFullscreen",this).call(this),this.playerView.enterFullscreen()}},{key:"didAdLoad",value:function(){var e,t;null===(e=this.adView)||void 0===e||null===(t=e.loading)||void 0===t||t.call(e)}},{key:"didAdStart",value:function(){var e,t;null===(e=this.adView)||void 0===e||null===(t=e.playing)||void 0===t||t.call(e)}},{key:"didAdPlay",value:function(){var e,t;null===(e=this.adView)||void 0===e||null===(t=e.playing)||void 0===t||t.call(e)}},{key:"didAdPause",value:function(){var e,t;null===(e=this.adView)||void 0===e||null===(t=e.pause)||void 0===t||t.call(e)}},{key:"didAdStop",value:function(){var e,t;null===(e=(t=this.adView).ended)||void 0===e||e.call(t)}},{key:"didAdReplay",value:function(){var e,t;null===(e=this.adView)||void 0===e||null===(t=e.playing)||void 0===t||t.call(e)}},{key:"didAdMute",value:function(){var e,t,n,r;null===(e=this.adView)||void 0===e||null===(t=e.muted)||void 0===t||t.call(e),null===(n=this.adView)||void 0===n||null===(r=n.volumeChange)||void 0===r||r.call(n,0)}},{key:"didAdUnmute",value:function(){var e,t,n,r,i;null===(e=this.adView)||void 0===e||null===(t=e.unmuted)||void 0===t||t.call(e),null===(n=this.adView)||void 0===n||null===(r=n.volumeChange)||void 0===r||r.call(n,(null===(i=this.playerView)||void 0===i?void 0:i.volume)||0)}},{key:"didAdVolumeChange",value:function(e){var t,n,r=null==e?void 0:e.volume;null===(t=this.adView)||void 0===t||null===(n=t.volumeChange)||void 0===n||n.call(t,r)}},{key:"willAdUpdateLayout",value:function(){this.view.updateLayout()}},{key:"onUserClose",value:function(){gs.userAction.close(this.adContainerId)}},{key:"onUserEnterFullscreen",value:function(){gs.userAction.enterFullscreen()}},{key:"onUserOptout",value:function(){gs.userAction.optout()}},{key:"onUserReplay",value:function(){gs.userAction.replay()}},{key:"onUserVideoClick",value:function(){var e=this.config.videoClicksThrough;gs.userAction.videoClick(e,!0)}},{key:"onUserVolumeSwitch",value:function(){du.adStore.isMuted?gs.userAction.unmute():gs.userAction.mute()}},{key:"onUserVolumeChange",value:function(e){du.adStore.isMuted?0<e&&gs.userAction.unmute():e<=0&&gs.userAction.mute(),gs.userAction.volumeChange(e)}},{key:"adView",get:function(){return this.view}},{key:"playerView",get:function(){return du.adContainerStore.playerView}},{key:"playerSlot",get:function(){var e,t;return null===(e=this.adView)||void 0===e?void 0:null===(t=e.playerSlot)||void 0===t?void 0:t.element}},{key:"config",get:function(){return du.getConfig(this.adContainerId)}},{key:"duration",get:function(){var e=du.adStore.vast,t=hi(this);if(!t.duration){var n=Number.isFinite(e.duration)?e.duration:0;t.duration=Number.isFinite(this.playerView.duration)?this.playerView.duration:n}return t.duration}},{key:"hasEndCard",get:function(){var e;return(null===(e=this.adView)||void 0===e?void 0:e.hasEndCard)||!1}}])&&si(n.prototype,r),t}();function yi(e){return(yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mi(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function gi(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){mi(o,r,i,a,u,"next",e)}function u(e){mi(o,r,i,a,u,"throw",e)}a(void 0)})}}function bi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ai(e,t,n){return(Ai="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ki(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ki(e){return(ki=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Si(e,t){return(Si=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ei(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ci(e){return function(){return gi(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=xi(n=t),n.element.appendChild(r),n._scriptLoaderFrame=r,n.config.isAddedIframeByDocumentWrite)return e.next=8,Vi(n);e.next=10;break;case 8:e.next=12;break;case 10:return e.next=12,Oi(n);case 12:case"end":return e.stop()}},e)})).apply(this,arguments)}.apply(this,arguments)}function xi(e){var t=i.createElement("iframe");return t.width=0,t.height=0,t.frameBorder="0",t.scrolling="no",t.style.position="absolute",t.style.margin="auto",t.style.width="0px",t.style.height="0px",t}function Vi(e){return function(){return gi(regeneratorRuntime.mark(function e(t){var n,r,i,o,a,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t._scriptLoaderFrame,o=i.contentWindow?i.contentWindow.document:i.contentDocument,a=null===(n=du.adStore.vast)||void 0===n?void 0:null===(r=n.media)||void 0===r?void 0:r.uri,u="",u+='<body style="background:transparent;margin:0;">',u+="<script>inDapIF = true;<\/script>",u+='<script src="'.concat(a,'"><\/script>'),u+="</body>",o.open("text/html","replace"),o.write(u),o.close(),"complete"!==o.readyState)return l=function(){return new Promise(function(e){i.onload=function(t){e()}})},e.next=16,l();e.next=16;break;case 16:case"end":return e.stop()}},e)})).apply(this,arguments)}.apply(this,arguments)}function Oi(e){return function(){return gi(regeneratorRuntime.mark(function e(t){var n,r,i,o,a,u,l,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(i=t)._scriptLoaderFrame,a=o.contentWindow?o.contentWindow.document:o.contentDocument,u=null===(n=du.adStore.vast)||void 0===n?void 0:null===(r=n.media)||void 0===r?void 0:r.uri,"complete"!==a.readyState)return l=function(){return new Promise(function(e){o.onload=function(t){e()}})},e.next=8,l();e.next=8;break;case 8:return(s=a.createElement("script")).src=u,a.body.appendChild(s),i._vpaidScript=s,c=function(){return new Promise(function(e){s.onload=function(t){e()}})},e.next=15,c();case 15:case"end":return e.stop()}},e)})).apply(this,arguments)}.apply(this,arguments)}function Ri(e){var t=e;if(t._creative)return t._creative;var n=t._scriptLoaderFrame.contentWindow.getVPAIDAd;if(!m.a.isFunction(n))return null;var r=n();if(!function(e,t){return!!(m.a.isFunction(t.handshakeVersion)&&m.a.isFunction(t.initAd)&&m.a.isFunction(t.startAd)&&m.a.isFunction(t.stopAd)&&m.a.isFunction(t.skipAd)&&m.a.isFunction(t.resizeAd)&&m.a.isFunction(t.pauseAd)&&m.a.isFunction(t.resumeAd)&&m.a.isFunction(t.expandAd)&&m.a.isFunction(t.collapseAd)&&m.a.isFunction(t.subscribe)&&m.a.isFunction(t.unsubscribe))}(0,r))return null;if(!r)throw new Error("VpaidFrame::initVpaid(); failed: can not get VPAID creative.");return t._creative=r}var Bi=function(e){function t(){var e,n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,Ei(wi(e=!(n=ki(t).call(this))||"object"!==yi(n)&&"function"!=typeof n?wi(this):n),"_scriptLoaderFrame",null),Ei(wi(e),"_vpaidScript",null),Ei(wi(e),"_creative",null),Ei(wi(e),"_volumeButton",null),e}var n,r,i,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Si(e,t)}(t,Tr),n=t,(r=[{key:"setup",value:function(e){return Ai(ki(t.prototype),"setup",this).call(this,e),function(e){var t,n,r=e;return r.config.isEnabledVolumeButton&&(t=r,((n=new jn([{option:{bottom:"3px",left:"3px"}}])).delegate=t).videoView.isMuted?n.mute():n.unmute(),t.appendView(n),t._volumeButton=n),r}(this)}},{key:"clear",value:function(){var e,n,r;(null===(e=(r=this)._vpaidScript)||void 0===e?void 0:e.parentElement)&&r._vpaidScript.parentElement.removeChild(r._vpaidScript),((r._vpaidScript=null)===(n=r._scriptLoaderFrame)||void 0===n?void 0:n.parentElement)&&r._scriptLoaderFrame.parentElement.removeChild(r._scriptLoaderFrame),r._scriptLoaderFrame=null,r._creative=null,r._volumeButton&&(r._volumeButton.clear(),r._volumeButton=null),Ai(ki(t.prototype),"clear",this).call(this)}},{key:"create",value:(o=gi(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ci(this);case 2:r=Ri(this),null===(t=this.videoView)||void 0===t||null===(n=t.setCreative)||void 0===n||n.call(t,r);case 4:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"unload",value:(i=gi(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.clear();case 1:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"updateLayout",value:function(){var e,n=Ai(ki(t.prototype),"updateLayout",this).call(this),r=Math.floor(n.width),i=Math.floor(n.height);null===(e=this._creative)||void 0===e||e.resizeAd(r,i,"normal")}},{key:"muted",value:function(){var e;Ai(ki(t.prototype),"muted",this).call(this),null===(e=this._volumeButton)||void 0===e||e.mute()}},{key:"unmuted",value:function(){var e;Ai(ki(t.prototype),"unmuted",this).call(this),null===(e=this._volumeButton)||void 0===e||e.unmute()}},{key:"onUserVolumeSwitch",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onUserVolumeSwitch)||void 0===t||t.call(e)}}])&&bi(n.prototype,r),t}();function Pi(e){return(Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _i(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function Ii(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){_i(o,r,i,a,u,"next",e)}function u(e){_i(o,r,i,a,u,"throw",e)}a(void 0)})}}function Fi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ti(e,t,n){return(Ti="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ji(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ji(e){return(ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ui(e,t){return(Ui=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var zi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==Pi(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,ji(t).call(this))}var n,r,i,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ui(e,t)}(t,vi),n=t,(r=[{key:"clear",value:function(){Ti(ji(t.prototype),"clear",this).call(this)}},{key:"willAdCreate",value:(o=Ii(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.vpaidFrame.create();case 2:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"willAdUnload",value:(i=Ii(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.vpaidFrame.unload();case 2:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"vpaidFrame",get:function(){return this.view}}])&&Fi(n.prototype,r),t}();function Li(e){return(Li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Di(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ni(e,t,n){return(Ni="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Wi(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Wi(e){return(Wi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hi(e,t){return(Hi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qi=function(e){function t(){var e,n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,Qi(Mi(e=!(n=Wi(t).call(this))||"object"!==Li(n)&&"function"!=typeof n?Mi(this):n),"admarkButton",null),Qi(Mi(e),"closeButton",null),Qi(Mi(e),"detailButton",null),Qi(Mi(e),"fullscreenButton",null),Qi(Mi(e),"loadingButton",null),Qi(Mi(e),"replayButton",null),Qi(Mi(e),"optoutButton",null),Qi(Mi(e),"volumeButton",null),Qi(Mi(e),"endCard",null),Qi(Mi(e),"headerFrame",null),Qi(Mi(e),"mainFrame",null),Qi(Mi(e),"footerFrame",null),Qi(Mi(e),"leftSideFrame",null),Qi(Mi(e),"rightSideFrame",null),e}var n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hi(e,t)}(t,Tr),n=t,(o=[{key:"clear",value:function(){var e,n,r,i,o,a,u,l,s,c,d,f,p,h;null===(e=this.admarkButton)||void 0===e||e.clear(),(this.admarkButton=null)===(n=this.closeButton)||void 0===n||n.clear(),(this.closeButton=null)===(r=this.detailButton)||void 0===r||r.clear(),(this.detailButton=null)===(i=this.fullscreenButton)||void 0===i||i.clear(),(this.fullscreenButton=null)===(o=this.loadingButton)||void 0===o||o.clear(),(this.loadingButton=null)===(a=this.replayButton)||void 0===a||a.clear(),(this.replayButton=null)===(u=this.optoutButton)||void 0===u||u.clear(),(this.optoutButton=null)===(l=this.volumeButton)||void 0===l||l.clear(),(this.volumeButton=null)===(s=this.endCard)||void 0===s||s.clear(),(this.endCard=null)===(c=this.headerFrame)||void 0===c||c.clear(),(this.headerFrame=null)===(d=this.mainFrame)||void 0===d||d.clear(),(this.mainFrame=null)===(f=this.footerFrame)||void 0===f||f.clear(),(this.footerFrame=null)===(p=this.leftSideFrame)||void 0===p||p.clear(),(this.leftSideFrame=null)===(h=this.rightSideFrame)||void 0===h||h.clear(),this.rightSideFrame=null,Ni(Wi(t.prototype),"clear",this).call(this)}},{key:"setup",value:function(e){if(!Ni(Wi(t.prototype),"setup",this).call(this,e))throw new Error("setup failed: super.setup failed.");var n;return(n=this).headerFrame=i.createElement("div"),n.mainFrame=i.createElement("div"),n.footerFrame=i.createElement("div"),n.leftSideFrame=i.createElement("div"),n.rightSideFrame=i.createElement("div"),n.headerFrame.id="dac-ivt-header-frame",n.headerFrame.style.width="100%",n.headerFrame.style.height="0px",n.mainFrame.id="dac-ivt-main-frame",n.mainFrame.style.width="100%",n.mainFrame.style.height="100%",n.footerFrame.id="dac-ivt-footer-frame",n.footerFrame.style.width="100%",n.footerFrame.style.height="0px",n.leftSideFrame.id="dac-ivt-left-side-frame",n.leftSideFrame.style.display="inline-block",n.leftSideFrame.style.verticalAlign="top",n.leftSideFrame.style.width="0px",n.leftSideFrame.style.height="100%",n.rightSideFrame.id="dac-ivt-right-side-frame",n.rightSideFrame.style.display="inline-block",n.rightSideFrame.style.verticalAlign="top",n.rightSideFrame.style.width="0px",n.rightSideFrame.style.height="100%",n.playerFrame.style.display="inline-block",n.playerFrame.style.verticalAlign="top",n.playerFrame.style.width="100%",n.playerFrame.style.height="100%",n.playerFrame.style.position="relative",n.element.setAttribute("role","wrapper"),n.element.appendChild(n.headerFrame),n.element.appendChild(n.mainFrame),n.element.appendChild(n.footerFrame),n.mainFrame.appendChild(n.leftSideFrame),n.mainFrame.appendChild(n.playerFrame.element),n.mainFrame.appendChild(n.rightSideFrame),function(e,t){e.config.isEnabledAdmarkButton&&(e.admarkButton=e.createAdmarkButton(),e.admarkButton.hide(),e.appendView(e.admarkButton)),e.config.isEnabledCloseButton&&(e.closeButton=e.createCloseButton(),e.closeButton.style.opacity=0,e.closeButton.hide(),e.appendView(e.closeButton)),e.config.isEnabledOptoutButton&&(e.optoutButton=e.createOptoutButton(),e.optoutButton.hide(),e.appendView(e.optoutButton)),e.config.isEnabledBorder&&(e.element.style.borderStyle="solid",e.element.style.borderWidth="1px 1px 1px 1px",e.element.style.borderColor="gray",e.element.style.boxSizing="border-box")}(this),function(e,t){(e.playerSlot.delegate=e).playerSlot.onClick=function(){e.config.isToFullscreenOnAdClick&&e.config.isInlineVideoSupport?e.onUserEnterFullscreen():e.onUserVideoClick()},e.config.endcardCompanion&&(e.endCard=e.createEndcardCompanion(e.config.endcardCompanion),e.endCard.hide(),e.playerSlot.appendView(e.endCard)),e.config.isEnabledFullscreenButton&&(e.fullscreenButton=e.createFullscreenButton(),e.fullscreenButton.style.opacity=0,e.fullscreenButton.hide(),e.playerSlot.appendView(e.fullscreenButton)),e.config.isEnabledVolumeButton&&(e.volumeButton=e.createVolumeButton(),e.volumeButton.style.opacity=0,e.volumeButton.hide(),e.playerSlot.appendView(e.volumeButton)),e.config.isEnabledReplayButton&&(e.replayButton=e.createReplaylButton(),e.replayButton.style.opacity=0,e.replayButton.hide(),e.playerSlot.appendView(e.replayButton)),e.config.isEnabledDetailButton&&(e.detailButton=e.createDetailButton(),e.detailButton.style.opacity=0,e.detailButton.hide(),e.playerSlot.appendView(e.detailButton)),e.loadingButton=e.createLoadingButton(),e.loadingButton.show(),e.playerSlot.appendView(e.loadingButton)}(this),this}},{key:"createAdmarkButton",value:function(){var e={option:{top:"3px",left:"3px",size:this.admarkButtonSize}};return new In(e)}},{key:"createCloseButton",value:function(){var e={option:{top:"3px",right:"3px",size:this.closeButtonSize}},t=new Fn(e);return t.delegate=this,t}},{key:"createDetailButton",value:function(){var e={option:{bottom:"3px",right:"3px",size:this.detailButtonSize}},t=new Un(e);return t.delegate=this,t}},{key:"createFullscreenButton",value:function(){var e={option:{bottom:"3px",right:"3px",size:this.fullscreenButtonSize}},t=new zn(e);return t.delegate=this,t}},{key:"createLoadingButton",value:function(){var e={style:{margin:"auto"},option:{top:"0",bottom:"0",left:"0",right:"0",size:this.loadingButtonSize}};return new Ln(e)}},{key:"createReplaylButton",value:function(){var e={option:{bottom:"3px",left:"3px",size:this.replayButtonSize}},t=new Dn(e);return t.delegate=this,t}},{key:"createOptoutButton",value:function(){var e={option:{top:"0px",left:"1px",size:this.optoutButtonSize}},t=new Tn(e);return t.delegate=this,t}},{key:"createVolumeButton",value:function(){var e={option:{bottom:"3px",left:"3px",size:this.volumeButtonSize}},t=new jn(e);return t.delegate=this,t}},{key:"createEndcardCompanion",value:function(e){var t=new Mn(e);return t.delegate=this,t}},{key:"loading",value:function(){var e,n,r,i,o,a,u,l,s,c;Ni(Wi(t.prototype),"loading",this).call(this),null===(e=this.admarkButton)||void 0===e||e.show(),null===(n=this.closeButton)||void 0===n||n.hide(),null===(r=this.detailButton)||void 0===r||r.hide(),null===(i=this.fullscreenButton)||void 0===i||i.hide(),null===(o=this.loadingButton)||void 0===o||o.show(),null===(a=this.optoutButton)||void 0===a||a.show(),null===(u=this.replayButton)||void 0===u||u.hide(),null===(l=this.volumeButton)||void 0===l||l.hide(),null===(s=this.endCard)||void 0===s||s.hide(),null===(c=this.playerFrame)||void 0===c||c.show()}},{key:"playing",value:function(){var e,n,r,i=this;Ni(Wi(t.prototype),"playing",this).call(this),null===(e=this.loadingButton)||void 0===e||e.hide(),Promise.all([null===(n=this.detailButton)||void 0===n?void 0:n.fadeout(),null===(r=this.replayButton)||void 0===r?void 0:r.fadeout()]).then(function(){var e,t,n,r,o;null===(e=i.closeButton)||void 0===e||e.fadein(),null===(t=i.fullscreenButton)||void 0===t||t.fadein(),null===(n=i.volumeButton)||void 0===n||n.fadein(),null===(r=i.endCard)||void 0===r||r.hide(),null===(o=i.playerFrame)||void 0===o||o.show()})}},{key:"paused",value:function(){this.log.debug("paused.")}},{key:"ended",value:function(){var e,n,r=this;Ni(Wi(t.prototype),"ended",this).call(this),Promise.all([null===(e=this.fullscreenButton)||void 0===e?void 0:e.fadeout(),null===(n=this.volumeButton)||void 0===n?void 0:n.fadeout()]).then(function(){var e,t,n,i;null===(e=r.detailButton)||void 0===e||e.fadein(),null===(t=r.replayButton)||void 0===t||t.fadein(),r.endCard&&(null===(n=r.endCard)||void 0===n||n.show(),null===(i=r.playerFrame)||void 0===i||i.hide())})}},{key:"muted",value:function(){var e;Ni(Wi(t.prototype),"muted",this).call(this),null===(e=this.volumeButton)||void 0===e||e.mute()}},{key:"unmuted",value:function(){var e;Ni(Wi(t.prototype),"unmuted",this).call(this),null===(e=this.volumeButton)||void 0===e||e.unmute()}},{key:"updateLayout",value:function(){var e,t,n,r,i,o,a,u,l,s,c,d,f,p,h,v,y,m,g,b,w,A,k,S,E,C;return n=(t=(e=this).element.getClientSize()).width,r=t.height,E=n/(S=(k=e).headerFrameDefaultSize).width||1,C=0<(C=S.height*E)?Math.floor(C):0,k.headerFrame.w="100%",i=k.headerFrame.h=C,w=n/(b=(g=e).footerFrameDefaultSize).width||1,A=0<(A=b.height*w)?Math.floor(A):0,g.footerFrame.w="100%",y=(o=function(e,t,n,r,i){var o=e,a=o.config.height;if(0<n){a=(n||0)-(r||0)-(i||0)}else{var u=o.leftSideFrameDefaultSize,l=o.rightSideFrameDefaultSize,s=o.playerFrameDefaultSize,c=u.width*(s.height/u.height)||0,d=l.width*(s.height/l.height)||0,f=s.width+c+d;a=s.height*(t/f)}return a=0<a?Math.floor(a):0,o.mainFrame.w="100%",o.mainFrame.h=a}(e,n,r,i,g.footerFrame.h=A))/(v=(h=e).leftSideFrameDefaultSize).height||1,m=0<(m=v.width*y)?Math.floor(m):0,h.leftSideFrame.w=m,h.leftSideFrame.h="100%",a=m,f=o/(d=(c=e).rightSideFrameDefaultSize).height||1,p=0<(p=d.width*f)?Math.floor(p):0,c.rightSideFrame.w=p,c.rightSideFrame.h="100%",u=p,l=Math.floor(n-a-u),s=Math.floor(o),e.playerFrame.element.w=l,e.playerFrame.element.h=s,e.videoCanvas.updateLayout(),e.videoCanvas.draw(),t}},{key:"onUserVideoClick",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserVideoClick(this)}},{key:"onUserClose",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserClose(this)}},{key:"onUserOptout",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserOptout(this)}},{key:"onUserVolumeSwitch",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserVolumeSwitch(this)}},{key:"onUserEnterFullscreen",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserEnterFullscreen(this)}},{key:"onUserReplay",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserReplay(this)}},{key:"hasEndCard",get:function(){return Boolean(this.endCard)}},{key:"admarkButtonSize",get:function(){return We.admarkButtonSize}},{key:"closeButtonSize",get:function(){return We.closeButtonSize}},{key:"detailButtonSize",get:function(){return We.detailButtonSize}},{key:"fullscreenButtonSize",get:function(){return We.fullscreenButtonSize}},{key:"loadingButtonSize",get:function(){return We.loadingButtonSize}},{key:"replayButtonSize",get:function(){return We.replayButtonSize}},{key:"optoutButtonSize",get:function(){return We.optoutButtonSize}},{key:"volumeButtonSize",get:function(){return We.volumeButtonSize}},{key:"headerFrameDefaultSize",get:function(){return new r.IvtSize(0,0)}},{key:"footerFrameDefaultSize",get:function(){return new r.IvtSize(0,0)}},{key:"leftSideFrameDefaultSize",get:function(){return new r.IvtSize(0,0)}},{key:"rightSideFrameDefaultSize",get:function(){return new r.IvtSize(0,0)}}])&&Di(n.prototype,o),t}();function Yi(e){return(Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ki(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zi(e,t){return!t||"object"!==Yi(t)&&"function"!=typeof t?Xi(e):t}function Xi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ji(e,t,n){return(Ji="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$i(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function $i(e){return($i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function to(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}m.a.namespace();var no=function(e){function t(){var e;return Ki(this,t),to(Xi(e=Zi(this,$i(t).call(this))),"headerView",null),to(Xi(e),"footerView",null),to(Xi(e),"_headerFrameSize",new r.IvtSize(0,0)),to(Xi(e),"_footerFrameSize",new r.IvtSize(0,0)),to(Xi(e),"_bottomRightButton",null),e}var n,i;return eo(t,qi),n=t,(i=[{key:"clear",value:function(){var e,n,r;null===(e=this._bottomRightButton)||void 0===e||e.clear(),this._bottomRightButton=null,this._headerFrameSize=null,(this._footerFrameSize=null)===(n=this.headerView)||void 0===n||n.clear(),(this.headerView=null)===(r=this.footerView)||void 0===r||r.clear(),this.footerView=null,Ji($i(t.prototype),"clear",this).call(this)}},{key:"setup",value:function(e){var n=e||{};Ji($i(t.prototype),"setup",this).call(this,n);var r=this.config.footerVastCompanion,i=this.config.headerImgUrl,o=this.config.headerSize,a=this.config.isToFullscreenOnAdClick,u=this.config.isEnabledDetailButton;return r&&(this.footerView=new io(r),(this.footerView.delegate=this).footerFrame.appendChild(this.footerView.element),r.size&&(this._footerFrameSize.width=Number(r.size.width)||0,this._footerFrameSize.height=Number(r.size.height)||0)),i&&(this.headerView=new ro(i),(this.headerView.delegate=this).headerFrame.appendChild(this.headerView.element),o&&(this._headerFrameSize.width=Number(o.width)||0,this._headerFrameSize.height=Number(o.height)||0)),a&&(this.fullscreenButton&&(this.fullscreenButton.clear(),this.fullscreenButton=null),u&&(this._bottomRightButton=this.createDetailButton(),this.playerSlot.appendView(this._bottomRightButton))),this}},{key:"loading",value:function(){var e;Ji($i(t.prototype),"loading",this).call(this),null===(e=this._bottomRightButton)||void 0===e||e.hide()}},{key:"playing",value:function(){var e;Ji($i(t.prototype),"playing",this).call(this),null===(e=this._bottomRightButton)||void 0===e||e.fadein()}},{key:"ended",value:function(){var e;Ji($i(t.prototype),"ended",this).call(this),null===(e=this._bottomRightButton)||void 0===e||e.fadeout()}},{key:"headerFrameDefaultSize",get:function(){return this._headerFrameSize}},{key:"footerFrameDefaultSize",get:function(){return this._footerFrameSize}}])&&Gi(n.prototype,i),t}(),ro=function(e){function t(e,n){var r;Ki(this,t);var i={attributes:{id:"dac-ivt-header"},option:{layout:"contain",size:{width:"100%",height:"100%"},sources:{normal:e}}};return(r=Zi(this,$i(t).call(this))).setup([].concat(n,i)),r}return eo(t,ln),t}(),io=function(e){function t(e,n){var r;return Ki(this,t),(r=Zi(this,$i(t).call(this))).setup(e,[].concat(n,{attributes:{id:"dac-ivt-footer"},option:{layout:"contain",size:{width:"100%",height:"100%"}}})),r}return eo(t,dn),t}(),oo=no;function ao(e){return(ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function so(e,t,n){return(so="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=co(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function co(e){return(co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fo(e,t){return(fo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function po(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}m.a.namespace();var ho=function(e){function t(){var e,n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,po(lo(e=!(n=co(t).call(this))||"object"!==ao(n)&&"function"!=typeof n?lo(this):n),"_leftCompanionSize",new r.IvtSize(0,0)),po(lo(e),"_rightCompanionSize",new r.IvtSize(0,0)),e}var n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fo(e,t)}(t,oo),n=t,(i=[{key:"clear",value:function(){this._leftCompanionSize=null,this._rightCompanionSize=null,so(co(t.prototype),"clear",this).call(this)}},{key:"setup",value:function(e){var n=e||{};so(co(t.prototype),"setup",this).call(this,n);var r=this.config.leftVastCompanion;r&&(this.leftCompanion=(new dn).setup(r,[{option:{size:{width:"100%",height:"100%"}}}]),(this.leftCompanion.delegate=this).leftSideFrame.appendChild(this.leftCompanion.element),this._leftCompanionSize=r.size.clone());var i=this.config.rightVastCompanion;return i&&(this.rightCompanion=(new dn).setup(i,[{option:{size:{width:"100%",height:"100%"}}}]),(this.rightCompanion.delegate=this).rightSideFrame.appendChild(this.rightCompanion.element),this._rightCompanionSize=i.size.clone()),this}},{key:"closeButtonSize",get:function(){return We.billboardCloseButtonSize}},{key:"detailButtonSize",get:function(){return We.billboardDetailButtonSize}},{key:"fullscreenButtonSize",get:function(){return We.billboardFullscreenButtonSize}},{key:"loadingButtonSize",get:function(){return We.billboardLoadingButtonSize}},{key:"replayButtonSize",get:function(){return We.billboardReplayButtonSize}},{key:"volumeButtonSize",get:function(){return We.billboardVolumeButtonSize}},{key:"leftSideFrameDefaultSize",get:function(){return this._leftCompanionSize}},{key:"rightSideFrameDefaultSize",get:function(){return this._rightCompanionSize}}])&&uo(n.prototype,i),t}();function vo(e){return(vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function go(e,t,n){return(go="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=bo(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function bo(e){return(bo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wo(e,t){return(wo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ao(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ko(e){var t=e,n=new r.IvtSize(0,0),i=t.element.getClientSize(),o=i.width,a=i.height,u=t.playerFrameDefaultSize;if(u.height<=0)return n;if(t.element.parentElement.style.height.includes("auto")){var l=o-u.width;n.width=0<l?l:0,n.height=u.height}else{var s=o-(u.width*(a/u.height)||0);n.width=0<s?s:0,n.height=a}return n}function So(e){var t=e,n=new r.IvtSize(0,0),i=t.element.getClientSize(),o=i.width,a=i.height,u=t.playerFrameDefaultSize;if(u.width<=0)return n;var l=u.height*(o/u.width)||0;if(t.element.parentElement.style.height.includes("auto"))n.width=o,n.height=l;else{var s=a-l;n.width=o,n.height=0<s?s:0}return n}var Eo=function(e){function t(){var e,n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,Ao(mo(e=!(n=bo(t).call(this))||"object"!==vo(n)&&"function"!=typeof n?mo(this):n),"_companionView",null),Ao(mo(e),"_prButton",null),e}var n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wo(e,t)}(t,oo),n=t,(o=[{key:"clear",value:function(){this._companionView.clear(),this._companionView=null,this._prButton.clear(),this._prButton=null,go(bo(t.prototype),"clear",this).call(this)}},{key:"setup",value:function(e){var n=e||{};go(bo(t.prototype),"setup",this).call(this,n);var r=this.config.infeedStyle;if(m.a.isEmpty(r)||this.footerView)return this;var o=du.adStore.vast,a=o.adTitle,l=o.description,s=o.advertiser;this.log.debug("infeedStyle",r),this.log.debug("Vast.AdTitle: ".concat(a,".")),this.log.debug("Vast.Description: ".concat(l,".")),this.log.debug("Vast.Advertiser: ".concat(s,"."));var c=function(e){var t=e||{},n=t.infeedStyle||{};if(m.a.isEmpty(t.adTitle)||m.a.isEmpty(t.description)||m.a.isEmpty(t.advertiser))return null;var r={style:{cursor:"pointer"}};n.area&&m.a.deepMerge(r.style,n.area.style);var o=(new rt).setup("div",r);if(o.element.style.position="relative",o.element.style.width="100%",o.element.style.height="100%",n.text){if(n.text.adTitle){var a=i.createElement("span");a.textContent=t.adTitle,m.a.deepMerge(a.style,n.text.adTitle.style),o.element.appendChild(a)}if(n.text.description){var u=i.createElement("span");u.textContent=t.description,m.a.deepMerge(u.style,n.text.description.style),o.element.appendChild(u)}if(n.text.advertiser){var l=i.createElement("span");l.textContent=t.advertiser,m.a.deepMerge(l.style,n.text.advertiser.style),o.element.appendChild(l)}}return o}({infeedStyle:r,adTitle:a,description:l,advertiser:s});if(c&&m.a.isNotEmpty(r.area)&&m.a.isNotEmpty(r.area.position)){switch(r.area.position){case"left":this.leftSideFrame.appendChild(c.element);break;case"right":this.rightSideFrame.appendChild(c.element);break;case"top":this.headerFrame.appendChild(c.element);break;case"bottom":this.footerFrame.appendChild(c.element)}c.element.parentElement&&(this._companionView=c,this._companionView.on("didClick",this))}var d=function(e){var t=(e||{}).infeedStyle||{};if(m.a.isEmpty(t.prButton))return null;var n={};if(t.prButton.style&&(n.style={},m.a.deepMerge(n.style,t.prButton.style)),m.a.isString(t.prButton.position)){switch(t.prButton.position.trim()){case"leftTop":n.option={top:"3px",left:"3px"};break;case"rightTop":n.option={top:"3px",right:"3px"};break;case"leftBottom":n.option={bottom:"3px",left:"3px"};break;case"rightBottom":n.option={bottom:"3px",right:"3px"}}n.option.size=We.infeedPrButtonSize}return new Nn([n])}({infeedStyle:r});return d&&(d.on(u.IvtUserNotification.didUserVideoClick,this),this.appendView(d),this._prButton=d),this}},{key:"closeButtonSize",get:function(){return We.infeedCloseButtonSize}},{key:"detailButtonSize",get:function(){return We.infeedDetailButtonSize}},{key:"fullscreenButtonSize",get:function(){return We.infeedFullscreenButtonSize}},{key:"loadingButtonSize",get:function(){return We.infeedLoadingButtonSize}},{key:"replayButtonSize",get:function(){return We.infeedReplayButtonSize}},{key:"volumeButtonSize",get:function(){return We.infeedVolumeButtonSize}},{key:"leftSideFrameDefaultSize",get:function(){var e,t;return this.leftSideFrame===(null===(e=this._companionView)||void 0===e?void 0:null===(t=e.element)||void 0===t?void 0:t.parentElement)?ko(this):new r.IvtSize(0,0)}},{key:"rightSideFrameDefaultSize",get:function(){var e,t;return this.rightSideFrame===(null===(e=this._companionView)||void 0===e?void 0:null===(t=e.element)||void 0===t?void 0:t.parentElement)?ko(this):new r.IvtSize(0,0)}},{key:"headerFrameDefaultSize",get:function(){var e,t;return this.headerFrame===(null===(e=this._companionView)||void 0===e?void 0:null===(t=e.element)||void 0===t?void 0:t.parentElement)?So(this):new r.IvtSize(0,0)}},{key:"footerFrameDefaultSize",get:function(){var e,n;return this.footerView?go(bo(t.prototype),"footerFrameDefaultSize",this):this.footerFrame===(null===(e=this._companionView)||void 0===e?void 0:null===(n=e.element)||void 0===n?void 0:n.parentElement)?So(this):new r.IvtSize(0,0)}}])&&yo(n.prototype,o),t}();function Co(e){return(Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oo(e,t,n){return t&&Vo(e.prototype,t),n&&Vo(e,n),e}function Ro(e,t){return!t||"object"!==Co(t)&&"function"!=typeof t?Bo(e):t}function Bo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Po(e,t,n){return(Po="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_o(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _o(e){return(_o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Io(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}var Fo=m.a.namespace(),To=We.inreadVolumeOffButtonSrc,jo=We.inreadVolumeOnButtonSrc,Uo=We.inreadRTVolumeButtonSize,zo=We.inreadTimeBarSize,Lo=We.inreadVolumeBarSize,Do=We.inreadVolumeButtonSize,Mo=We.inreadVolumeSliderSize,No=function(e){function t(){var e,n,r,i;xo(this,t),i=void 0,(r="_requestId")in(n=Bo(e=Ro(this,_o(t).call(this))))?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,e._requestId=null;var o=Fo(Bo(e));return o.volumeBar=null,o.volumeButtonOnBar=null,o.volumeSlider=null,o.timeBar=null,e}return Io(t,qi),Oo(t,[{key:"clear",value:function(){Wo(this);var e=Fo(this);e.volumeButtonOnBar&&e.volumeButtonOnBar.clear(),e.volumeButtonOnBar=null,delete e.volumeButtonOnBar,e.volumeSlider&&e.volumeSlider.clear(),e.volumeSlider=null,delete e.volumeSlider,e.volumeBar&&e.volumeBar.clear(),e.volumeBar=null,delete e.volumeBar,e.timeBar&&e.timeBar.clear(),e.timeBar=null,delete e.timeBar,Po(_o(t.prototype),"clear",this).call(this)}},{key:"setup",value:function(e){var n,r,o;return Po(_o(t.prototype),"setup",this).call(this,e),null===(n=this.closeButton)||void 0===n||n.clear(),(this.closeButton=null)===(r=this.fullscreenButton)||void 0===r||r.clear(),(this.fullscreenButton=null)===(o=this.detailButton)||void 0===o||o.clear(),this.detailButton=null,0<du.option.autoCloseDuration&&(this.replayButton.clear(),this.replayButton=null),function(e){var t,n,r,o,a,l,s,c=e,d=Fo(c);xe.deviceType===u.IvtDeviceType.PC&&(xe.browserType===u.IvtBrowserType.Safari&&11<=xe.browserVersion||(c.playerSlot.onMouseover=function(e){var t;(t=Fo(c)).volumeBar.show(),t.volumeSlider.show(),t.volumeButtonOnBar.show()},c.playerSlot.onMouseout=function(){var e;(e=Fo(c)).volumeBar.hide(),e.volumeSlider.hide(),e.volumeButtonOnBar.hide()})),d.timeBar=((s=i.createElement("timebar")).style.backgroundColor="#FFD700",s.style.position="absolute",s.style.left="0px",s.style.bottom="0px",s.size=zo,s),c.playerSlot.element.appendChild(d.timeBar),d.volumeBar=((l=i.createElement("volumeBar")).style.backgroundColor="#999999",l.style.opacity="0.5",l.style.position="absolute",l.style.right="0px",l.style.top="0px",l.size=Lo,l),d.volumeBar.hide(),c.playerSlot.element.appendChild(d.volumeBar),d.volumeSlider=(r=c,o={},(a=(new Qo).setup(o)).delegate=r,a),d.volumeSlider.hide(),c.playerSlot.appendView(d.volumeSlider),d.volumeButtonOnBar=(t=c,(n=new jn({option:{top:"5px",right:"110px",size:Uo,sources:{normal:To}}})).volumeOffButtonSrc=To,n.volumeOnButtonSrc=jo,n.delegate=t,n),d.volumeButtonOnBar.hide(),c.playerSlot.appendView(d.volumeButtonOnBar)}(this),this}},{key:"createVolumeButton",value:function(){var e=new jn({option:{bottom:"5px",right:"5px",size:Do,sources:{normal:To}}});return e.volumeOffButtonSrc=To,e.volumeOnButtonSrc=jo,e.delegate=this,e}},{key:"playing",value:function(){var e;Po(_o(t.prototype),"playing",this).call(this),(e=this)._requestId||(e._requestId=window.requestAnimationFrame(function t(){Ho(e),e._requestId=window.requestAnimationFrame(t)}))}},{key:"paused",value:function(){Po(_o(t.prototype),"paused",this).call(this),Wo(this)}},{key:"ended",value:function(){Po(_o(t.prototype),"ended",this).call(this),Wo(this);var e=Fo(this);e.timeBar&&(e.timeBar.w=0)}},{key:"muted",value:function(){Po(_o(t.prototype),"muted",this).call(this);var e=Fo(this);e.volumeButtonOnBar&&e.volumeButtonOnBar.mute()}},{key:"unmuted",value:function(){Po(_o(t.prototype),"unmuted",this).call(this);var e=Fo(this);e.volumeButtonOnBar&&e.volumeButtonOnBar.unmute(),e.volumeSlider.element.value=100*this.player.volume}},{key:"volumeChange",value:function(e){Po(_o(t.prototype),"volumeChange",this).call(this,e);var n=Fo(this);0<e?n.volumeSlider&&(n.volumeSlider.element.value=100*e):0===e&&n.volumeSlider&&(n.volumeSlider.element.value=0)}},{key:"updateLayout",value:function(){var e=Po(_o(t.prototype),"updateLayout",this).call(this),n=Fo(this),r=this.element.w;return n.volumeBar&&n.volumeBar.wh(r,32),e}},{key:"onUserVolumeChange",value:function(){var e=Fo(this).volumeSlider.element.value;if(e){var t,n=e/100;null===(t=this.delegate)||void 0===t||t.onUserVolumeChange(n)}}}]),t}();function Wo(e){var t=e;t._requestId&&(window.cancelAnimationFrame(t._requestId),t._requestId=null),Ho(t)}function Ho(e){var t=e,n=t.player;if(n){var r=Fo(t),i=n.duration,o=n.currentTime,a=t.element.w,u=r.timeBar.w;0<i&&(u=a*o/i),a<u&&(u=a),r.timeBar.w=u}}var Qo=function(e){function t(){return xo(this,t),Ro(this,_o(t).call(this))}return Io(t,cn),Oo(t,[{key:"setup",value:function(e){var n={attributes:{className:"dac-ivt-volume-slider"},type:"range",value:0,style:{position:"absolute"},option:{top:"14px",right:"20px",size:Mo}},r=e||{},i=m.a.deepMerge({},n,r);return Po(_o(t.prototype),"setup",this).call(this,i),this}},{key:"onInput",value:function(e){var t,n;this.log.debug("onInput."),null===(t=this.delegate)||void 0===t||null===(n=t.onUserVolumeChange)||void 0===n||n.call(t)}},{key:"onChange",value:function(e){var t,n;this.log.debug("onInput."),null===(t=this.delegate)||void 0===t||null===(n=t.onUserVolumeChange)||void 0===n||n.call(t)}},{key:"onClick",value:function(e){var t,n;this.log.debug("onClick."),null===(t=this.delegate)||void 0===t||null===(n=t.onUserVolumeChange)||void 0===n||n.call(t)}}]),t}(),qo=No;function Yo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ko(e){return(Ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Go(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xo(e,t,n){return(Xo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Jo(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Jo(e){return(Jo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $o(e,t){return($o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ea(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ta(e){var t=e,n=t._creative,r=t._callbacks;if(n&&r){for(var i=Object.entries(r),o=0;o<i.length;o++){var a=Yo(i[o],2),u=a[0],l=a[1];n.unsubscribe(l,u)}t._callbacks=null}}var na=function(e){function t(){var e,n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,ea(Zo(e=!(n=Jo(t).call(this))||"object"!==Ko(n)&&"function"!=typeof n?Zo(this):n),"_callbacks",null),ea(Zo(e),"_creative",null),ea(Zo(e),"_isStarted",!1),ea(Zo(e),"_lastVpaidVolume",1),e}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$o(e,t)}(t,ti),n=t,(r=[{key:"setup",value:function(e){return Xo(Jo(t.prototype),"setup",this).call(this,e),this._callbacks=null,this._creative=null,this._isStarted=!1,this._lastVpaidVolume=this.videoElement.volume,this}},{key:"clear",value:function(){ta(this),this._creative&&(this._creative=null),this._isStarted=!1,this._lastVpaidVolume=0,Xo(Jo(t.prototype),"clear",this).call(this)}},{key:"setCreative",value:function(e){this._creative=e}},{key:"setMuted",value:function(e){e!==this.isMuted&&(e?(this._lastVpaidVolume=this.volume,Xo(Jo(t.prototype),"setMuted",this).call(this,!0),this.setVolume(0)):(Xo(Jo(t.prototype),"setMuted",this).call(this,!1),this.setVolume(this._lastVpaidVolume)))}},{key:"setVolume",value:function(e){var t;null===(t=this._creative)||void 0===t||t.setAdVolume(e)}},{key:"load",value:function(){var e,t,n,r,i,o,a,u,l,s,c,d,f,p,h,v=function(e){for(var t=e,n=t._creative,r={AdLoaded:t.onVpaidLoad,AdStarted:t.onVpaidStart,AdStopped:t.onVpaidStop,AdPlaying:t.onVpaidPlay,AdPaused:t.onVpaidPause,AdVolumeChange:t.onVpaidVolumeChange,AdImpression:t.onVpaidImpression,AdClickThru:t.onVpaidClickThru,AdUserClose:t.onVpaidUserClose,AdError:t.onVpaidError,AdLog:t.onVpaidLog,AdUserAcceptInvitation:t.onVpaidUserAcceptInvitation,AdUserMinimize:t.onVpaidUserMinimize,AdVideoStart:t.onVpaidProgressStart,AdVideoFirstQuartile:t.onVpaidProgressFirstQuartile,AdVideoMidpoint:t.onVpaidProgressMidpoint,AdVideoThirdQuartile:t.onVpaidProgressThirdQuartile,AdVideoComplete:t.onVpaidProgressComplete,AdExpandedChange:t.onVpaidExpandedChange,AdInteraction:t.onVpaidInteraction,AdLinearChange:t.onVpaidLinearChange,AdSkipped:t.onVpaidSkip,AdRemainingTimeChange:t.onVpaidRemainingTimeChange,AdSizeChange:t.onVpaidSizeChange,AdDurationChange:t.onVpaidDurationChange,AdSkippableStateChange:t.onVpaidSkippableStateChange},i=Object.entries(r),o=0;o<i.length;o++){var a=Yo(i[o],2),u=a[0],l=a[1];n.subscribe(l,u,t)}return r}(this);this._callbacks=v,o=null===(e=du.adStore.vast)||void 0===e?void 0:e.adParameters,u=null==(a=null===(t=du.adStore.vast)||void 0===t?void 0:t.media)?void 0:a.width,l=null==a?void 0:a.height,s=null==a?void 0:a.bitrate,c=isFinite(u)?u:640,d=isFinite(l)?l:360,f=s,p={AdParameters:o},h={slot:null===(n=du.primaryAdContainer.view)||void 0===n?void 0:null===(r=n.adView)||void 0===r?void 0:null===(i=r.playerSlot)||void 0===i?void 0:i.element,videoSlot:this.element,videoSlotCanAutoPlay:!0},this._creative.initAd(c,d,"normal",f,p,h)}},{key:"unload",value:function(){var e;ta(this),null===(e=this._creative)||void 0===e||e.stopAd(),Xo(Jo(t.prototype),"clear",this).call(this)}},{key:"play",value:function(){var e,t;this.isPlaying||(this._isStarted?null===(e=this._creative)||void 0===e||e.resumeAd():(this._isStarted=!0,null===(t=this._creative)||void 0===t||t.startAd()))}},{key:"pause",value:function(){var e;this.isPaused||null===(e=this._creative)||void 0===e||e.pauseAd()}},{key:"onVpaidLoad",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidLoad)||void 0===t||t.call(e)}},{key:"onVpaidStart",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidStart)||void 0===t||t.call(e)}},{key:"onVpaidStop",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidStop)||void 0===t||t.call(e)}},{key:"onVpaidPlay",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidPlay)||void 0===t||t.call(e)}},{key:"onVpaidPause",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidPause)||void 0===t||t.call(e)}},{key:"onVpaidVolumeChange",value:function(){this.onVideoVolumeChange()}},{key:"onVpaidImpression",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidImpression)||void 0===t||t.call(e)}},{key:"onVpaidClickThru",value:function(e,t,n){var r,i;null===(r=this.delegate)||void 0===r||null===(i=r.onVpaidClickThru)||void 0===i||i.call(r,e,t,n)}},{key:"onVpaidUserClose",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidUserClose)||void 0===t||t.call(e)}},{key:"onVpaidError",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidError)||void 0===t||t.call(e)}},{key:"onVpaidLog",value:function(e){var t,n;null===(t=this.delegate)||void 0===t||null===(n=t.onVpaidLog)||void 0===n||n.call(t,e)}},{key:"onVpaidUserAcceptInvitation",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidUserAcceptInvitation)||void 0===t||t.call(e)}},{key:"onVpaidUserMinimize",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidUserMinimize)||void 0===t||t.call(e)}},{key:"onVpaidProgressStart",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidProgressStart)||void 0===t||t.call(e)}},{key:"onVpaidProgressFirstQuartile",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidProgressFirstQuartile)||void 0===t||t.call(e)}},{key:"onVpaidProgressMidpoint",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidProgressMidpoint)||void 0===t||t.call(e)}},{key:"onVpaidProgressThirdQuartile",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidProgressThirdQuartile)||void 0===t||t.call(e)}},{key:"onVpaidProgressComplete",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidProgressComplete)||void 0===t||t.call(e)}},{key:"onVpaidExpandedChange",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidExpandedChange)||void 0===t||t.call(e)}},{key:"onVpaidInteraction",value:function(e){var t,n;null===(t=this.delegate)||void 0===t||null===(n=t.onVpaidInteraction)||void 0===n||n.call(t,e)}},{key:"onVpaidLinearChange",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidLinearChange)||void 0===t||t.call(e)}},{key:"onVpaidSkip",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidSkip)||void 0===t||t.call(e)}},{key:"onVpaidRemainingTimeChange",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidRemainingTimeChange)||void 0===t||t.call(e)}},{key:"onVpaidSizeChange",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidSizeChange)||void 0===t||t.call(e)}},{key:"onVpaidDurationChange",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidDurationChange)||void 0===t||t.call(e)}},{key:"onVpaidSkippableStateChange",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidSkippableStateChange)||void 0===t||t.call(e)}},{key:"duration",get:function(){var e=Xo(Jo(t.prototype),"duration",this);if(!this._creative)return e;var n=this._creative.getAdDuration();return 0<n?n:e}},{key:"isMuted",get:function(){return Xo(Jo(t.prototype),"isMuted",this)}},{key:"volume",get:function(){var e;return null===(e=this._creative)||void 0===e?void 0:e.getAdVolume()}},{key:"adLinear",get:function(){var e;return null===(e=this._creative)||void 0===e?void 0:e.getAdLinear()}},{key:"adWidth",get:function(){var e;return null===(e=this._creative)||void 0===e?void 0:e.getAdWidth()}},{key:"adHeight",get:function(){var e;return null===(e=this._creative)||void 0===e?void 0:e.getAdHeight()}},{key:"adExpanded",get:function(){var e;return null===(e=this._creative)||void 0===e?void 0:e.getAdExpanded()}},{key:"adSkippableState",get:function(){var e;return null===(e=this._creative)||void 0===e?void 0:e.getAdSkippableState()}},{key:"adCompanions",get:function(){var e;return null===(e=this._creative)||void 0===e?void 0:e.getAdCompanions()}},{key:"adIcons",get:function(){var e;return null===(e=this._creative)||void 0===e?void 0:e.getAdIcons()}}])&&Go(n.prototype,r),t}();function ra(e){return(ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ia(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function oa(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){ia(o,r,i,a,u,"next",e)}function u(e){ia(o,r,i,a,u,"throw",e)}a(void 0)})}}function aa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ua(e,t,n){return(ua="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=la(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function la(e){return(la=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sa(e,t){return(sa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ca=new p("VpaidViewController"),da=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e=this,!(n=la(t).call(this))||"object"!==ra(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n;var e,n}var n,r,i,o,a,l,s,c,d,f,p,h;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sa(e,t)}(t,Qr),n=t,(r=[{key:"clear",value:function(){ua(la(t.prototype),"clear",this).call(this)}},{key:"willAdLoad",value:(h=oa(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ua(la(t.prototype),"willAdLoad",this).call(this));case 1:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)})},{key:"willAdUnload",value:(p=oa(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ua(la(t.prototype),"willAdUnload",this).call(this));case 1:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"willAdStart",value:(f=oa(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!0===this.videoView.isPlaying)return ca.debug("willAdStart(); but video is already playing."),e.abrupt("return",Promise.resolve());e.next=3;break;case 3:return t=this._addTask("start"),this.videoView.play(),e.abrupt("return",t);case 6:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"willAdStop",value:(d=oa(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ua(la(t.prototype),"willAdStop",this).call(this));case 1:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)})},{key:"willAdPlay",value:(c=oa(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ua(la(t.prototype),"willAdPlay",this).call(this));case 1:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"willAdPause",value:(s=oa(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ua(la(t.prototype),"willAdPause",this).call(this));case 1:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"willAdMute",value:(l=oa(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ua(la(t.prototype),"willAdMute",this).call(this));case 1:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"willAdUnMute",value:(a=oa(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ua(la(t.prototype),"willAdUnMute",this).call(this));case 1:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"willAdVolumeChange",value:(o=oa(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ua(la(t.prototype),"willAdVolumeChange",this).call(this,n));case 1:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"onVideoEnded",value:(i=oa(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.log.debug("onVideoEnded();"),e.next=3,gs.adAction.videoEnded();case 3:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"onVpaidLoad",value:function(){var e=this._removeTask("load");return e?(ca.debug("onVpaidLoad(); task is over."),void e.resolve(!0)):void ca.debug("onVpaidLoad(); This callback is called from the VPAID.")}},{key:"onVpaidStart",value:function(){var e=this._removeTask("start");return e?(ca.debug("onVpaidStart(); task is over."),void e.resolve(!0)):void ca.debug("onVpaidStart(); This callback is called from the VPAID.")}},{key:"onVpaidStop",value:function(){ca.debug("onVpaidStop();"),gs.adAction.stop()}},{key:"onVpaidPlay",value:function(){var e=this._removeTask("play");return e?(ca.debug("onVpaidPlay(); task is over."),void e.resolve(!0)):(ca.debug("onVpaidPlay(); This callback is called from the VPAID."),void gs.userAction.play(u.IvtPlayerPausedReason.vpaid))}},{key:"onVpaidPause",value:function(){var e=this._removeTask("pause");return e?(ca.debug("onVpaidPause(); task is over."),void e.resolve(!0)):(ca.debug("onVpaidPause(); This callback is called from the VPAID."),void gs.userAction.pause(u.IvtPlayerPausedReason.vpaid))}},{key:"onVpaidUserClose",value:function(){ca.debug("onVpaidUserClose();"),gs.userAction.close()}},{key:"onVpaidClickThru",value:function(e,t,n){ca.debug("onVpaidClickThru(url: ".concat(e,", id: ").concat(t,", playerHandles: ").concat(n,");")),gs.userAction.videoClick(e,n)}},{key:"onVpaidImpression",value:function(){ca.debug("onVpaidImpression();"),gs.adAction.impression()}},{key:"onVpaidError",value:function(e){ca.debug("onVpaidError(message: ".concat(e,");")),gs.action.raiseError(u.vpaid,e)}},{key:"onVpaidLog",value:function(e){ca.debug("onVpaidLog(Id: ".concat(e,");"))}},{key:"onVpaidUserAcceptInvitation",value:function(){ca.debug("onVpaidUserAcceptInvitation()"),gs.userAction.acceptInvitation()}},{key:"onVpaidUserMinimize",value:function(){ca.debug("onVpaidUserMinimize()"),gs.userAction.collapse()}},{key:"onVpaidProgressStart",value:function(){var e=this.videoView.progress,n=this.videoView.duration;ua(la(t.prototype),"onVideoProgressStart",this).call(this,e,n)}},{key:"onVpaidProgressFirstQuartile",value:function(){var e=this.videoView.progress,n=this.videoView.duration;ua(la(t.prototype),"onVideoProgressFirstQuartile",this).call(this,e,n)}},{key:"onVpaidProgressMidpoint",value:function(){var e=this.videoView.progress,n=this.videoView.duration;ua(la(t.prototype),"onVideoProgressMidpoint",this).call(this,e,n)}},{key:"onVpaidProgressThirdQuartile",value:function(){var e=this.videoView.progress,n=this.videoView.duration;ua(la(t.prototype),"onVideoProgressThirdQuartile",this).call(this,e,n)}},{key:"onVpaidProgressComplete",value:function(){var e=this.videoView.duration;ua(la(t.prototype),"onVideoProgressComplete",this).call(this,e,e)}},{key:"onVpaidDurationChange",value:function(){ca.debug("onVpaidDurationChange(); duration = ".concat(this.duration,"."))}},{key:"onVpaidExpandedChange",value:function(){ca.debug("onVpaidExpandedChange(); adExpanded = ".concat(this.adExpanded,";"))}},{key:"onVpaidInteraction",value:function(e){ca.debug("onVpaidInteraction(id: ".concat(e,");"))}},{key:"onVpaidLinearChange",value:function(){ca.debug("onVpaidLinearChange(); adLinear = ".concat(this.adLinear,";"))}},{key:"onVpaidRemainingTimeChange",value:function(){}},{key:"onVpaidSizeChange",value:function(){ca.debug("onVpaidSizeChange(); adWidth = ".concat(this.adWidth,", adHeight = ").concat(this.adHeight,"."))}},{key:"onVpaidSkip",value:function(){ca.debug("onVpaidSkip();")}},{key:"onVpaidSkippableStateChange",value:function(){ca.debug("onVpaidSkippableStateChange(); adSkippableState = ".concat(this.adSkippableState,"."))}},{key:"vpaidView",get:function(){return this.view}}])&&aa(n.prototype,r),t}();function fa(e){return(fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ha(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function va(e,t,n){return(va="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ya(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ya(e){return(ya=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ma(e,t){return(ma=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ga(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ba=new p(wa),wa=function(e){function t(){var e,n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,ga(ha(e=!(n=ya(t).call(this))||"object"!==fa(n)&&"function"!=typeof n?ha(this):n),"_styleElement",null),ga(ha(e),"_timeoutId",null),ga(ha(e),"_ended",!0),e}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ma(e,t)}(t,ui),n=t,(r=[{key:"clear",value:function(){var e;Aa(this),(null===(e=this._styleElement)||void 0===e?void 0:e.parentElement)&&(this._styleElement.parentElement.removeChild(this._styleElement),this._styleElement=null),va(ya(t.prototype),"clear",this).call(this)}},{key:"setup",value:function(e){var n=e||{};return va(ya(t.prototype),"setup",this).call(this,n),this._ended=!0,this.videoElement.className="dac-ivt-video-animation-view",this}},{key:"load",value:function(){va(ya(t.prototype),"load",this).call(this),this._ended=!1}},{key:"play",value:function(){var e=this;0<this.player.readyState&&this.isPaused&&(ba.debug("play();"),function(e){var t=e;t.isPlaying||function e(t){var n=t,r=n.videoElement,i=r.duration,o=i-.2,a=r.currentTime+.2;a<o?(n._ended=!1,r.currentTime=a,n._timeoutId=window.setTimeout(function(t){e(n)},200)):(n._ended=!0,r.currentTime=o,Aa(t),n.onVideoProgress(i),n.onVideoEnded())}(t)}(this),window.setTimeout(function(){e.onVideoPlay()},200))}},{key:"pause",value:function(){var e=this;0<this.player.readyState&&!this.isPaused&&(ba.debug("pause();"),Aa(this),window.setTimeout(function(){e.onVideoPause()},200))}},{key:"onVideoEnterFullscreen",value:function(){Aa(this),this.videoElement.ended||this.videoElement.play(),va(ya(t.prototype),"onVideoEnterFullscreen",this).call(this)}},{key:"onVideoExitFullscreen",value:function(){this.videoElement.ended||this.play(),va(ya(t.prototype),"onVideoExitFullscreen",this).call(this)}},{key:"isPaused",get:function(){return!m.a.isExist(this._timeoutId)}},{key:"ended",get:function(){return this._ended}}])&&pa(n.prototype,r),t}();function Aa(e){var t=e;t.isPlaying&&(window.clearTimeout(t._timeoutId),t._timeoutId=null)}var ka=wa;function Sa(e){return(Sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ea(e,t){return!t||"object"!==Sa(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Ca(e){return(Ca=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function Va(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ra(e,t,n){return t&&Oa(e.prototype,t),n&&Oa(e,n),e}var Ba,Pa,_a=function(){function e(t){Va(this,e),this.config=t}return Ra(e,[{key:"createAdView",value:function(){return null}},{key:"createAdViewController",value:function(){return new vi}},{key:"_createPlayerView",value:function(){var e=this.config,t=(xe.mediaType,null);return e.isVpaid?(t=(new na).setup(),(new da).setup({view:t})):(t=e.isInlineVideoSupport?(new ui).setup():(new ka).setup(),(new Qr).setup({view:t})),t.hide(),t}},{key:"build",value:function(){var e=this.config,t=null;du.primaryConfig===e&&(t=this._createPlayerView());var n=this.createAdView();n.setup({adContainerId:e.id,playerView:t});var r=this.createAdViewController();r.setup({adContainerId:e.id,view:n});var i=null,o={id:e.id,adView:n};switch(e.type){case"interstitial":i=(new kt).setup(o);break;case"adhesion":i=(new St).setup(o);break;case"overlay":i=(new Et).setup(o);break;case"wipe":i=(new Ct).setup(o);break;default:i=(new At).setup(o)}return{adView:n,adViewController:r,containerView:i,containerViewController:(new Xt).setup({view:i})}}},{key:"playerVolume",get:function(){return 1}}]),e}(),Ia=function(e){function t(e){return Va(this,t),Ea(this,Ca(t).call(this,e))}return xa(t,_a),Ra(t,[{key:"createAdView",value:function(){return new Tr}}]),t}(),Fa=function(e){function t(e){return Va(this,t),Ea(this,Ca(t).call(this,e))}return xa(t,_a),Ra(t,[{key:"createAdView",value:function(){return new oo}}]),t}(),Ta=function(e){function t(e){return Va(this,t),Ea(this,Ca(t).call(this,e))}return xa(t,_a),Ra(t,[{key:"createAdView",value:function(){return new ho}}]),t}(),ja=function(e){function t(e){return Va(this,t),Ea(this,Ca(t).call(this,e))}return xa(t,_a),Ra(t,[{key:"createAdView",value:function(){return new Eo}}]),t}(),Ua=function(e){function t(e){return Va(this,t),Ea(this,Ca(t).call(this,e))}return xa(t,_a),Ra(t,[{key:"createAdView",value:function(){return new qo}},{key:"playerVolume",get:function(){return.5}}]),t}(),za=function(e){function t(e){return Va(this,t),Ea(this,Ca(t).call(this,e))}return xa(t,_a),Ra(t,[{key:"createAdView",value:function(){return new Bi}},{key:"createAdViewController",value:function(){return new zi}}]),t}(),La=function(e){function t(e){return Va(this,t),Ea(this,Ca(t).call(this,e))}return xa(t,_a),Ra(t,[{key:"createAdView",value:function(){return this.config.isEnabledTextReminder?new rr:new Zn}},{key:"createAdViewController",value:function(){return new cr}}]),t}(),Da=function(){function e(){Va(this,e)}return Ra(e,null,[{key:"create",value:function(t){if(t.isVpaid)return new za(t);var n=t.adInterface;switch(e.log.debug("create: interface = ".concat(n,".")),n){case"blank":return new Ia(t);case"infeed":return new ja(t);case"inread":return new Ua(t);case"billboard":return new Ta(t);case"reminder":return new La(t);default:return new Fa(t)}}}]),e}();Ba=Da,Pa=new p("FormatFactory"),"log"in Ba?Object.defineProperty(Ba,"log",{value:Pa,enumerable:!0,configurable:!0,writable:!0}):Ba.log=Pa;var Ma=Da;function Na(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ha=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),Wa(this,"rootAdContainer",null),Wa(this,"adContainers",[]),Wa(this,"presentedAdContainerStack",[]),Wa(this,"currentAdViewController",null),Wa(this,"_playerView",null),Wa(this,"_hasSubAdContainer",!1),Wa(this,"_hasReminder",!1),Wa(this,"_currentWidth",null),Wa(this,"_styleElement",null)}var t,n;return t=e,(n=[{key:"init",value:function(){var e=this;du.adContainerStore.setCurrentWidth(m.a.viewportWidth),function(e){var t=e,n=du.configStore.config,r="dac-ivt-root-container",i="dac-adcontainer-root";m.a.isExist(n.placementId)&&(i+="-".concat(n.placementId));var o=(new wt).setup({id:i,adView:null});if(t.rootAdContainer=(new Xt).setup({view:o}),n.targetElement.parentElement.insertBefore(t.rootAdContainer.view.element,n.targetElement),!xe.isEnabledVideoPlayer){var a=function(e){var t,n,r=e,i=null===(t=r.rootAdContainer)||void 0===t?void 0:null===(n=t.view)||void 0===n?void 0:n.element;if(!r._styleElement&&i){var o=document.createElement("style");o.type="text/css",o.appendChild(document.createTextNode("")),i.insertBefore(o,i.firstChild),r._styleElement=o}return r._styleElement}(e);a.sheet.insertRule(".".concat(r," *::-webkit-media-controls-panel {\n        display: none!important;\n        -webkit-appearance: none;\n      }"),0),a.sheet.insertRule(".".concat(r," *::-webkit-media-controls-play-button {\n        display: none!important;\n        -webkit-appearance: none;\n      }"),0),a.sheet.insertRule(".".concat(r," *::-webkit-media-controls-start-playback-button {\n        display: none!important;\n        -webkit-appearance: none;\n      }"),0)}}(this),du.configStore.adContainerConfigs.forEach(function(t){"normal"!==t.type&&(e._hasSubAdContainer=!0),"reminder"===t.adInterface&&(e._hasReminder=!0);var n,r=(n=t,Ma.create(n).build().containerViewController);r.view.type=t.type,e.addAdContainer(r)})}},{key:"clear",value:function(){}},{key:"addAdContainer",value:function(e){this.rootAdContainer.view.appendView(e.view),this.adContainers.push(e)}},{key:"remove",value:function(e){var t=this,n=this.getAdContainer(e);n&&(this.presentedAdContainerStack=this.presentedAdContainerStack.filter(function(e){return e!==n}),this.adContainers=this.adContainers.filter(function(e){return e!==n}),this.rootAdContainer.view.removeView(n.view),this._hasSubAdContainer&&(this._hasSubAdContainer=!1,this.adContainers.forEach(function(e){"normal"!==e.view.type&&(t._hasSubAdContainer=!0)})))}},{key:"isPrimary",value:function(e){return e===this.adContainers[0].id}},{key:"getAdContainer",value:function(e){return this.adContainers.find(function(t){return t.id===e})}},{key:"setCurrentWidth",value:function(e){this._currentWidth=e}},{key:"currentAdContainer",get:function(){return this.presentedAdContainerStack[this.presentedAdContainerStack.length-1]}},{key:"primaryAdContainer",get:function(){return this.adContainers[0]}},{key:"hasSubAdContainer",get:function(){return this._hasSubAdContainer}},{key:"hasReminder",get:function(){return this._hasReminder}},{key:"playerView",get:function(){var e;return null===(e=this.primaryAdContainer.view.adView)||void 0===e?void 0:e.playerView}},{key:"currentWidth",get:function(){return this._currentWidth}}])&&Na(t.prototype,n),e}();function Qa(){var e=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}([";s*","s*:"],[";\\s*","\\s*:"]);return Qa=function(){return e},e}function qa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ya(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ka(e,t,n){return t&&Ya(e.prototype,t),n&&Ya(e,n),e}function Ga(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(154),n(155),n(72);var Za=["moatads.com"],Xa=["moatads.com","adsafeprotected"],Ja=["moatads.com"],$a=[],eu=["ulizassp"],tu=function(){function e(t){var n=this;qa(this,e),Ga(this,"targetElement",null),Ga(this,"index",null),Ga(this,"id",null),Ga(this,"placementId",null),Ga(this,"type","normal"),Ga(this,"isVpaid",!1),Ga(this,"adInterface","blank"),Ga(this,"width","300px"),Ga(this,"height","auto"),Ga(this,"zIndex",null),Ga(this,"backgroundColor","rgb(0, 0, 0)"),Ga(this,"css",{}),Ga(this,"cssRules",{}),Ga(this,"infeedStyle",null),Ga(this,"isEnabledBorder",!1),Ga(this,"isEnabledUnderBlankLine",!1),Ga(this,"isEnabledTextReminder",!1),Ga(this,"isEnabledButton",!0),Ga(this,"isEnabledCloseButton",!0),Ga(this,"isEnabledFullscreenButton",!0),Ga(this,"isEnabledVolumeButton",!1),Ga(this,"isEnabledReplayButton",!0),Ga(this,"isEnabledDetailButton",!0),Ga(this,"isEnabledAdmarkButton",!1),Ga(this,"isEnabledOptoutButton",!1),Ga(this,"headerImgUrl",""),Ga(this,"headerSize",null),Ga(this,"footerVastCompanion",null),Ga(this,"leftVastCompanion",null),Ga(this,"rightVastCompanion",null),Ga(this,"endcardCompanion",null),Ga(this,"reminderVastCompanion",null),Ga(this,"reminderSize",null),Ga(this,"contentHeaderHeight",null),Ga(this,"contentFooterHeight",null),Ga(this,"videoClicksThrough",null),Ga(this,"impressionOffset",2),Ga(this,"inviewPercentage",50),Ga(this,"autoCloseDuration",NaN),Ga(this,"autoReplayTimes",0),Ga(this,"isToFullscreenOnAdClick",!1),Ga(this,"isSkipDidOutview",!1),Ga(this,"isEnabledUnsupportedBrowsers",!0),Ga(this,"isInlineVideoSupport",!0),Ga(this,"isEnabledInviewCheck",!0),Ga(this,"isForcePlayOnInView",!1),Ga(this,"isForceCloseOnAdStop",!1),Ga(this,"isAddedIframeByDocumentWrite",null),Ga(this,"isDebug",!1),Object.keys(this).forEach(function(e){m.a.isUndefined(t[e])||(n[e]=t[e])})}return Ka(e,[{key:"fix",value:function(){var e=nu(this);this.width=e.width,this.height=e.height}}]),e}();function nu(e){var t,n=e.width,r=e.height,i=n,o=Number(n);Number.isFinite(o)&&(i="".concat(o,"px"));var a=r,u=Number(r);Number.isFinite(u)&&(a="".concat(u,"px"));var l,s,c,d=i,f=a,p=null===(t=e.css)||void 0===t?void 0:t.base;p&&(d=(null===(l=/;\s*(width)\s*:\s*([^\s]+)\s*;/.exec(p))||void 0===l?void 0:l[2])||d,f=(null===(s=/;\s*(padding-top)\s*:\s*([^\s]+)\s*;/.exec(p))||void 0===s?void 0:s[2])||(null===(c=/;\s*(height)\s*:\s*([^\s]+)\s*;/.exec(p))||void 0===c?void 0:c[2])||f);return{width:d,height:f}}var ru=function(){function e(){qa(this,e),Ga(this,"config",{}),Ga(this,"adContainerConfigs",[]),Ga(this,"adActions",[])}return Ka(e,[{key:"clear",value:function(){}},{key:"init",value:function(e,t){return function(e,t,n){var r=e,o=[],a=iu.create(t,n);if(t.adContainers.forEach(function(e,t){var r=iu.create(e,n,t),i=m.a.deepMerge({},a,r);o.push(i)}),r.config=new tu(a),m.a.isEmpty(o)){var u=iu.create(t,n,0),l=m.a.deepMerge({},r.config,u);o.push(l)}else o.forEach(function(e){var t=nu(e);e.width=t.width,e.height=t.height});o.forEach(function(e){r.adContainerConfigs.push(new tu(e))});var s=function(e,t){var n=e,r=n.adContainerConfigs,o=n.config,a=n.primaryConfig;if("normal"!==a.type)return null;if(a.isVpaid)return null;var u=a.isEnabledTextReminder,l=a.reminderVastCompanion;if(!u&&!l)return null;if(r.some(function(e){return"reminder"===e.adInterface}))return null;var s=r.length,c=a.reminderSize.width,d=a.reminderSize.height,f=i.translateToStyleLength(c),p=i.translateToStyleLength(d),h=m.a.exist(a.zIndex,void 0),v=m.a.deepMerge({},o);v.index=s,v.id=iu._getID(t,s),v.type="normal",v.adInterface="reminder",v.width=c,v.height=d,v.backgroundColor="transparent",v.zIndex=h,v.css={base:ou._styleCommonBase(f,p),load:ou._styleLoadWithSlideUpDown(),appear:ou._styleAppearWithSlideUpDown(d),disappear:ou._styleDisappearWithSlideUpDown()};var y=nu(a);return t.noSlideDown||a.css.load||(a.css.load=ou._styleLoadWithSlideUpDown()),a.css.appear||(a.css.appear=ou._styleAppearWithSlideUpDown(y.height)),a.css.disappear||(a.css.disappear=ou._styleDisappearWithSlideUpDown()),v}(r,t);s&&r.adContainerConfigs.push(new tu(s)),r.adContainerConfigs.forEach(function(e){e.fix()}),r.adActions=au.create(r.adContainerConfigs)}(this,e,t),this}},{key:"initCss",value:function(e,t,n){var r,i,o,a;return r=e,i=t,o=n,a=ou.create(r,i,o),r.cssRules=a.cssRules,r.width=a.width,r.height=a.height,this}},{key:"setSize",value:function(e,t){var n,r,i,o=null==t?void 0:t.width;o&&((null===(n=e.css)||void 0===n?void 0:n.base)&&(e.css.base=ou._replaceWidth(e.css.base,o)),(null===(r=e.cssRules)||void 0===r?void 0:null===(i=r.base)||void 0===i?void 0:i.style)&&(e.cssRules.base.style=ou._replaceWidth(e.cssRules.base.style,o)),e.width=o);var a,u,l,s=null==t?void 0:t.height;s&&((null===(a=e.css)||void 0===a?void 0:a.base)&&(e.css.base=ou._replaceHeight(e.css.base,s)),(null===(u=e.cssRules)||void 0===u?void 0:null===(l=u.base)||void 0===l?void 0:l.style)&&(e.cssRules.base.style=ou._replaceHeight(e.cssRules.base.style,s)),e.height=s)}},{key:"findConfig",value:function(e){return m.a.isExist(e)?this.adContainerConfigs.find(function(t){return t.id===e}):this.config}},{key:"remove",value:function(e){this.adContainerConfigs=this.adContainerConfigs.filter(function(t){return t.id!==e}),this.adActions=this.adActions.filter(function(t){return t.subject!==e||t.target!==e})}},{key:"filterAdActions",value:function(e,t){return this.adActions.filter(function(n){return n.subject===e&&n.state===t})}},{key:"primaryConfig",get:function(){return this.adContainerConfigs[0]}}]),e}(),iu=function(){function e(){qa(this,e)}return Ka(e,null,[{key:"create",value:function(e,t,n){var r=this._convert(e,t,n);return this._fixButton(r,e),this._fixVpaid(r,t),this._fixCss(r),this._fixOther(r),Object.keys(r).forEach(function(e){m.a.isUndefined(r[e])&&delete r[e]}),r}},{key:"_convert",value:function(e,t,n){var r,i=m.a.isNotEmpty(e.id)?e.id:void 0,o=this._getID(e,n),a=this._getSize(e),u=m.a.exist(e.adInterface,e.interface,void 0),l=m.a.isNotEmpty(e.css)?m.a.deepMerge({},e.css):void 0;return{targetElement:m.a.exist(e.targetElement,void 0),index:n,id:o,placementId:i,type:m.a.exist(e.type,void 0),width:m.a.exist(a.width,void 0),height:m.a.exist(a.height,void 0),isVpaid:m.a.exist(null===(r=t.media)||void 0===r?void 0:r.isVpaid,!1),adInterface:u,infeedStyle:"infeed"===u?m.a.exist(e.infeedStyle,void 0):void 0,zIndex:m.a.exist(e.zIndex,e.wrapperZindex,void 0),backgroundColor:m.a.exist(e.backgroundColor,void 0),css:l,isEnabledBorder:m.a.toBoolIfExist(e.wrapperBorder,void 0),isEnabledUnderBlankLine:m.a.toBoolIfExist(e.underBlankLine,void 0),isEnabledTextReminder:m.a.toBoolIfExist(e.isTextReminder,void 0),headerImgUrl:m.a.exist(e.headerImgUrl,void 0),headerSize:m.a.exist(e.headerSize,void 0),footerVastCompanion:m.a.exist(this._getFooterVastCompanion(e,t),void 0),leftVastCompanion:m.a.exist(this._getLeftVastCompanion(e,t),void 0),rightVastCompanion:m.a.exist(this._getRightVastCompanion(e,t),void 0),endcardCompanion:m.a.exist(this._getEndcardVastCompanion(e,t),void 0),reminderVastCompanion:m.a.exist(this._getReminderVastCompanion(e,t),void 0),contentHeaderHeight:m.a.exist(e.contentHeaderHeight,void 0),contentFooterHeight:m.a.exist(e.contentFooterHeight,void 0),videoClicksThrough:t.tracks.videoClicksThrough,impressionOffset:m.a.exist(e.impressionOffset,void 0),inviewPercentage:m.a.exist(e.inviewPercentage,void 0),autoCloseDuration:m.a.exist(e.autoCloseDuration,void 0),autoReplayTimes:m.a.exist(e.autoReplayTimes,void 0),isToFullscreenOnAdClick:this._getIsToFullscreenOnAdClick(e,t),isSkipDidOutview:m.a.toBoolIfExist(e.outviewSkip,void 0),isEnabledUnsupportedBrowsers:m.a.toBoolIfExist(e.unsupportedBrowsers,void 0),isEnabledInviewCheck:m.a.toBoolIfExist(e.isEnabledInviewCheck,void 0),isInlineVideoSupport:m.a.toBoolIfExist(e.isInlineVideoSupport,void 0),isForcePlayOnInView:m.a.toBoolIfExist(e.isForcePlayOnInView,void 0),isForceCloseOnAdStop:m.a.toBoolIfExist(e.isForceCloseOnAdStop,void 0),isDebug:m.a.exist(e.debug,void 0)}}},{key:"_fixButton",value:function(e,t){if(!0===m.a.toBoolIfExist(t.noButton,void 0))e.isEnabledCloseButton=!1,e.isEnabledFullscreenButton=!1,e.isEnabledVolumeButton=!1,e.isEnabledReplayButton=!1,e.isEnabledDetailButton=!1,e.isEnabledAdmarkButton=!1,e.isEnabledOptoutButton=!1;else{var n=m.a.toBoolIfExist(t.noCloseButton,void 0);m.a.isExist(n)&&(e.isEnabledCloseButton=!n);var r=m.a.toBoolIfExist(t.noFullscreenButton,void 0);m.a.isExist(r)&&(e.isEnabledFullscreenButton=!r);var i=m.a.toBoolIfExist(t.noVolumeButton,void 0);m.a.isExist(i)&&(e.isEnabledVolumeButton=!i);var o=m.a.toBoolIfExist(t.noReplayButton,void 0);m.a.isExist(o)&&(e.isEnabledReplayButton=!o);var a=m.a.toBoolIfExist(t.noDetailButton,void 0);m.a.isExist(a)&&(e.isEnabledDetailButton=!a),e.isEnabledAdmarkButton=m.a.toBoolIfExist(t.admark,void 0),e.isEnabledOptoutButton=m.a.toBoolIfExist(t.optout,void 0)}}},{key:"_fixVpaid",value:function(e,t){var n;if(!e.isVpaid)return e;m.a.toBoolIfExist(e.isEnabledVolumeButton,void 0);var r=m.a.toBoolIfExist(e.isEnabledInviewCheck,void 0),i=m.a.toBoolIfExist(e.isForcePlayOnInView,void 0),o=m.a.toBoolIfExist(e.isForceCloseOnAdStop,void 0);e.autoCloseDuration=NaN,e.autoReplayTimes=0;var a=null===(n=t.media)||void 0===n?void 0:n.uri,u=document.createElement("a");u.href=a;var l,s,c,d,f=u.hostname,p=(l=f,Za.some(function(e){return 0<=l.indexOf(e)}));e.isEnabledVolumeButton=p,m.a.isNotExist(r)&&(e.isEnabledInviewCheck=(s=f,!$a.some(function(e){return 0<=s.indexOf(e)}))),m.a.isNotExist(i)&&(e.isForcePlayOnInView=(c=f,Ja.some(function(e){return 0<=c.indexOf(e)}))),m.a.isNotExist(o)&&(e.isForceCloseOnAdStop=(d=f,Xa.some(function(e){return 0<=d.indexOf(e)})));var h,v=(h=a,!eu.some(function(e){return 0<=h.indexOf(e)}));return e.isAddedIframeByDocumentWrite=v,e}},{key:"_fixCss",value:function(e){var t,n,r,i,o=null===(t=e.css)||void 0===t?void 0:t.base;o&&(e.css.base="; "+o.trim());var a=null===(n=e.css)||void 0===n?void 0:n.load;a&&(e.css.load="; "+a.trim());var u=null===(r=e.css)||void 0===r?void 0:r.appear;u&&(e.css.appear="; "+u.trim());var l=null===(i=e.css)||void 0===i?void 0:i.disappear;l&&(e.css.disappear="; "+l.trim())}},{key:"_fixOther",value:function(e){return"inread"!==e.adInterface||e.isVpaid||(e.isEnabledVolumeButton=!0,e.isEnabledTextReminder=!0),!0===e.isEnabledTextReminder&&(e.reminderSize={},e.reminderSize.width="100%",e.reminderSize.height="22px",e.reminderVastCompanion=void 0),!1===xe.isEnabledVideoPlayer&&(e.isInlineVideoSupport=!1),!1===e.isInlineVideoSupport&&(e.isEnabledFullscreenButton=!1,e.isEnabledVolumeButton=!1),!0===e.isEnabledFullscreenButton&&xe.osType===u.IvtOsType.iOS&&xe.browserType!==u.IvtBrowserType.Safari&&(e.isEnabledFullscreenButton=!1),e}},{key:"_getID",value:function(e,t){var n,r=m.a.isNotEmpty(e.id)?e.id:void 0;return m.a.isExist(t)&&(n="dac-adcontainer-".concat(t),m.a.isExist(r)&&(n+="-".concat(r))),n}},{key:"_getSize",value:function(e,t){var n,r=m.a.exist(e.wrapperWidth,e.width,void 0),i=m.a.exist(e.wrapperHeight,e.height,void 0);return(null===(n=i)||void 0===n?void 0:n.includes("autoTate"))&&(i="auto"),e.wrapperAutoTateyoko&&"vertical"===t.media.layoutType&&(i="auto"),new y(r,i)}},{key:"_getIsToFullscreenOnAdClick",value:function(e,t){var n=m.a.toBool(t.companion(1,1));return Boolean(n||e.fullscreenOnAdClick)}},{key:"_getFooterVastCompanion",value:function(e,t){var n,r,i=t.companion(null===(n=e.companionSize)||void 0===n?void 0:n.width,null===(r=e.companionSize)||void 0===r?void 0:r.height);return i&&(i.size=new y(e.companionSize.width,e.companionSize.height)),i}},{key:"_getLeftVastCompanion",value:function(e,t){var n=null;return(n=t.companionFromId("left"))?(n.size=new y(n.width,n.height),n):(n=t.companion(11,11))?(n.size=new y(e.leftCompanionSize.width,e.leftCompanionSize.height),n):null}},{key:"_getRightVastCompanion",value:function(e,t){var n=null;return(n=t.companionFromId("right"))?(n.size=new y(n.width,n.height),n):(n=t.companion(22,22))?(n.size=new y(e.rightCompanionSize.width,e.rightCompanionSize.height),n):null}},{key:"_getEndcardVastCompanion",value:function(e,t){var n,r,i=null===(n=e.tomeSize)||void 0===n?void 0:n.width,o=null===(r=e.tomeSize)||void 0===r?void 0:r.height;if(0<i&&0<o){var a=t.companion(i,o);return a&&(a.size=new y(i,o)),a}return null}},{key:"_getReminderVastCompanion",value:function(e,t){var n,r,i=e.isTextReminder,o=null===(n=e.reminderSize)||void 0===n?void 0:n.width,a=null===(r=e.reminderSize)||void 0===r?void 0:r.height;if(i)return null;if(0<o&&0<a){var u=t.companion(o,a);return u&&(u.size=new y(o,a)),u}return null}}]),e}(),ou=function(){function e(){qa(this,e)}return Ka(e,null,[{key:"create",value:function(e,t,n){e.index;var r,o,a,u,l=e.id,s=nu(e),c="normal"===e.type?"relative":"fixed",d="normal"===e.type?We.defaultContainerZIndex:We.defaultDialogZIndex,f=m.a.exist(e.zIndex,d),p=(e.backgroundColor,null===(r=e.css)||void 0===r?void 0:r.base),h=null===(o=e.css)||void 0===o?void 0:o.load,v=null===(a=e.css)||void 0===a?void 0:a.appear,y=null===(u=e.css)||void 0===u?void 0:u.disappear;p||(p=this._styleCommonBase(s.width,s.height,c,f)),h||(h=this._styleLoad()),v||(v=this._styleAppear()),y||(y=this._styleDisappear()),p=this._appendStyle(p,"z-index",f),p=this._appendStyle(p,"opacity",1),h=this._appendStyle(h,"opacity",.99),v=this._appendStyle(v,"opacity",1),y=this._appendStyle(y,"opacity",.99);var g=i.translateToStyleLength(n);return p=this._replaceHeight(p,g),h=this._replaceHeight(h,g),v=this._replaceHeight(v,g),y=this._replaceHeight(y,g),{cssRules:{base:{selector:"base",style:"#".concat(l,".base {").concat(p,"}")},load:h?{selector:"load",style:"#".concat(l,".load {").concat(h,"}")}:null,appear:v?{selector:"appear",style:"#".concat(l,".appear {").concat(v,"}")}:null,disappear:{selector:"disappear",style:"#".concat(l,".disappear {").concat(y,"}")}},width:s.width,height:s.height}}},{key:"_appendStyle",value:function(e,t,n){if(m.a.isEmpty(e))return null;var r=e;return m.a.isEmpty(t)||m.a.isEmpty(n)?r:new RegExp(String.raw(Qa(),t),"i").test(e)?r:r+=" ".concat(t,": ").concat(n,";")}},{key:"_replaceWidth",value:function(e,t){if(m.a.isEmpty(e))return null;var n=e;return n.replace(/;\s*(width)\s*:\s*([^;]+)\s*;/,"; width: ".concat(t,";"))}},{key:"_replaceHeight",value:function(e,t){if(m.a.isEmpty(e))return null;var n=e;return(n=n.replace(/;\s*(height)\s*:\s*([^;]+)\s*;/,"; padding-top: ".concat(t,";"))).replace(/;\s*(padding-top)\s*:\s*(auto)\s*;/,"; padding-top: ".concat(t,";"))}},{key:"_styleCommonBase",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"relative",r=3<arguments.length?arguments[3]:void 0,i="; width: ".concat(e,"; padding-top: ").concat(t,"; position: ").concat(n,"; overflow: hidden;");return r&&(i+=" z-index: ".concat(r,";")),i}},{key:"_styleLoadWithSlideUpDown",value:function(){return"; padding-top: 0px;"}},{key:"_styleLoad",value:function(){return"; "}},{key:"_styleAppearWithSlideUpDown",value:function(e,t){var n=m.a.exist(t,this.transitionDuration);return"; padding-top: ".concat(e,"; transition: ").concat(n,"s linear;")}},{key:"_styleAppear",value:function(){return"; "}},{key:"_styleDisappearWithSlideUpDown",value:function(e){var t=m.a.exist(e,this.transitionDuration);return"; padding-top: 0px; transition: ".concat(t,"s linear;")}},{key:"_styleDisappear",value:function(){return"; padding-top: 0px;"}}]),e}();Ga(ou,"transitionDuration",.75);var au=function(){function e(){qa(this,e)}return Ka(e,null,[{key:"create",value:function(e){var t,n,r=e[0].id,i=null===(t=e.find(function(e){return e.id!==r&&"normal"!==e.type}))||void 0===t?void 0:t.id,o=null===(n=e.find(function(e){return e.id!==r&&"reminder"===e.adInterface}))||void 0===n?void 0:n.id,a=[{subject:r,state:"didInview",target:r,action:"present",times:1}];return o&&(a.push({subject:r,state:"didDisappear",target:o,action:"appear"}),a.push({subject:o,state:"didDisappear",target:r,action:"appear"})),i&&(a.push({subject:r,state:"didInview",target:i,action:"disappear"}),a.push({subject:r,state:"didOutview",target:i,action:"appear"})),a}}]),e}(),uu=ru;function lu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function su(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"init",value:function(e){var t=e||{};return t.dataset=t.dataset||{},t.target=t.target||null,this.adStore=new _t,this.adContainerStore=new Ha,this.option=new qe(t),this.configStore=new uu,this}},{key:"deinit",value:function(){try{var e,t,n;null===(e=this.adContainerStore)||void 0===e||e.clear(),null===(t=this.configStore)||void 0===t||t.clear(),null===(n=this.adStore)||void 0===n||n.clear()}catch(e){}}},{key:"validate",value:function(){if(!this.option)throw new Error("[Store]: setup failed: Not declared opt.");if(!this.option.targetElement)throw new Error("[Store]: setup failed: Not declared targetNode.")}},{key:"getConfig",value:function(e){return this.configStore.findConfig(e)}},{key:"getAdContainer",value:function(e){return this.adContainerStore.getAdContainer(e)}},{key:"videoElement",get:function(){var t;return null===(t=e.adContainerStore.playerView)||void 0===t?void 0:t.player}},{key:"videoView",get:function(){return e.adContainerStore.playerView}},{key:"primaryConfig",get:function(){return this.configStore.primaryConfig}},{key:"primaryAdContainer",get:function(){return this.adContainerStore.getAdContainer(this.primaryConfig.id)}}],null&&lu(t.prototype,null),n&&lu(t,n),e}();su(cu,"option",null),su(cu,"adContainerStore",null),su(cu,"adStore",null),su(cu,"configStore",null);var du=cu;function fu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hu=We.containerCloseButtonSize,vu=new p("IvtPassbackAction");function yu(e,t){var n=t.width;if("string"==typeof n&&0<=n.indexOf("%")){var i=function e(t){var n,r=null==t?void 0:null===(n=t.parentElement)||void 0===n?void 0:n.clientWidth;return 0<r?r:m.a.isExist(null==t?void 0:t.parentElement)?e(null==t?void 0:t.parentElement):document.documentElement.clientWidth||document.body.clientWidth||window.innerWidth}(e),o=parseInt(n,10)/100;n=parseInt(i*o,10)}var a=t.height;return"auto"===a&&(a=parseInt(n/16*9,10)),vu.debug("_computedIframeSize(width: ".concat(t.width,", height: ").concat(t.height,") => {width: ").concat(n,", height: ").concat(a,"}")),new r.IvtSize(n,a)}var mu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),pu(this,"_closeButton",null),pu(this,"_containerElement",null)}var t,n;return t=e,(n=[{key:"clear",value:function(){var e;this._closeButton&&(this._closeButton.clear(),this._closeButton=null),this._containerElement&&(null===(e=this._containerElement.parentElement)||void 0===e||e.removeChild(this._containerElement),this._containerElement=null)}},{key:"open",value:function(e){try{var t,n=e||{},o=n.placementId,a=n.targetElement,u=n.isEnabledPassbackIframe||!0,l=new r.IvtSize(n.size),s=n.type||"normal",c=n.zIndex||0,d=a.querySelector("adsense"),f=a.querySelector("noscript");this._containerElement=function(e){vu.debug("_createContainerElement();");var t="dac-ivt-passback-container";m.a.isNotEmpty(e)&&(t+="-".concat(e));var n=i.createElement("div");return n.className="dac-ivt-passback-container",n.id=t,n.style.position="relative",n.style.margin="auto",n}(o),a.parentElement.insertBefore(this._containerElement,a),"normal"!==s&&(this._closeButton=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50;return vu.debug("_createCloseButton();"),new Fn([{style:{zIndex:e},option:{top:"3px",right:"3px",size:hu}}])}(c),this._closeButton&&(this._closeButton.delegate=this)._containerElement.appendChild(this._closeButton.element)),m.a.isExist(d)&&function(e,t,n){vu.debug("_showAdsense(width: ".concat(n.width,", height: ").concat(n.height,");"));var r=i.createElement("script");r.src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",e.appendChild(r);var o=i.createElement("ins");o.setAttribute("class","adsbygoogle"),o.style.display="inline-block",o.size=yu(n),o.dataset.adClient=t.dataset.adClient,o.dataset.adSlot=t.dataset.adSlot,e.appendChild(o);var a=i.createElement("script");a.innerHTML="  (adsbygoogle = window.adsbygoogle || []).push({});",e.appendChild(a),e.w=o.w,e.h=o.h}(this._containerElement,d,l),0<(null==f?void 0:null===(t=f.innerText)||void 0===t?void 0:t.trim().length)&&(u?function(e,t,n){vu.debug("_showPassbackWithIframe(width: ".concat(n.width,", height: ").concat(n.height,");"));var r=i.createElement("iframe");r.style.position="absolute",r.style.left=0,r.style.top=0,r.style.margin="0 auto",e.appendChild(r);var o=r.contentWindow.document,a="<body><script>inDapIF = true;<\/script>"+t.innerText+"</body>";o.open(),o.write(a),o.write("<style> body {margin:0} </style>"),o.close();var u=yu(e,n);r.width=u.width,r.height=u.height,e.w=u.width,e.h=u.height}(this._containerElement,f,l):function(e,t,n){vu.debug("_showPassbackWithoutIframe(width: ".concat(n.width,", height: ").concat(n.height,");"));var r=JSON.parse(t.innerText),i=r.parent,o=document.createElement(i.dom);if("script"===i.dom)for(var a=Object.keys(i.property),u=0;u<a.length;u++){var l=a[u];"src"===l?o.src=i.property.src:"async"===l&&(o.async=!0)}else if("div"===i.dom)for(var s=Object.keys(i.property),c=0;c<s.length;c++){"id"===s[c]&&(o.id=i.property.id)}var d=r.child,f=!0,p=!1,h=void 0;try{for(var v,y=d[Symbol.iterator]();!(f=(v=y.next()).done);f=!0){var m=v.value,g=document.createElement(m.dom);if("script"===m.dom)for(var b=Object.keys(m.property),w=0;w<b.length;w++){var A=b[w];"src"===A?g.src=m.property.src:"async"===A&&(g.async=!0)}else if("div"===m.dom)for(var k=Object.keys(m.property),S=0;S<k.length;S++){"id"===k[S]&&(g.id=m.property.id)}o.appendChild(g)}}catch(e){p=!0,h=e}finally{try{f||null==y.return||y.return()}finally{if(p)throw h}}e.appendChild(o)}(this._containerElement,f,l))}catch(e){vu.error("open(); failed. error: ".concat(e.message,".")),this.close()}}},{key:"close",value:function(){try{this.clear()}catch(e){vu.error("close(); failed. error: ".concat(e.message,"."))}}},{key:"onUserClose",value:function(){this.close(),gs.userAction.close()}}])&&fu(t.prototype,n),e}();function gu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(156),n(100);var bu=new p("IvtVastUtil"),wu=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}var t,n;return t=e,n=[{key:"queryAll",value:function(e,t){return e&&e.querySelectorAll(t)||[]}},{key:"queryOne",value:function(e,t,n){var r=n||0,i=this.queryAll(e,t,r);return m.a.isNotEmpty(i)?i[r]:null}},{key:"queryOneWithFilter",value:function(e,t,n,r){var i=t;for(var o in n)n.hasOwnProperty(o)&&(i=i+"["+o+'="'+n[o]+'"]');return bu.debug("vast query:"+i),this.queryOne(e,i,r)}},{key:"elementContent",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(m.a.isEmpty(e)||!m.a.isElement(e))return t;var n=e.textContent;return m.a.isString(n)?n.trim():t}},{key:"elementAttribute",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(m.a.isEmpty(e)||!m.a.isElement(e)||m.a.isEmpty(t))return n;var r=e.getAttribute(t);return m.a.isString(r)?r.trim():n}},{key:"elementSubElements",value:function(t,n,r){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[];if(m.a.isEmpty(t)||!m.a.isElement(t)||m.a.isEmpty(n))return i;var o=e.queryAll(t,n,0),a=Array.prototype.slice.call(o,0).map(function(e){return Reflect.construct(r,[e])});return m.a.isEmpty(a)?i:a}},{key:"toSec",value:function(e){if(m.a.isEmpty(e))return NaN;var t=e.split(":");return 3600*parseInt(t[0],10)+60*parseInt(t[1],10)+parseInt(t[2],10)}},{key:"popSmaller",value:function(e,t){var n=[];for(var r in e)e.hasOwnProperty(r)&&r<=t&&(n=n.concat(e[r]),delete e[r]);return n}}],null&&gu(t.prototype,null),n&&gu(t,n),e}();function Au(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ku=m.a.namespace(),Su=function(){var e,t;function n(e){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(m.a.isEmpty(t))throw new TypeError("IvtVastElementCompanionClickThrough.constructor argment is undefined or null.");e.content=wu.elementContent(t),e.creativeType=wu.elementAttribute(t,"creativeType")}(ku(this),e)}return e=n,(t=[{key:"content",get:function(){return ku(this).content}},{key:"uri",get:function(){return ku(this).content}}])&&Au(e.prototype,t),n}();function Eu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Cu=m.a.namespace(),xu=function(){var e,t;function n(e){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(m.a.isEmpty(t))throw new TypeError("IvtVastElementHtmlResource.constructor argment is undefined or null.");e.content=wu.elementContent(t),e.creativeType=wu.elementAttribute(t,"creativeType")}(Cu(this),e)}return e=n,(t=[{key:"content",get:function(){return Cu(this).content}},{key:"uri",get:function(){return Cu(this).content}}])&&Eu(e.prototype,t),n}();function Vu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ou=m.a.namespace(),Ru=function(){var e,t;function n(e){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(m.a.isEmpty(t))throw new TypeError("IvtVastElementIframeResource.constructor argment is undefined or null.");e.content=wu.elementContent(t),e.creativeType=wu.elementAttribute(t,"creativeType")}(Ou(this),e)}return e=n,(t=[{key:"content",get:function(){return Ou(this).content}},{key:"uri",get:function(){return Ou(this).content}}])&&Vu(e.prototype,t),n}();function Bu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Pu=m.a.namespace(),_u=function(){var e,t;function n(e){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(m.a.isEmpty(t))throw new TypeError("IvtVastElementStaticResource.constructor argment is undefined or null.");e.content=wu.elementContent(t),e.creativeType=wu.elementAttribute(t,"creativeType")}(Pu(this),e)}return e=n,(t=[{key:"content",get:function(){return Pu(this).content}},{key:"uri",get:function(){return Pu(this).content}},{key:"creativeType",get:function(){return Pu(this).creativeType}}])&&Bu(e.prototype,t),n}();function Iu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Fu=m.a.namespace(),Tu=function(){var e,t;function n(e){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(m.a.isEmpty(t))throw new TypeError("IvtVastElementCompanion.constructor argment is undefined or null.");e.staticResources=wu.elementSubElements(t,"StaticResource",_u),e.iframeResources=wu.elementSubElements(t,"IFrameResource",Ru),e.htmlResources=wu.elementSubElements(t,"HTMLResource",xu),e.companionClickThrough=wu.elementSubElements(t,"CompanionClickThrough",Su)[0]||null,e.width=parseInt(wu.elementAttribute(t,"width"),10),e.height=parseInt(wu.elementAttribute(t,"height"),10),e.id=wu.elementAttribute(t,"id"),e.assetWidth=parseInt(wu.elementAttribute(t,"assetWidth"),10),e.assetHeight=parseInt(wu.elementAttribute(t,"assetHeight"),10),e.expandedWidth=parseInt(wu.elementAttribute(t,"expandedWidth"),10),e.expandedHeight=parseInt(wu.elementAttribute(t,"expandedHeight"),10),e.apiFramework=wu.elementAttribute(t,"apiFramework"),e.adslotID=wu.elementAttribute(t,"adslotID"),e.pxratio=parseFloat(wu.elementAttribute(t,"pxratio",1)),e.staticResourceUri=e.staticResources[0]?e.staticResources[0].uri:null,e.iframeResourceUri=e.iframeResources[0]?e.iframeResources[0].uri:null,e.htmlResourceUri=e.htmlResources[0]?e.htmlResources[0].uri:null,e.clickThroughUri=e.companionClickThrough?e.companionClickThrough.uri:null}(Fu(this),e)}return e=n,(t=[{key:"isClass",get:function(){return!0}},{key:"staticResources",get:function(){return Fu(this).staticResources}},{key:"iframeResources",get:function(){return Fu(this).iframeResources}},{key:"htmlResources",get:function(){return Fu(this).htmlResources}},{key:"companionClickThrough",get:function(){return Fu(this).companionClickThrough}},{key:"width",get:function(){return Fu(this).width}},{key:"height",get:function(){return Fu(this).height}},{key:"id",get:function(){return Fu(this).id}},{key:"assetWidth",get:function(){return Fu(this).assetWidth}},{key:"assetHeight",get:function(){return Fu(this).assetHeight}},{key:"expandedWidth",get:function(){return Fu(this).expandedWidth}},{key:"expandedHeight",get:function(){return Fu(this).expandedHeight}},{key:"apiFramework",get:function(){return Fu(this).apiFramework}},{key:"adslotID",get:function(){return Fu(this).adslotID}},{key:"pxratio",get:function(){return Fu(this).pxratio}},{key:"staticResourceUri",get:function(){return Fu(this).staticResourceUri}},{key:"iframeResourceUri",get:function(){return Fu(this).iframeResourceUri}},{key:"htmlResourceUri",get:function(){return Fu(this).htmlResourceUri}},{key:"clickThroughUri",get:function(){return Fu(this).clickThroughUri}}])&&Iu(e.prototype,t),n}();function ju(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Uu=m.a.namespace(),zu=function(){var e,t;function n(e){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(m.a.isEmpty(t))throw new TypeError("IvtVastElementCompanionAds.constructor argment is undefined or null.");e.companions=wu.elementSubElements(t,"Companion",Tu),e.required=wu.elementAttribute(t,"required")}(Uu(this),e)}return e=n,(t=[{key:"companions",get:function(){return Uu(this).companions}},{key:"required",get:function(){return Uu(this).required}}])&&ju(e.prototype,t),n}();function Lu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Du=m.a.namespace(),Mu=function(){var e,t;function n(e){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(m.a.isEmpty(t))throw new TypeError("IvtVastElementMediaFile.constructor argment is undefined or null.");var n=Du(e);n._content=wu.elementContent(t),n._delivery=wu.elementAttribute(t,"delivery"),n._type=wu.elementAttribute(t,"type"),n._width=parseInt(wu.elementAttribute(t,"width"),10),n._height=parseInt(wu.elementAttribute(t,"height"),10),n._codec=wu.elementAttribute(t,"codec"),n._id=wu.elementAttribute(t,"id"),n._bitrate=parseInt(wu.elementAttribute(t,"bitrate"),10),n._minBitrate=parseInt(wu.elementAttribute(t,"minBitrate"),10),n._maxBitrate=parseInt(wu.elementAttribute(t,"maxBitrate"),10),n._scalable=m.a.stringToBool(wu.elementAttribute(t,"scalable"),!0),n._maintainAspectRatio=m.a.stringToBool(wu.elementAttribute(t,"maintainAspectRatio"),!0),n._apiFramework=wu.elementAttribute(t,"apiFramework"),n._isVpaid="application/javascript"===n._type&&"VPAID"===n._apiFramework,n._layoutType=n._height>=n._width?"vertical":"horizontal"}(this,e)}return e=n,(t=[{key:"content",get:function(){return Du(this)._content}},{key:"uri",get:function(){return Du(this)._content}},{key:"delivery",get:function(){return Du(this)._delivery}},{key:"type",get:function(){return Du(this)._type}},{key:"width",get:function(){return Du(this)._width}},{key:"height",get:function(){return Du(this)._height}},{key:"codec",get:function(){return Du(this)._codec}},{key:"id",get:function(){return Du(this)._id}},{key:"bitrate",get:function(){return Du(this)._bitrate}},{key:"minBitrate",get:function(){return Du(this)._minBitrate}},{key:"maxBitrate",get:function(){return Du(this)._maxBitrate}},{key:"scalable",get:function(){return Du(this)._scalable}},{key:"maintainAspectRatio",get:function(){return Du(this)._maintainAspectRatio}},{key:"apiFramework",get:function(){return Du(this)._apiFramework}},{key:"isVpaid",get:function(){return Du(this)._isVpaid}},{key:"layoutType",get:function(){return Du(this)._layoutType}}])&&Lu(e.prototype,t),n}();function Nu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Wu=m.a.namespace(),Hu=function(){var e,t;function n(e){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){var n=Wu(e);if(m.a.isEmpty(t))throw new TypeError("IvtVastElementMediaFiles.constructor argment is undefined or null.");n._mediaFiles=wu.elementSubElements(t,"MediaFile",Mu)}(this,e)}return e=n,(t=[{key:"findOptimalMediaFile",value:function(){return 0<arguments.length&&void 0!==arguments[0]&&arguments[0],function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1500,n=e.filter(function(e){return m.a.isEmpty(e.delivery)||"progressive"===e.delivery}),r=[];return r=n.filter(function(e){return"video/mp4"===e.type&&!e.apiFramework}),m.a.isEmpty(r)&&(r=n.filter(function(e){return"application/javascript"===e.type&&"VPAID"===e.apiFramework})),m.a.isEmpty(r)?null:r.sort(function(e,n){return e.bitrate<=t&&n.bitrate<=t?n.bitrate-e.bitrate:e.bitrate-n.bitrate})[0]}(this.mediaFiles)}},{key:"mediaFiles",get:function(){return Wu(this)._mediaFiles}}])&&Nu(e.prototype,t),n}();function Qu(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function qu(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){Qu(o,r,i,a,u,"next",e)}function u(e){Qu(o,r,i,a,u,"throw",e)}a(void 0)})}}function Yu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ku(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gu=new p("Vast"),Zu=m.a.namespace();function Xu(e,t){return function(){return qu(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Gu.debug("_loadVast()."),i=r=null,e.prev=3,!n.includes("<")){e.next=8;break}r=Ju(t,n),e.next=12;break;case 8:return e.next=10,rl(t,n);case 10:r=e.sent,i=n;case 12:return e.next=14,$u(t,r,i);case 14:e.next=20;break;case 16:throw e.prev=16,e.t0=e.catch(3),Gu.debug("_loadVast failed. message = ".concat(e.t0.message,".")),e.t0;case 20:case"end":return e.stop()}},e,null,[[3,16]])})).apply(this,arguments)}.apply(this,arguments)}function Ju(e,t){return Gu.debug("_parseXML()."),(new DOMParser).parseFromString(t,"text/xml")}function $u(e,t){return function(){return qu(regeneratorRuntime.mark(function e(t,n){var r,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=2<a.length&&void 0!==a[2]?a[2]:null,Gu.debug("_parseVast(urlStr: ".concat(r,").")),e.prev=2,i=wu.queryOne(n,"VAST>Ad>InLine"))return e.next=7,el(t,i,r);e.next=10;break;case 7:if(e.sent)return e.abrupt("return");e.next=10;break;case 10:if(o=wu.queryOne(n,"VAST>Ad>Wrapper"))return e.next=14,tl(t,o,r);e.next=17;break;case 14:if(e.sent)return e.abrupt("return");e.next=17;break;case 17:ll(t,n),e.next=24;break;case 20:throw e.prev=20,e.t0=e.catch(2),Gu.debug("_parseVast failed. message = ".concat(e.t0.message,".")),e.t0;case 24:case"end":return e.stop()}},e,null,[[2,20]])})).apply(this,arguments)}.apply(this,arguments)}function el(e,t){return function(){return qu(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,u,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=2<l.length&&void 0!==l[2]?l[2]:null,e.prev=1,Gu.debug("_parseInline(); begin."),i=wu.queryOne(n,"Creatives>Creative>Linear>MediaFiles"),m.a.isEmpty(i))return Gu.debug("_parseInline(); failed: MediaFiles is Empty."),e.abrupt("return",!1);e.next=7;break;case 7:if(o=new Hu(i),(a=null==o?void 0:o.findOptimalMediaFile()).isVpaid)return e.next=12,nl(t,a);e.next=12;break;case 12:return m.a.isEmpty(t.vastUrl)&&(t.vastUrl=r),m.a.isEmpty(t.ads)&&(t.ads=[n.parentNode]),m.a.isEmpty(t.ad1)&&(t.ad1=n),u=Zu(t),m.a.isEmpty(u._mediaFilesObject)&&(u._mediaFilesObject=o),m.a.isEmpty(u._media)&&(u._media=a),sl(t,n),e.abrupt("return",!0);case 20:return e.prev=20,Gu.debug("_parseInline(); end."),e.finish(20);case 23:case"end":return e.stop()}},e,null,[[1,,20,23]])})).apply(this,arguments)}.apply(this,arguments)}function tl(e,t){return function(){return qu(regeneratorRuntime.mark(function e(t,n){var r,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(2<a.length&&void 0!==a[2]&&a[2],e.prev=1,Gu.debug("_parseWrapper(); begin."),sl(t,n),r=wu.elementContent(wu.queryOne(n,"VASTAdTagURI")),m.a.isEmpty(r))return e.abrupt("return",!1);e.next=7;break;case 7:return e.next=9,il(t,r);case 9:if(i=e.sent,m.a.isEmpty(i))return e.abrupt("return",!1);e.next=12;break;case 12:return e.next=14,$u(t,i,r);case 14:return o=e.sent,e.abrupt("return",o);case 16:return e.prev=16,Gu.debug("_parseWrapper(); end."),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[1,,16,19]])})).apply(this,arguments)}.apply(this,arguments)}function nl(e,t){return function(){return qu(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,u,l,s,c,d,f,p,h,v,y,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Gu.debug("_parseIasVpaidIfNeeded(); begin."),i=RegExp("IASVideo.js$","i"),o="originalvast=",a=n.uri,(u=document.createElement("a")).href=a,l=i.test(u.pathname),s=u.search,c=null==s?void 0:null===(r=s.toLowerCase())||void 0===r?void 0:r.indexOf(o),d=s.slice(c+o.length),!l||m.a.isEmpty(d))return Gu.debug("_parseIasVpaidIfNeeded(); failed. the VAST is general VPAID. url: ".concat(a,".")),e.abrupt("return",!1);e.next=14;break;case 14:return e.next=16,il(t,d);case 16:if(f=e.sent,p=wu.queryOne(f,"VAST>Ad>InLine"),!(h=wu.queryOne(p,"Creatives>Creative>Linear>MediaFiles"))){e.next=32;break}if(new Hu(h).findOptimalMediaFile().isVpaid){e.next=25;break}return Gu.debug("_parseIasVpaidIfNeeded(); failed. the VAST is normal IAS VPAID. url: ".concat(a,".")),e.abrupt("return",!1);case 25:return Gu.debug("_parseIasVpaidIfNeeded(); the VAST is IAS VPAID in VPAID. url: ".concat(a,".")),e.next=28,$u(t,f,d);case 28:return v=e.sent,e.abrupt("return",v);case 32:return Gu.debug("_parseIasVpaidIfNeeded(); the VAST is normal IAS VPAID. but originalVast is Wrapper AD or No Ad. url: ".concat(a,".")),y=wu.queryOne(f,"VAST>Ad>Wrapper"),e.next=36,tl(t,y,d);case 36:return g=e.sent,e.abrupt("return",g);case 38:return e.prev=38,Gu.debug("_parseIasVpaidIfNeeded(); end."),e.finish(38);case 41:case"end":return e.stop()}},e,null,[[0,,38,41]])})).apply(this,arguments)}.apply(this,arguments)}function rl(e,t){return function(){return qu(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Gu.debug("_requestVast(urlStr: ".concat(n,").")),e.prev=1,m.a.isEmpty(n))throw new Error("vast url is empty.");e.next=4;break;case 4:if(r=al(n),Gu.debug("request url:"+r),r.includes("//img.ak.impact-ad.jp/ic/pone/VAST/VAST.xml"))throw new Error("m1 empty vast error");e.next=8;break;case 8:return e.next=10,ol(r);case 10:if(i=e.sent){e.next=13;break}throw new Error("vast format error");case 13:return e.abrupt("return",i);case 16:throw e.prev=16,e.t0=e.catch(1),Gu.debug("requestVast failed. message = ".concat(e.t0.message,".")),e.t0;case 20:case"end":return e.stop()}},e,null,[[1,16]])})).apply(this,arguments)}.apply(this,arguments)}function il(e,t){return function(){return qu(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Gu.debug("_requestVastWrapper(urlStr: ".concat(n,").")),e.prev=1,m.a.isEmpty(n))throw new Error("vast url is empty.");e.next=4;break;case 4:if(n.includes("//img.ak.impact-ad.jp/ic/pone/VAST/VAST.xml"))throw new Error("m1 empty vast error");e.next=6;break;case 6:return e.next=8,rl(t,n);case 8:return r=e.sent,e.abrupt("return",r);case 12:throw e.prev=12,e.t0=e.catch(1),Gu.debug("_requestVastWrapper failed. message = ".concat(e.t0.message,".")),e.t0;case 16:case"end":return e.stop()}},e,null,[[1,12]])})).apply(this,arguments)}.apply(this,arguments)}function ol(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.addEventListener("load",function(){200===r.status?t(r.response):n(new Error("invalid url :"+e))},!1),r.addEventListener("error",function(e){n(e)},!1),r.open("GET",e,!0),r.responseType="document",r.withCredentials=Ve.filter(function(t){return 0<=e.indexOf(t)}).length<=0,r.send()})}function al(e){var t=e;return(t=(t=(t=(t=t.replace("$rand$",Math.random(Date.now()))).replace(/{IMPRESSION_ID}/g,m.a.randomNum())).replace(/{REFERER_ESC}/g,encodeURIComponent(m.a.getReferrer()))).replace(/{WIDTH}/g,m.a.getWidth())).replace(/{HEIGHT}/g,m.a.getHeight())}function ul(e,t,n){var r=e.tracks[t];return new Promise(function(i,o){if(m.a.isEmpty(r))return Gu.debug("event not found:"+t),void i();var a,u,l,s,c,d,f,p=[],h=!0,v=!1,y=void 0;try{for(var g,b=r[Symbol.iterator]();!(h=(g=b.next()).done);h=!0){var w=g.value,A=w;if("errors"===t){var k=n&&n.code;a=w,u=k,l=e.vastUrl,s=u||"900",c=m.a.randomNum(),d=encodeURIComponent(l)||"",f=function(e){function t(e){return e<10?"0"+e:e}var n=e.getFullYear(),r=t(e.getMonth()+1),i=t(e.getDate()),o=t(e.getHours()),a=e.getMinutes(),u=e.getSeconds(),l=(e.getMilliseconds()/1e3).toFixed(3).slice(2,5),s=t(e.getTimezoneOffset()/-60);return"".concat(n,"-").concat(r,"-").concat(i,"T").concat(o,":").concat(a,":").concat(u,":").concat(l,"+").concat(s)}(new Date),A=a.replace(/\[ERRORCODE\]/g,s).replace(/\[CONTENTPLAYHEAD\]/g,"00:00:00.000").replace(/\[CACHEBUSTING\]/g,c).replace(/\[ASSETURI\]/g,d).replace(/\[TIMESTAMP\]/g,f)}p.push(cl(e,A))}}catch(o){v=!0,y=o}finally{try{h||null==b.return||b.return()}finally{if(v)throw y}}Promise.all(p).then(function(){i()},function(e){i()})})}function ll(e,t){var n=e.tracks,r=wu.queryAll(t,"VAST>Error"),i=!0,o=!1,a=void 0;try{for(var u,l=r[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var s=u.value;n.errors.push(wu.elementContent(s))}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}}function sl(e,t){var n=e.tracks,r=wu.queryAll(t,"Error"),i=!0,o=!1,a=void 0;try{for(var u,l=r[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var s=u.value;n.errors.push(wu.elementContent(s))}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}var c=wu.queryAll(t,"Impression"),d=!0,f=!1,p=void 0;try{for(var h,v=c[Symbol.iterator]();!(d=(h=v.next()).done);d=!0){var y=h.value;n.impressions.push(wu.elementContent(y))}}catch(e){f=!0,p=e}finally{try{d||null==v.return||v.return()}finally{if(f)throw p}}var g=wu.queryAll(t,"Creatives Creative Linear VideoClicks ClickTracking"),b=!0,w=!1,A=void 0;try{for(var k,S=g[Symbol.iterator]();!(b=(k=S.next()).done);b=!0){var E=k.value;n.videoClicksTracking.push(wu.elementContent(E))}}catch(e){w=!0,A=e}finally{try{b||null==S.return||S.return()}finally{if(w)throw A}}var C=wu.queryAll(t,"Creatives Creative Linear VideoClicks ClickThrough");m.a.isNotEmpty(C)&&(n.videoClicksThrough=wu.elementContent(C[0]));var x=wu.queryAll(t,"Creatives Creative Linear TrackingEvents Tracking",0),V=!0,O=!1,R=void 0;try{for(var B,P=x[Symbol.iterator]();!(V=(B=P.next()).done);V=!0){var _=B.value,I=_.getAttribute("event"),F=wu.elementContent(_);if("progress"===I){var T=wu.toSec(_.getAttribute("offset"));n.progresses[T]=n.progresses[T]?n.progresses[T]:[],n.progresses[T].push(F)}else"start"===I?n.percents[0].push(F):"firstQuartile"===I?n.percents[25].push(F):"midpoint"===I?n.percents[50].push(F):"thirdQuartile"===I?n.percents[75].push(F):"complete"===I?n.percents[100].push(F):(n[I]=n[I]?n[I]:[],n[I].push(F))}}catch(e){O=!0,R=e}finally{try{V||null==P.return||P.return()}finally{if(O)throw R}}Gu.debug("VAST Events",n)}function cl(e,t){return new Promise(function(n){var r=P("img");r.style.display="none",r.on("load",function(){Gu.debug("beacon on load: url = ".concat(t)),e.trackeds.push(t),r&&r.parentNode&&r.parentNode.removeChild(r),n()}),r.on("error",function(i){Gu.debug("beacon on error: url = ".concat(t)),e.trackeds.push(t),r&&r.parentNode&&r.parentNode.removeChild(r),n()}),r.src=t,document.body.appendChild(r)})}function dl(e,t){return function(){return qu(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Gu.debug("load"),e.next=3,Xu(t,n);case 3:case"end":return e.stop()}},e)})).apply(this,arguments)}.apply(this,arguments)}function fl(){return(fl=qu(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Gu.debug("loadAndLocate"),e.next=3,dl(t,n);case 3:if(pl(t,0)){e.next=5;break}throw new Error("ERROR: no ad");case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pl(e,t){var n=e.ads[t];if(m.a.isNotExist(n))return!1;var r=e.ad1;return!m.a.isNotExist(r)&&(e.adId=n.getAttribute("id"),e.creativeId=wu.queryOne(r,"Creatives Creative ",0).getAttribute("id"),e.adSystem=wu.elementContent(wu.queryOne(r,"AdSystem",0)).replace(/\s+/g,""),e.duration=wu.toSec(wu.elementContent(wu.queryOne(r,"Creatives Creative Linear Duration",0))),e.adTitle=wu.elementContent(wu.queryOne(r,"AdTitle",0)),e.description=wu.elementContent(wu.queryOne(r,"Description",0)),e.advertiser=wu.elementContent(wu.queryOne(r,"Advertiser",0)),m.a.isEmpty(e.advertiser)&&(e.advertiser=wu.elementContent(wu.queryOne(r,"Extensions Extension Advertiser",0))),!0)}function hl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;try{return e.companionAdsObject.companions.filter(t)[n]}catch(e){return null}}var vl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ku(this,"ads",[]),Ku(this,"ad1",null),Ku(this,"duration",0),Ku(this,"isEnabledTracking",!0),Ku(this,"trackeds",[]),Ku(this,"tracks",{videoClicksThrough:null,errors:[],impressions:[],videoClicksTracking:[],progresses:{},percents:{0:[],25:[],50:[],75:[],100:[]}}),Ku(this,"duration",NaN),Ku(this,"adTitle",null),Ku(this,"advertiser",null),Ku(this,"description",null),Ku(this,"adId",null),Ku(this,"adSystem",null),Ku(this,"creativeId",null),Ku(this,"vastUrl",null);var t=Zu(this);t._media=void 0,t._mediaFilesObject=null,t._companionAdsObject=null}var t,n;return t=e,(n=[{key:"clear",value:function(){var e=Zu(this);e._media=null,delete e._media,e._mediaFilesObject=null,delete e._mediaFilesObject,e._companionAdsObject=null,delete e._companionAdsObject,this.ads=null,this.ad1=null,this.duration=null,this.isEnabledTracking=null,this.trackeds=null,this.tracks=null,this.duration=null,this.adTitle=null,this.advertiser=null,this.description=null,this.adId=null,this.adSystem=null,this.creativeId=null,this.vastUrl=null}},{key:"load",value:function(e){return dl(this,e)}},{key:"loadAndLocate",value:function(e){return function(e,t){return fl.apply(this,arguments)}(this,e)}},{key:"locateAd",value:function(e){pl(this,e)}},{key:"dispatchVastEvent",value:function(e){return ul(this,e)}},{key:"dispatchVastError",value:function(e){return ul(this,"errors",e)}},{key:"companion",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=Number(e),i=Number(t);return r&&i?(r=parseInt(r,10),i=parseInt(i,10),hl(this,function(e){return e.width===r&&e.height===i},n)):null}},{key:"companionFromId",value:function(e){return hl(this,function(t){return t.id===e},1<arguments.length&&void 0!==arguments[1]?arguments[1]:0)}},{key:"onTimeupdate",value:function(e,t){return n=this,r=e,i=t,new Promise(function(e,t){if(n.isEnabledTracking){var o=r/i*100,a=wu.popSmaller(n.tracks.percents,o);if((a=a.concat(wu.popSmaller(n.tracks.progresses,r))).length){var u=[],l=!0,s=!1,c=void 0;try{for(var d,f=a[Symbol.iterator]();!(l=(d=f.next()).done);l=!0){var p=d.value;u.push(cl(n,p))}}catch(e){s=!0,c=e}finally{try{l||null==f.return||f.return()}finally{if(s)throw c}}Promise.all(u).then(function(){Gu.debug("resloved onTimeupdate(time: ".concat(r,", duration: ").concat(i,", urls: [").concat(a,"]);")),e()},function(e){Gu.debug("reject onTimeupdate(time: ".concat(r,", duration: ").concat(i,", urls: [").concat(a,"]);")),t(e)})}else e()}else e()});var n,r,i}},{key:"numAds",get:function(){return this.ads.length}},{key:"adParameters",get:function(){return wu.elementContent(wu.queryOne(this.ad1,"Creatives Creative Linear AdParameters",0))}},{key:"media",get:function(){return t=Zu(e=this),m.a.isUndefined(t._media)&&(t._media=e.mediaFilesObject.findOptimalMediaFile()),t._media;var e,t}},{key:"mediaFilesObject",get:function(){return function(e){try{var t=Zu(e);if(t._mediaFilesObject)return t._mediaFilesObject;var n=wu.queryOne(e.ad1,"Creatives Creative Linear MediaFiles");return t._mediaFilesObject=new Hu(n),t._mediaFilesObject}catch(e){return null}}(this)}},{key:"companionAdsObject",get:function(){return function(e){try{var t=Zu(e);if(t._companionAdsObject)return t._companionAdsObject;var n=wu.queryOne(e.ad1,"Creatives CompanionAds");return t._companionAdsObject=new zu(n),t._companionAdsObject}catch(e){return null}}(this)}}])&&Yu(t.prototype,n),e}();function yl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ml(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function gl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wl={Succeeded:"Succeeded",Failed:"Failed"},Al={Loading:1,Timeouted:2,Finished:3};function kl(e,t){return new Promise(function(n){t.loadAndLocate(t.url).then(function(){e._loadedVasts.push(t);var r={vast:t,status:wl.Succeeded,error:null};n(r)},function(e){e.errorCode=u.IvtErrorCode.noAd;var r={vast:t,status:wl.Failed,error:e};n(r)})})}function Sl(e,t){t.status===wl.Failed?function(e,t,n){t.dispatchVastError(n.errorCode),Al.Finished<=e._loadStatus||e._log.debug("loadVast didFail error name:"+n.name+", message: "+n.message)}(e,t.vast,t.error):El(e,t.vast)}function El(e,t){if(!(Al.Finished<=e._loadStatus)){e._log.debug("loadVast didSucceed url: "+t.url),e._loadedVasts=e._loadedVasts.filter(function(e){return e!==t}),e._succeededVasts.push(t);var n=e._promiseFunctions.shift();n&&n.resolve&&n.resolve(t)}}function Cl(e){if(e._timeoutId&&(window.clearTimeout(e._timeoutId),e._timeoutId=null),!(m.a.isNotExist(e._loadStatus)||Al.Finished<=e._loadStatus)){e._loadStatus=Al.Finished,e._log.debug("loadVast didFinish.");var t=new G("no ad",u.IvtErrorCode.noAd),n=!0,r=!1,i=void 0;try{for(var o,a=e._promiseFunctions[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;l.reject&&l.reject(t)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}e._promiseFunctions=[],e._loadedVasts=[]}}var xl=function(){function e(t,n){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),bl(this,"_log",null),bl(this,"_vastUrls",[]),bl(this,"_timeout",1),bl(this,"_currentIndex",0),bl(this,"_loadStatus",null),bl(this,"_loadedVasts",[]),bl(this,"_promiseFunctions",[]),bl(this,"_succeededVasts",[]),bl(this,"_timeoutId",null),this._log=new p(this.constructor.name),this._vastUrls=t||this._vastUrls,this._timeout=n||this._timeout}var t,n;return t=e,(n=[{key:"clear",value:function(){window.clearTimeout(this._timeoutId),this._vastUrls=null,this._timeout=null,this._currentIndex=null,this._loadStatus=null,this._loadedVasts=null,this._promiseFunctions=null,this._succeededVasts=null,this._timeoutId=null}},{key:"loadVasts",value:function(){var e=this;if(Al.Loading<=this._loadStatus)this._log.debug("loadVasts failed: loadStatus = ".concat(this._loadStatus,"."));else{this._loadStatus=Al.Loading,this._log.debug("loadVasts().");for(var t,n=this._vastUrls,r=[],i=[],o=Object.entries(n),a=0;a<o.length;a++){var u=yl(o[a],2),l=u[0],s=u[1],c=new vl;c.priority=l,c.url=s,r.push(kl(this,c))}t=regeneratorRuntime.mark(function t(){var n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=0;case 1:if(n<r.length)return o=r[n],t.next=5,o.then(function(t){Sl(e,t)});t.next=8;break;case 5:n++,t.next=1;break;case 8:Promise.all(i).then(function(){Cl(e)});case 9:case"end":return t.stop()}},t)}),function(){var e=this,n=arguments;new Promise(function(r,i){var o=t.apply(e,n);function a(e){ml(o,r,i,a,u,"next",e)}function u(e){ml(o,r,i,a,u,"throw",e)}a(void 0)})}(),1<n.length&&(this._timeoutId=window.setTimeout(function(){!function(e){if(e._timeoutId&&(window.clearTimeout(e._timeoutId),e._timeoutId=null),!(m.a.isNotExist(e._loadStatus)||Al.Timeouted<=e._loadStatus)){e._loadStatus=Al.Timeouted,e._log.debug("loadVast didTimeout."),e._loadedVasts.sort(function(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0});var t=!0,n=!1,r=void 0;try{for(var i,o=e._loadedVasts[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){El(e,i.value)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}Cl(e)}}(e)},this._timeout))}}},{key:"next",value:function(){var e=this,t=this._currentIndex;return this._currentIndex+=1,new Promise(function(n,r){if(t<e._succeededVasts.length)n(e._succeededVasts[t]);else if(Al.Timeouted<=e._loadStatus){e._currentIndex=NaN;var i=Al.Finished<=e._loadStatus?u.IvtErrorCode.noAd:u.IvtErrorCode.timeout;r(new G("no ad",i))}else{var o={resolve:n,reject:r};e._promiseFunctions.push(o)}})}}])&&gl(t.prototype,n),e}();function Vl(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function Ol(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){Vl(o,r,i,a,u,"next",e)}function u(e){Vl(o,r,i,a,u,"throw",e)}a(void 0)})}}function Rl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pl=new p("AdAction");function _l(){try{var e=du.primaryConfig,t=du.adStore.vast;if(m.a.isEmpty(null==t?void 0:t.ad1))throw new G("reason = 'no ad'. code = ".concat(se.noAd,"."),se.noAd);var n=null==t?void 0:t.media;if(m.a.isEmpty(null==n?void 0:n.uri))throw new G("eason = 'no ad'. code = ".concat(se.noAd,"."),se.noAd);if(null==n?void 0:n.isVpaid){if("normal"!==(null==e?void 0:e.type))throw new G("reason = 'not supported Ad Interface'. code = ".concat(se.vpaid,"."),se.vpaid);if(!e.isInlineVideoSupport)throw new G("reason = 'not supported inline video on vpaid'. code = ".concat(se.vpaid,"."),se.vpaid)}}catch(e){return Pl.debug("_validate(); failed.);"),void Il(e)}}function Il(e){return function(){return Ol(regeneratorRuntime.mark(function e(t){var n,r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=null==t?void 0:t.errorCode,r=null==t?void 0:t.message,i={errorCode:n,message:r},Pl.debug("_didAdError(errorCode: ".concat(n,", message: ").concat(r,"); begin.")),e.next=7,du.adStore.setLastEvent({name:ve.didAdError,detail:i});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Pl.debug("_didAdError(); failed; errorCode: ".concat(e.t0.errorCode,", message: ").concat(e.t0.message,");"));case 12:return e.prev=12,Pl.debug("_didAdError(); end."),e.finish(12);case 15:return o=du.option,a={placementId:o.id,targetElement:o.targetElement,isEnabledPassbackIframe:o.passbackIframe,size:new Ye(o.passbackIframeSize),type:o.type,zIndex:o.wrapperZindex},e.next=19,gs.adAction.unload();case 19:return e.next=21,du.deinit();case 21:return e.next=23,gs.deinit();case 23:(new mu).open(a);case 24:case"end":return e.stop()}},e,null,[[0,9,12,15]])})).apply(this,arguments)}.apply(this,arguments)}var Fl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Bl(this,"_isStarting",void 0),Bl(this,"_isPlaying",void 0),Bl(this,"_isPausing",void 0),Bl(this,"_mutedOnInline",void 0),Pl.debug("constructor();")}var t,n,r,i,o,a,u,l,s,c,d,f,p,h,v,y,g,b,w,A,k,S,E,C,x,V,O,R,B,P,_;return t=e,(n=[{key:"init",value:function(){Pl.debug("begin();"),this._isStarting=!1,this._isPlaying=!1,this._isPausing=!1,this._mutedOnInline=!0}},{key:"deinit",value:function(){Pl.debug("deinit();"),this._isStarting=!1,this._isPlaying=!1,this._isPausing=!1,this._mutedOnInline=!0}},{key:"request",value:(_=Ol(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(function(e){return m.a.isFlag(e,null,ye.request)}(du.adStore.status)){e.next=4;break}return Pl.debug("request(); can not begin."),e.abrupt("return");case 4:if(e.prev=4,n=xe.isSupport(null===(t=du.option)||void 0===t?void 0:t.unsupportedBrowsers),Pl.debug("request(); prepared. isSupport = ".concat(n,".")),n){e.next=11;break}return Pl.error("request(); failed. not supported os or browser."),Il(new Error("not supported os or browser.")),e.abrupt("return");case 11:return Pl.debug("request(); begin."),e.next=14,du.adStore.setLastEvent({name:ve.willVastRequest});case 14:return e.next=16,du.adStore.addState(ye.request);case 16:return e.next=18,du.adStore.setLastEvent({name:ve.didVastRequest});case 18:e.next=25;break;case 20:return e.prev=20,e.t0=e.catch(4),Pl.error("request(); failed."),Il(e.t0),e.abrupt("return");case 25:return e.prev=25,Pl.debug("request(); end."),e.finish(25);case 28:this.create();case 29:case"end":return e.stop()}},e,this,[[4,20,25,28]])})),function(){return _.apply(this,arguments)})},{key:"create",value:(P=Ol(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(function(e){return m.a.isFlag(e,ye.request,ye.create)}(du.adStore.status)){e.next=4;break}return Pl.debug("create(); can not begin."),e.abrupt("return");case 4:return e.prev=4,Pl.debug("create(); prepared."),du.configStore.init(du.option,du.adStore.vast),du.adContainerStore.init(),_l(),Pl.debug("create(); begin."),e.next=12,du.adStore.setLastEvent({name:ve.willAdCreate});case 12:return e.next=14,du.adStore.addState(ye.create);case 14:return e.next=16,du.adStore.setLastEvent({name:ve.didAdCreate});case 16:e.next=23;break;case 18:return e.prev=18,e.t0=e.catch(4),Pl.error("create(); failed."),Il(e.t0),e.abrupt("return");case 23:return e.prev=23,Pl.debug("create(); end."),e.finish(23);case 26:this.load();case 27:case"end":return e.stop()}},e,this,[[4,18,23,26]])})),function(){return P.apply(this,arguments)})},{key:"load",value:(B=Ol(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(function(e){return m.a.isFlag(e,ye.create,ye.load)}(du.adStore.status)){e.next=4;break}return Pl.debug("load(); can not begin."),e.abrupt("return");case 4:return e.prev=4,Pl.debug("load(); begin."),e.next=8,du.adStore.setLastEvent({name:ve.willAdLoad});case 8:return e.next=10,du.adStore.addState(ye.load);case 10:return e.next=12,du.adStore.setLastEvent({name:ve.didAdLoad});case 12:e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(4),Pl.error("load(); failed."),Il(e.t0),e.abrupt("return");case 19:return e.prev=19,Pl.debug("load(); end."),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[4,14,19,22]])})),function(){return B.apply(this,arguments)})},{key:"unload",value:(R=Ol(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(function(e){return m.a.isFlag(e,ye.load)}(du.adStore.status)){e.next=4;break}return Pl.debug("unload(); can not begin."),e.abrupt("return");case 4:return e.prev=4,Pl.debug("unload(); begin."),e.next=8,du.adStore.setLastEvent({name:ve.willAdUnload});case 8:return e.next=10,du.adStore.removeState(ye.load);case 10:return e.next=12,du.adStore.setLastEvent({name:ve.didAdUnload});case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(4),Pl.error("unload(); failed. error: ${error.message}"),e.abrupt("return");case 18:return e.prev=18,Pl.debug("unload(); end."),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[4,14,18,21]])})),function(){return R.apply(this,arguments)})},{key:"start",value:(O=Ol(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(function(e){return!t._isStarting&&m.a.isFlag(e,ye.load,ye.start)}(du.adStore.status)){e.next=4;break}return Pl.debug("start(); can not begin."),e.abrupt("return");case 4:return e.prev=4,Pl.debug("start(); begin."),this._isStarting=!0,e.next=9,du.adStore.setLastEvent({name:ve.willAdStart});case 9:return e.next=11,du.adStore.addState(ye.start|ye.play);case 11:return e.next=13,du.adStore.setLastEvent({name:ve.didAdStart});case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(4),Pl.error("start(); failed."),Il(e.t0),e.abrupt("return");case 20:return e.prev=20,Pl.debug("start(); end."),this._isStarting=!1,e.finish(20);case 24:case"end":return e.stop()}},e,this,[[4,15,20,24]])})),function(){return O.apply(this,arguments)})},{key:"stop",value:(V=Ol(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(function(e){return m.a.isFlag(e,ye.start)}(du.adStore.status)){e.next=4;break}return Pl.debug("stop(); can not begin."),e.abrupt("return");case 4:return e.prev=4,Pl.debug("stop(); begin."),e.next=8,du.adStore.setLastEvent({name:ve.willAdStop});case 8:return e.next=10,du.adStore.removeState(ye.start);case 10:return e.next=12,du.adStore.setLastEvent({name:ve.didAdStop});case 12:e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(4),Pl.error("stop(); failed."),Il(e.t0),e.abrupt("return");case 19:return e.prev=19,Pl.debug("stop(); end."),e.finish(19);case 22:if(du.getConfig().isForceCloseOnAdStop)return gs.adAction.close(),e.abrupt("return");e.next=25;break;case 25:if(du.adStore.isEnded&&du.adStore.replayTimes<du.option.autoReplayTimes)return e.prev=26,gs.adAction.replay(),du.adStore.incrementReplayTimes(),e.abrupt("return");e.next=34;break;case 32:e.prev=32,e.t1=e.catch(26);case 34:0<du.option.autoCloseDuration&&window.setTimeout(function(){gs.adContainerAction.close()},1e3*du.option.autoCloseDuration);case 35:case"end":return e.stop()}},e,null,[[4,14,19,22],[26,32]])})),function(){return V.apply(this,arguments)})},{key:"play",value:(x=Ol(regeneratorRuntime.mark(function e(){var t,n,r=this,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0<i.length&&void 0!==i[0]?i[0]:ce.userInteraction,n=function(e){return!r._isPlaying&&m.a.isFlag(e,ye.start,ye.play)&&du.adStore.isEmptyPausedReason},du.adStore.removePausedReason(t),n(du.adStore.status)){e.next=6;break}return Pl.debug("play(); can not begin. adStatus: ".concat(du.adStore.status,".")),e.abrupt("return");case 6:return e.prev=6,Pl.debug("play(); begin."),this._isPlaying=!0,e.next=11,du.adStore.setLastEvent({name:ve.willAdPlay});case 11:return e.next=13,du.adStore.addState(ye.play);case 13:return e.next=15,du.adStore.setLastEvent({name:ve.didAdPlay});case 15:e.next=22;break;case 17:return e.prev=17,e.t0=e.catch(6),Pl.error("play(); failed."),Il(e.t0),e.abrupt("return");case 22:return e.prev=22,Pl.debug("play(); end."),this._isPlaying=!1,e.finish(22);case 26:case"end":return e.stop()}},e,this,[[6,17,22,26]])})),function(){return x.apply(this,arguments)})},{key:"pause",value:(C=Ol(regeneratorRuntime.mark(function e(){var t,n,r=this,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0<i.length&&void 0!==i[0]?i[0]:ce.userInteraction,n=function(e){return!r._isPausing&&m.a.isFlag(e,ye.play)},du.adStore.addPausedReason(t),n(du.adStore.status)){e.next=6;break}return Pl.debug("pause(); can not begin."),e.abrupt("return");case 6:return e.prev=6,Pl.debug("pause(); begin."),this._isPausing=!0,e.next=11,du.adStore.setLastEvent({name:ve.willAdPause});case 11:return e.next=13,du.adStore.removeState(ye.play);case 13:return e.next=15,du.adStore.setLastEvent({name:ve.didAdPause});case 15:e.next=22;break;case 17:return e.prev=17,e.t0=e.catch(6),Pl.error("pause(); failed."),Il(e.t0),e.abrupt("return");case 22:return e.prev=22,Pl.debug("pause(); end."),this._isPausing=!1,e.finish(22);case 26:case"end":return e.stop()}},e,this,[[6,17,22,26]])})),function(){return C.apply(this,arguments)})},{key:"replay",value:(E=Ol(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(function(e){return!t._isStarting&&m.a.isFlag(e,ye.load)}(du.adStore.status)){e.next=4;break}return Pl.debug("replay(); can not begin."),e.abrupt("return");case 4:return e.prev=4,Pl.debug("replay(); begin."),this._isStarting=!0,e.next=9,du.adStore.setLastEvent({name:ve.willAdReplay});case 9:return e.next=11,du.adStore.addState(ye.start|ye.play);case 11:return e.next=13,du.adStore.setLastEvent({name:ve.didAdReplay});case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(4),Pl.error("replay(); failed."),Il(e.t0),e.abrupt("return");case 20:return e.prev=20,Pl.debug("replay(); end."),this._isStarting=!1,e.finish(20);case 24:case"end":return e.stop()}},e,this,[[4,15,20,24]])})),function(){return E.apply(this,arguments)})},{key:"close",value:(S=Ol(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stop();case 2:return e.prev=2,Pl.debug("close(); begin."),e.next=6,du.adStore.setLastEvent({name:ve.willAdClose});case 6:return e.next=8,Promise.all(du.adContainerStore.adContainers.map(function(){var e=Ol(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.view.disappear();case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 8:return e.next=10,du.adStore.setLastEvent({name:ve.didAdClose});case 10:e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(2),Pl.error("close(); failed."),Il(e.t0),e.abrupt("return");case 17:return e.prev=17,Pl.debug("close(); end."),e.finish(17);case 20:this.unload();case 21:case"end":return e.stop()}},e,this,[[2,12,17,20]])})),function(){return S.apply(this,arguments)})},{key:"enterFullscreen",value:(k=Ol(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!0===du.adStore.isFullscreened)return Pl.debug("enterFullscreen(); can not begin. isFullscreened = true"),e.abrupt("return");e.next=3;break;case 3:return this._mutedOnInline=null===(t=du.adStore)||void 0===t?void 0:t.isMuted,this.unmute(),e.prev=5,Pl.debug("enterFullscreen(); begin."),e.next=9,du.adStore.setLastEvent({name:ve.willAdEnterFullscreen});case 9:return e.next=11,du.adStore.setIsFullscreened(!0);case 11:return e.next=13,du.adStore.setLastEvent({name:ve.didAdEnterFullscreen});case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(5),Pl.error("enterFullscreen(); failed."),Il(e.t0),e.abrupt("return");case 20:return e.prev=20,Pl.debug("enterFullscreen(); end."),e.finish(20);case 23:case"end":return e.stop()}},e,this,[[5,15,20,23]])})),function(){return k.apply(this,arguments)})},{key:"exitFullscreen",value:(A=Ol(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1===du.adStore.isFullscreened)return Pl.debug("exitFullscreen(); can not begin. isFullscreened = false"),e.abrupt("return");e.next=3;break;case 3:if(e.prev=3,this._mutedOnInline)return e.next=7,this.mute();e.next=9;break;case 7:e.next=11;break;case 9:return e.next=11,this.unmute();case 11:return Pl.debug("exifFullscreen() begin."),e.next=14,du.adStore.setIsFullscreened(!1);case 14:return e.next=16,du.adStore.setLastEvent({name:ve.didAdExitFullscreen});case 16:e.next=23;break;case 18:return e.prev=18,e.t0=e.catch(3),Pl.error("exitFullscreen(); failed."),Il(e.t0),e.abrupt("return");case 23:return e.prev=23,Pl.debug("exifFullscreen(); end."),e.finish(23);case 26:du.adStore.isEnded&&this.stop();case 27:case"end":return e.stop()}},e,this,[[3,18,23,26]])})),function(){return A.apply(this,arguments)})},{key:"mute",value:(w=Ol(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!0===du.adStore.isMuted)return Pl.debug("mute(); can not begin. isMuted = true"),e.abrupt("return");e.next=3;break;case 3:return e.prev=3,Pl.debug("mute(); begin."),e.next=7,du.adStore.setLastEvent({name:ve.willAdMute});case 7:return e.next=9,du.adStore.setIsMuted(!0);case 9:return e.next=11,du.adStore.setLastEvent({name:ve.didAdMute});case 11:e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(3),Pl.error("mute(); failed."),Il(e.t0),e.abrupt("return");case 18:return e.prev=18,Pl.debug("mute(); end."),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[3,13,18,21]])})),function(){return w.apply(this,arguments)})},{key:"unmute",value:(b=Ol(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1===du.adStore.isMuted)return Pl.debug("unmute(); can not begin. isMuted = false."),e.abrupt("return");e.next=3;break;case 3:return e.prev=3,Pl.debug("unmute(); begin."),e.next=7,du.adStore.setLastEvent({name:ve.willAdUnmute});case 7:return e.next=9,du.adStore.setIsMuted(!1);case 9:return e.next=11,du.adStore.setLastEvent({name:ve.didAdUnmute});case 11:e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(3),Pl.error("unmute(); failed."),Il(e.t0),e.abrupt("return");case 18:return e.prev=18,Pl.debug("unmute(); end."),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[3,13,18,21]])})),function(){return b.apply(this,arguments)})},{key:"volumeChange",value:(g=Ol(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(du.adStore.volume===t)return Pl.debug("volumeChange(volume: ".concat(t,"); can not begin. it is already the same volume.")),e.abrupt("return");e.next=3;break;case 3:return e.prev=3,Pl.debug("volumeChange(); begin."),n={volume:t},e.next=8,du.adStore.setLastEvent({name:ve.willAdVolumeChange,detail:n});case 8:return e.next=10,du.adStore.setVolume(t);case 10:return e.next=12,du.adStore.setLastEvent({name:ve.didAdVolumeChange,detail:n});case 12:e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(3),Pl.error("volumeChange(); failed."),Il(e.t0),e.abrupt("return");case 19:return e.prev=19,Pl.debug("volumeChange(); end."),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[3,14,19,22]])})),function(e){return g.apply(this,arguments)})},{key:"videoClick",value:(y=Ol(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(du.adStore.isFullscreened)return Pl.debug("videoClick() can not begin. ad is fullscreened."),e.abrupt("return");e.next=3;break;case 3:return this.pause(ce.focus),e.prev=4,n=m.a.exist(t,du.getConfig().videoClicksThrough),r={url:n},Pl.debug("videoClick(url: ".concat(t,"); begin.")),e.next=10,du.adStore.setLastEvent({name:ve.willAdClick,detail:r});case 10:return i=n,window.open(i,"_blank"),e.next=13,du.adStore.setLastEvent({name:ve.didAdClick,detail:r});case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(4),Pl.error("videoClick(); failed."),Il(e.t0),e.abrupt("return");case 20:return e.prev=20,Pl.debug("videoClick(); end."),e.finish(20);case 23:case"end":return e.stop()}var i},e,this,[[4,15,20,23]])})),function(e){return y.apply(this,arguments)})},{key:"optout",value:(v=Ol(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.pause(ce.focus),e.prev=1,n=m.a.exist(t,"//feedback.impact-ad.jp/optout"),r={url:n},Pl.debug("optout(url: ".concat(n,"); begin.")),e.next=7,du.adStore.setLastEvent({name:ve.willAdOptout,detail:r});case 7:return this._openUrl(n),e.next=10,du.adStore.setLastEvent({name:ve.didAdOptout,detail:r});case 10:e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(1),Pl.error("optout(); failed."),Il(e.t0),e.abrupt("return");case 17:return e.prev=17,Pl.debug("optout(); end."),e.finish(17);case 20:case"end":return e.stop()}},e,this,[[1,12,17,20]])})),function(e){return v.apply(this,arguments)})},{key:"impression",value:(h=Ol(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.impression=function(){},e.prev=1,Pl.debug("impression(); begin."),e.next=5,du.adStore.setLastEvent({name:ve.willAdImpression});case 5:return e.next=7,du.adStore.setLastEvent({name:ve.didAdImpression});case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(1),Pl.error("impression(); failed."),e.abrupt("return");case 13:return e.prev=13,Pl.debug("impression(); end."),e.finish(13);case 16:case"end":return e.stop()}},e,this,[[1,9,13,16]])})),function(){return h.apply(this,arguments)})},{key:"viewable",value:(p=Ol(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.viewable=function(){},e.prev=1,Pl.debug("viewable(); begin."),e.next=5,du.adStore.setLastEvent({name:ve.willAdViewable});case 5:return e.next=7,du.adStore.setLastEvent({name:ve.didAdViewable});case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(1),Pl.error("viewable(); failed."),e.abrupt("return");case 13:return e.prev=13,Pl.debug("viewable(); end."),e.finish(13);case 16:case"end":return e.stop()}},e,this,[[1,9,13,16]])})),function(){return p.apply(this,arguments)})},{key:"videoCanplay",value:(f=Ol(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Pl.debug("videoCanplay(); begin."),t={},e.next=5,du.adStore.setLastEvent({name:ve.didVideoCanplay,detail:t});case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(0),Pl.error("videoCanplay(); failed."),Il(e.t0),e.abrupt("return");case 12:return e.prev=12,Pl.debug("videoCanplay(); end."),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,7,12,15]])})),function(){return f.apply(this,arguments)})},{key:"videoProgress",value:(d=Ol(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t<n&&du.adStore.setIsEnded(!1),r={time:t,duration:n},e.next=5,du.adStore.setLastEvent({name:ve.didVideoProgress,detail:r});case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(0),Pl.error("videoProgress(); failed."),Il(e.t0),e.abrupt("return");case 12:du.option.impressionOffset<=t&&this.impression(),du.option.viewableOffset<=t&&this.viewable();case 14:case"end":return e.stop()}},e,this,[[0,7]])})),function(e,t){return d.apply(this,arguments)})},{key:"videoStart",value:(c=Ol(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Pl.debug("videoStart(); begin. time: ".concat(t,", duration: ").concat(n,".")),r={time:t,duration:n},e.next=5,du.adStore.setLastEvent({name:ve.didVideoStart,detail:r});case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(0),Pl.error("videoStart(); failed."),Il(e.t0),e.abrupt("return");case 12:return e.prev=12,Pl.debug("videoStart(); end."),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,7,12,15]])})),function(e,t){return c.apply(this,arguments)})},{key:"videoFirstQuartile",value:(s=Ol(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Pl.debug("videoFirstQuartile(); begin. time: ".concat(t,", duration: ").concat(n,".")),r={time:t,duration:n},e.next=5,du.adStore.setLastEvent({name:ve.didVideoFirstQuartile,detail:r});case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(0),Pl.error("videoFirstQuartile(); failed."),Il(e.t0),e.abrupt("return");case 12:return e.prev=12,Pl.debug("videoFirstQuartile(); end."),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,7,12,15]])})),function(e,t){return s.apply(this,arguments)})},{key:"videoMidpoint",value:(l=Ol(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Pl.debug("videoMidpoint(); begin. time: ".concat(t,", duration: ").concat(n,".")),r={time:t,duration:n},e.next=5,du.adStore.setLastEvent({name:ve.didVideoMidpoint,detail:r});case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(0),Pl.error("videoMidpoint(); failed."),Il(e.t0),e.abrupt("return");case 12:return e.prev=12,Pl.debug("videoMidpoint(); end."),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,7,12,15]])})),function(e,t){return l.apply(this,arguments)})},{key:"videoThirdQuartile",value:(u=Ol(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Pl.debug("videoThirdQuartile(); begin. time: ".concat(t,", duration: ").concat(n,".")),r={time:t,duration:n},e.next=5,du.adStore.setLastEvent({name:ve.didVideoThirdQuartile,detail:r});case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(0),Pl.error("videoThirdQuartile(); failed."),Il(e.t0),e.abrupt("return");case 12:return e.prev=12,Pl.debug("videoThirdQuartile(); end."),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,7,12,15]])})),function(e,t){return u.apply(this,arguments)})},{key:"videoComplete",value:(a=Ol(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Pl.debug("videoComplete(); begin. time: ".concat(t,", duration: ").concat(n,".")),r={time:t,duration:n},e.next=5,du.adStore.setLastEvent({name:ve.didVideoComplete,detail:r});case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(0),Pl.error("videoComplete(); failed."),Il(e.t0),e.abrupt("return");case 12:return e.prev=12,Pl.debug("videoComplete(); end."),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,7,12,15]])})),function(e,t){return a.apply(this,arguments)})},{key:"videoEnded",value:(o=Ol(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,Pl.debug("videoEnded(); begin."),du.adStore.setIsEnded(!0),e.next=10;break;case 5:return e.prev=5,e.t0=e.catch(0),Pl.error("videoEnded(); failed."),Il(e.t0),e.abrupt("return");case 10:return e.prev=10,Pl.debug("videoEnded(); end."),e.finish(10);case 13:case"end":return e.stop()}},e,null,[[0,5,10,13]])})),function(){return o.apply(this,arguments)})},{key:"updateLayout",value:(i=Ol(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=m.a.viewportWidth,(n=du.adContainerStore.currentWidth)===t)return e.abrupt("return");e.next=4;break;case 4:return e.prev=4,Pl.debug("updateLayout(); begin. currentWidth: ".concat(n)),e.next=8,du.adStore.setLastEvent({name:ve.willAdUpdateLayout});case 8:return du.adContainerStore.setCurrentWidth(t),e.next=11,du.adStore.setLastEvent({name:ve.didAdUpdateLayout});case 11:e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(4),Pl.error("updateLayout(); failed."),Il(e.t0),e.abrupt("return");case 18:return e.prev=18,Pl.debug("updateLayout(); end."),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[4,13,18,21]])})),function(){return i.apply(this,arguments)})},{key:"raiseError",value:(r=Ol(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Il({errorCode:t,message:n});case 1:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)})}])&&Rl(t.prototype,n),e}();function Tl(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function jl(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){Tl(o,r,i,a,u,"next",e)}function u(e){Tl(o,r,i,a,u,"throw",e)}a(void 0)})}}function Ul(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var zl=new p("AdContainerAction");function Ll(e,t){return function(){return jl(regeneratorRuntime.mark(function e(t,n){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.id,e.next=4,null===(r=(i=n.view).unload)||void 0===r?void 0:r.call(i);case 4:du.adContainerStore.remove(o),du.configStore.remove(o);case 6:case"end":return e.stop()}},e)})).apply(this,arguments)}.apply(this,arguments)}function Dl(e,t){if(e){var n,r=du.adContainerStore.playerView;null===(n=e.view.adView)||void 0===n||n.setPlayerView(r)}var i;t&&(null===(i=t.view.adView)||void 0===i||i.setPlayerView(null))}function Ml(e,t){du.configStore.filterAdActions(e,t).forEach(function(e){var t,n;if(m.a.isFinite(e.times)){if(e.times<1)return;e.times-=1}var r=e.target,i=e.action;null===(t=(n=gs.adContainerAction)[i])||void 0===t||t.call(n,r)})}function Nl(){return function(){return jl(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,du.adContainerStore.hasReminder)return gs.adAction.stop(),t=du.adContainerStore.primaryAdContainer.id,e.next=6,gs.adContainerAction.disappear(t);e.next=9;break;case 6:return e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(0),zl.error("_showReminderIfPossible(); failed."),e.t0;case 16:case"end":return e.stop()}},e,null,[[0,12]])})).apply(this,arguments)}.apply(this,arguments)}var Wl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,i,o,a,u,l,s;return t=e,(n=[{key:"clear",value:function(){}},{key:"inview",value:(s=jl(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Ml(t,"didInview");case 1:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})},{key:"outview",value:(l=jl(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Ml(t,"didOutview");case 1:case"end":return e.stop()}},e)})),function(e){return l.apply(this,arguments)})},{key:"appear",value:(u=jl(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=du.adContainerStore.getAdContainer(t)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,n.view.appear();case 5:if(!e.sent){e.next=7;break}Ml(t,"didAppear");case 7:case"end":return e.stop()}},e)})),function(e){return u.apply(this,arguments)})},{key:"disappear",value:(a=jl(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=du.adContainerStore.getAdContainer(t)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,n.view.disappear();case 5:if(!e.sent){e.next=7;break}Ml(t,"didDisappear");case 7:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)})},{key:"present",value:(o=jl(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(zl.debug("present(): begin."),n=du.adContainerStore,r=n.getAdContainer(t),i=n.currentAdContainer,r){e.next=7;break}return zl.debug("present() failed. not adContainer;"),e.abrupt("return");case 7:n.presentedAdContainerStack.includes(r)||n.presentedAdContainerStack.push(r),Dl(r,i),this.appear(t);case 10:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"dismiss",value:(i=jl(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=du.adContainerStore,r=n.getAdContainer(t)){e.next=5;break}return zl.debug("dismiss() failed. not adContainer;"),e.abrupt("return");case 5:n.presentedAdContainerStack=n.presentedAdContainerStack.filter(function(e){return e!==r}),Dl(n.currentAdContainer,r),this.disappear(t);case 9:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"close",value:(r=jl(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=du.adContainerStore,r=n.getAdContainer(t),m.a.isEmpty(r)||r===n.primaryAdContainer)return e.next=5,Nl();e.next=13;break;case 5:if(e.sent)return e.abrupt("return");e.next=9;break;case 9:return e.next=11,gs.adAction.close();case 11:e.next=14;break;case 13:r&&Ll(this,r);case 14:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})}])&&Ul(t.prototype,n),e}();function Hl(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function Ql(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){Hl(o,r,i,a,u,"next",e)}function u(e){Hl(o,r,i,a,u,"throw",e)}a(void 0)})}}function ql(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kl=function(){var e=function(){return!1};return void 0!==document.hidden?e=function(){return document.hidden}:void 0!==document.webkitHidden?e=function(){return document.webkitHidden}:void 0!==document.msHidden&&(e=function(){return document.msHidden}),e}();function Gl(e,t){var n=e;t?Xl(n):Zl(n)}function Zl(e){var t=e;t._inviewCheckTimer&&(window.clearTimeout(t._inviewCheckTimer),t._inviewCheckTimer=null)}function Xl(e){var t=e;t._inviewCheckTimer||(t._inviewCheckTimer=window.setTimeout(function(){!function(e){(function(){return Ql(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Jl(n=t)){e.next=12;break}if(du.adStore.isStarted)return e.next=6,es(n);e.next=8;break;case 6:e.next=10;break;case 8:return e.next=10,$l(n);case 10:e.next=12;break;case 12:n._inviewCheckTimer&&(n._inviewCheckTimer=null,Xl(n));case 13:case"end":return e.stop()}},e)})).apply(this,arguments)}).apply(this,arguments)}(t)},100))}function Jl(e){return!du.adContainerStore.playerView.isFullscreen}function $l(e){return function(){return Ql(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(ts(t))return e.next=5,gs.userAction.start();e.next=5;break;case 5:case"end":return e.stop()}},e)})).apply(this,arguments)}.apply(this,arguments)}function es(e){return function(){return Ql(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ts(n=t),(i=du.primaryConfig).isEnabledInviewCheck){e.next=6;break}return Zl(n),e.abrupt("return");case 6:if(!r){e.next=18;break}if(!i.isForcePlayOnInView){e.next=13;break}if(du.adStore.isPaused)return e.next=11,gs.userAction.play(ce.pausing);e.next=11;break;case 11:e.next=16;break;case 13:if(du.adStore.isPausedReason(ce.outview))return e.next=16,gs.userAction.play(ce.outview);e.next=16;break;case 16:e.next=29;break;case 18:if(i.isSkipDidOutview&&i.endcardCompanion)return e.next=21,gs.adAction.stop();e.next=23;break;case 21:e.next=29;break;case 23:if(du.adStore.isPausedReason(ce.outview)){e.next=29;break}if(!du.adContainerStore.hasSubAdContainer){e.next=27;break}e.next=29;break;case 27:return e.next=29,gs.userAction.pause(ce.outview);case 29:case"end":return e.stop()}},e)})).apply(this,arguments)}.apply(this,arguments)}function ts(e){if(Kl())return!1;var t=du.adContainerStore.primaryAdContainer;return t&&t.view.updateInviewStatus()||!1}var ns=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Yl(this,"_adStoreChangedFunc",void 0),Yl(this,"_inviewCheckTimer",void 0),this._adStoreChangedFunc=_t.changed.bind(null,this),du.adStore.addObsever(this._adStoreChangedFunc)}var t,n;return t=e,(n=[{key:"clear",value:function(){Zl(this),du.adStore.removeObsever(this._adStoreChangedFunc),this._adStoreChangedFunc=null}},{key:"didAdLoad",value:function(){Gl(this,!0)}},{key:"willAdUnload",value:function(){this.clear()}},{key:"didAdReplay",value:function(){Gl(this,!0)}},{key:"didAdStart",value:function(){Gl(this,!0)}},{key:"didAdStop",value:function(){Gl(this,!1)}},{key:"isEnabled",get:function(){return Boolean(this._inviewCheckTimer)}}])&&ql(t.prototype,n),e}();function rs(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function is(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){rs(o,r,i,a,u,"next",e)}function u(e){rs(o,r,i,a,u,"throw",e)}a(void 0)})}}function os(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var as=new p("UserAction"),us=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,i,o,a,u,l,s,c,d,f,p,h,v,y;return t=e,(n=[{key:"deinit",value:function(){}},{key:"start",value:(y=is(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={pausedReason:ce.userInteraction},n={name:ve.didUserPlay,detail:t},e.next=4,du.adStore.setLastEvent(n);case 4:return e.next=6,gs.adAction.start();case 6:case"end":return e.stop()}},e)})),function(){return y.apply(this,arguments)})},{key:"play",value:(v=is(regeneratorRuntime.mark(function e(){var t,n,r,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<i.length&&void 0!==i[0]?i[0]:ce.userInteraction,n={pausedReason:t},r={name:ve.didUserPlay,detail:n},e.next=5,du.adStore.setLastEvent(r);case 5:return e.next=7,gs.adAction.play(t);case 7:case"end":return e.stop()}},e)})),function(){return v.apply(this,arguments)})},{key:"pause",value:(h=is(regeneratorRuntime.mark(function e(){var t,n,r,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<i.length&&void 0!==i[0]?i[0]:ce.userInteraction,n={pausedReason:t},r={name:ve.didUserPause,detail:n},e.next=5,du.adStore.setLastEvent(r);case 5:return e.next=7,gs.adAction.pause(t);case 7:case"end":return e.stop()}},e)})),function(){return h.apply(this,arguments)})},{key:"replay",value:(p=is(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:ve.didUserReplay},e.next=3,du.adStore.setLastEvent(t);case 3:return e.next=5,gs.adAction.replay();case 5:case"end":return e.stop()}},e)})),function(){return p.apply(this,arguments)})},{key:"close",value:(f=is(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={adContainerId:t},r={name:ve.didUserClose,detail:n},e.next=4,du.adStore.setLastEvent(r);case 4:return e.next=6,gs.adContainerAction.close(t);case 6:case"end":return e.stop()}},e)})),function(e){return f.apply(this,arguments)})},{key:"enterFullscreen",value:(d=is(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:ve.didUserEnterFullscreen},e.next=3,du.adStore.setLastEvent(t);case 3:return e.next=5,gs.adAction.enterFullscreen();case 5:case"end":return e.stop()}},e)})),function(){return d.apply(this,arguments)})},{key:"mute",value:(c=is(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:ve.didUserMute},e.next=3,du.adStore.setLastEvent(t);case 3:return e.next=5,gs.adAction.mute();case 5:case"end":return e.stop()}},e)})),function(){return c.apply(this,arguments)})},{key:"unmute",value:(s=is(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:ve.didUserUnmute},e.next=3,du.adStore.setLastEvent(t);case 3:return e.next=5,gs.adAction.unmute();case 5:case"end":return e.stop()}},e)})),function(){return s.apply(this,arguments)})},{key:"volumeChange",value:(l=is(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1===m.a.isFinite(t))return e.abrupt("return");e.next=2;break;case 2:return n={volume:t},r={name:ve.didUserVolumeChange,detail:n},e.next=6,du.adStore.setLastEvent(r);case 6:return e.next=8,gs.adAction.volumeChange(t);case 8:case"end":return e.stop()}},e)})),function(e){return l.apply(this,arguments)})},{key:"videoClick",value:(u=is(regeneratorRuntime.mark(function e(t){var n,r,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(1<i.length&&void 0!==i[1])||i[1],r={url:t,playerHandles:n},as.debug("videoClick(url: ".concat(t,", playerHandles: ").concat(n,");")),e.next=5,du.adStore.setLastEvent({name:ve.didUserVideoClick,detail:r});case 5:if(n)return e.next=8,gs.adAction.videoClick(t);e.next=8;break;case 8:case"end":return e.stop()}},e)})),function(e){return u.apply(this,arguments)})},{key:"optout",value:(a=is(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return as.debug("optout(url: ".concat(t,");")),n={url:t},r={name:ve.didUserOptout,detail:n},e.next=5,du.adStore.setLastEvent(r);case 5:return e.next=7,gs.adAction.optout(t);case 7:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)})},{key:"acceptInvitation",value:(o=is(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return as.debug("acceptInvitation();"),t={},n={name:ve.didUserAcceptInvitation,detail:t},e.next=5,du.adStore.setLastEvent(n);case 5:case"end":return e.stop()}},e)})),function(){return o.apply(this,arguments)})},{key:"collapse",value:(i=is(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return as.debug("collapse();"),t={},n={name:ve.didUserCollapse,detail:t},e.next=5,du.adStore.setLastEvent(n);case 5:case"end":return e.stop()}},e)})),function(){return i.apply(this,arguments)})},{key:"expand",value:(r=is(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return as.debug("expand();"),t={},n={name:ve.didUserExpand,detail:t},e.next=5,du.adStore.setLastEvent(n);case 5:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)})}])&&os(t.prototype,n),e}();function ls(e,t,n,r,i,o,a){try{var u=e[o](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,i)}function ss(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){ls(o,r,i,a,u,"next",e)}function u(e){ls(o,r,i,a,u,"throw",e)}a(void 0)})}}function cs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ds=new p("VastAction");function fs(){return function(){return ss(regeneratorRuntime.mark(function e(){var t,n,r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=du.option,n=null==t?void 0:t.urls,r=null==t?void 0:t.multiVastTimeout,e.prev=3,ds.debug("_requestVast(); begin. url = ${urls}, timeout = ${timeout}."),(i=new xl(n,r)).loadVasts(),e.next=9,i.next();case 9:o=e.sent,i.clear(),du.adStore.setVast(o),e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(3),ds.error("_requestVast(); failed."),e.t0;case 18:return e.prev=18,ds.debug("_requestVast(); end."),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[3,14,18,21]])})).apply(this,arguments)}.apply(this,arguments)}var ps=function(){function e(){var t,n;!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),n=void 0,(t="_adStoreChangedFunc")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}var t,n,r;return t=e,(n=[{key:"init",value:function(){return this._adStoreChangedFunc=_t.changed.bind(null,this),du.adStore.addObsever(this._adStoreChangedFunc),this}},{key:"deinit",value:function(){du.adStore.removeObsever(this._adStoreChangedFunc),this._adStoreChangedFunc=null}},{key:"willVastRequest",value:(r=ss(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fs();case 2:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)})}])&&cs(t.prototype,n),e}();function hs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ys=new p("Action"),ms=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"init",value:function(){try{var e=xe.mediaType,t=xe.browserType,n=xe.browserVersion,r=xe.osType,i=xe.osVersion;ys.debug("init();\n        mediaType = ".concat(e,",\n        browserType = ").concat(t,", browserVersion = ").concat(n,",\n        osType = ").concat(r,", osVersion = ").concat(i,".")),this._adAction=new Fl,this._adContainerAction=new Wl,this._inviewCheckAction=new ns,this._userAction=new us,this._vastAction=(new ps).init()}catch(e){ys.error("init(); failed. error = ".concat(e.message,"."))}return this}},{key:"deinit",value:function(){try{var e,t,n,r,i;null===(e=this._adAction)||void 0===e||e.deinit(),null===(t=this._adContainerAction)||void 0===t||t.clear(),null===(n=this._inviewCheckAction)||void 0===n||n.clear(),null===(r=this._userAction)||void 0===r||r.deinit(),null===(i=this._vastAction)||void 0===i||i.deinit()}catch(e){ys.error("deinit(); failed. error = ".concat(e.message,"."))}}},{key:"adAction",get:function(){return this._adAction}},{key:"adContainerAction",get:function(){return this._adContainerAction}},{key:"inviewCheckAction",get:function(){return this._inviewCheckAction}},{key:"userAction",get:function(){return this._userAction}},{key:"vastAction",get:function(){return this._vastAction}}],null&&hs(t.prototype,null),n&&hs(t,n),e}();vs(ms,"_adAction",null),vs(ms,"_adContainerAction",null),vs(ms,"_inviewCheckAction",null),vs(ms,"_userAction",null),vs(ms,"_vastAction",null);var gs=ms;function bs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}m.a.namespace();var ws=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"clear",value:function(){}},{key:"loadAd",value:function(){gs.adAction.load()}},{key:"startAd",value:function(){gs.adAction.start()}},{key:"finishAd",value:function(){gs.adAction.unload()}},{key:"resumeAd",value:function(){gs.adAction.play()}},{key:"pauseAd",value:function(){gs.adAction.pause()}},{key:"replayAd",value:function(){gs.adAction.replay()}},{key:"muteAd",value:function(){gs.adAction.mute()}},{key:"unmuteAd",value:function(){gs.adAction.unmute()}},{key:"resizeAd",value:function(e,t){}},{key:"adUserInteraction",value:function(e){var t=Array.prototype.slice.call(arguments,1);switch(e){case u.IvtAdUIType.click:gs.userAction.videoClick();break;case u.IvtAdUIType.mute:gs.userAction.mute();break;case u.IvtAdUIType.unmute:gs.userAction.unmute();break;case u.IvtAdUIType.volumeChange:var n=t[0];gs.userAction.volumeChange(n);break;case u.IvtAdUIType.pause:var r=t[0];gs.userAction.pause(r);break;case u.IvtAdUIType.resume:var i=t[0];gs.userAction.play(i);break;case u.IvtAdUIType.rewind:gs.userAction.replay();break;case u.IvtAdUIType.fullscreen:gs.userAction.enterFullscreen();break;case u.IvtAdUIType.close:gs.userAction.close();break;case u.IvtAdUIType.optout:gs.userAction.optout();break;case u.IvtAdUIType.acceptInvitation:gs.userAction.acceptInvitation()}}},{key:"adPlayer",get:function(){return du.videoElement}},{key:"adPlayerSlot",get:function(){var e,t;return null===(e=du.primaryAdContainer)||void 0===e?void 0:null===(t=e.adView)||void 0===t?void 0:t.playerSlot}},{key:"adPlayerState",get:function(){var e;return(null===(e=du.videoView)||void 0===e?void 0:e.isFullscreen)?u.IvtAdPlayerState.fullscreen:u.IvtAdPlayerState.normal}},{key:"adProgress",get:function(){var e;return null===(e=du.videoView)||void 0===e?void 0:e.progress}},{key:"adDuration",get:function(){var e;return null===(e=du.videoView)||void 0===e?void 0:e.duration}},{key:"adVolume",get:function(){var e;return null===(e=du.videoView)||void 0===e?void 0:e.volume},set:function(e){var t,n;null===(t=du.videoView)||void 0===t||null===(n=t.setVolume)||void 0===n||n.call(t,e)}},{key:"adMuted",get:function(){var e;return null===(e=du.videoView)||void 0===e?void 0:e.isMuted}},{key:"isAdFullscreen",get:function(){var e;return null===(e=du.videoView)||void 0===e?void 0:e.isFullscreen}},{key:"isAdVpaid",get:function(){var e;return null===(e=du.primaryConfig)||void 0===e?void 0:e.isVpaid}},{key:"isAdPlaying",get:function(){var e;return m.a.toBool(null===(e=du.adStore)||void 0===e?void 0:e.isPlayed)}},{key:"isAdPaused",get:function(){var e;return m.a.toBool(null===(e=du.adStore)||void 0===e?void 0:e.isPaused)}},{key:"isAdStopped",get:function(){var e;return m.a.toBool(null===(e=du.adStore)||void 0===e?void 0:e.isStopped)}},{key:"vastCurrentMediaFile",get:function(){var e,t;return null===(e=du.adStore)||void 0===e?void 0:null===(t=e.vast)||void 0===t?void 0:t.media}},{key:"vastMediaFiles",get:function(){var e,t;return null===(e=du.adStore)||void 0===e?void 0:null===(t=e.vast)||void 0===t?void 0:t.mediaFilesObject}},{key:"vastVideoClickThrough",get:function(){var e,t,n;return null===(e=du.adStore)||void 0===e?void 0:null===(t=e.vast)||void 0===t?void 0:null===(n=t.tracks)||void 0===n?void 0:n.videoClicksThrough}},{key:"vastCompanionAds",get:function(){var e,t;return null===(e=du.adStore)||void 0===e?void 0:null===(t=e.vast)||void 0===t?void 0:t.companionAdsObject}}])&&bs(t.prototype,n),e}();function As(e){return(As="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ks(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ss(e,t,n){return(Ss="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Es(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Es(e){return(Es=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xs(e,t,n){return t&&Cs(e.prototype,t),n&&Cs(e,n),e}function Vs(e,t){return(Vs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Os=m.a.namespace(),Rs=u.IvtAdEvent,Bs=u.IvtAdUIType,Ps=function(e){function t(){var e,n,r,i,o;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,e=!(n=Es(t).call(this))||"object"!==As(n)&&"function"!=typeof n?ks(this):n,o=void 0,(i="_adStoreChangedFunc")in(r=ks(e))?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,e._adStoreChangedFunc=_t.changed.bind(null,ks(e)),du.adStore.addObsever(e._adStoreChangedFunc),Os(ks(e)).controller=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vs(e,t)}(t,o.IvtEventTarget),xs(t,[{key:"controller",get:function(){return Os(this).controller}}]),xs(t,[{key:"clear",value:function(){var e=Os(this);e.controller=null,delete e.controller,e.adStoreChangedFunc=null,delete e.adStoreChangedFunc,Ss(Es(t.prototype),"clear",this).call(this)}},{key:"setup",value:function(e){if(!e.controller)throw new Error("setup failed: Not declared controller.");return Os(this).controller=e.controller,this}},{key:"notifyEventCallback",value:function(e,t){var n;null===(n=this.controller)||void 0===n||n.notifyEventCallback(e,t)}},{key:"dispatchVastEvent",value:function(e){var t;null===(t=du.adStore.vast)||void 0===t||t.dispatchVastEvent(e)}},{key:"dispatchVastProgress",value:function(e,t){var n;null===(n=du.adStore.vast)||void 0===n||n.onTimeupdate(e,t)}},{key:"dispatchVastError",value:function(e){var t;null===(t=du.adStore.vast)||void 0===t||t.dispatchVastError(e)}},{key:"didVastRequest",value:function(){this.log.debug("didVastRequest()."),this.notifyEventCallback(Rs.didVastRequest)}},{key:"didAdCreate",value:function(){this.log.debug("didAdCreate().")}},{key:"didAdLoad",value:function(){this.log.debug("didAdLoad()."),this.dispatchVastEvent("creativeView"),this.notifyEventCallback(Rs.didAdLoad)}},{key:"didAdStart",value:function(){this.log.debug("didAdStart()."),this.notifyEventCallback(Rs.didAdStart)}},{key:"didAdStop",value:function(){this.log.debug("didAdStop()."),this.notifyEventCallback(Rs.didAdStop)}},{key:"didAdPlay",value:function(){this.log.debug("didAdPlay()."),this.notifyEventCallback(Rs.didAdPlay)}},{key:"didAdPause",value:function(){this.log.debug("didAdPause()."),this.notifyEventCallback(Rs.didAdPause)}},{key:"didAdUnload",value:function(){this.log.debug("didAdUnload()."),this.notifyEventCallback(Rs.didAdUnload),this.controller.finishAd()}},{key:"didAdClose",value:function(){this.log.debug("didAdClose()."),this.notifyEventCallback(Rs.didAdClose)}},{key:"didAdImpression",value:function(){this.log.debug("didAdImpression()."),this.dispatchVastEvent("impressions"),this.notifyEventCallback(Rs.didAdImpression)}},{key:"didAdViewable",value:function(e){this.log.debug("didAdViewable()."),this.notifyEventCallback(Rs.didAdViewable)}},{key:"didClick",value:function(){this.log.debug("didClick()."),this.notifyEventCallback(Rs.didAdClick)}},{key:"didAdOptout",value:function(){this.log.debug("didAdOptout()."),this.notifyEventCallback(Rs.didAdOptout)}},{key:"didSizeChange",value:function(){this.log.debug("didSizeChange()."),this.notifyEventCallback(Rs.didAdSizeChange)}},{key:"didAdEnterFullscreen",value:function(){this.log.debug("didAdEnterFullscreen()."),this.notifyEventCallback(Rs.didAdEnterFullscreen)}},{key:"didAdExitFullscreen",value:function(){this.log.debug("didAdExitFullscreen(); Store.adStore.isEnded: ".concat(du.adStore.isEnded,";")),this.dispatchVastEvent("exitFullscreen"),this.notifyEventCallback(Rs.didAdExitFullscreen)}},{key:"didAdMute",value:function(){this.log.debug("didAdMute()."),this.notifyEventCallback(Rs.didAdMute)}},{key:"didAdUnmute",value:function(){this.log.debug("didAdUnmute()."),this.notifyEventCallback(Rs.didAdUnmute)}},{key:"didAdVolumeChange",value:function(){this.log.debug("didAdVolumeChange()."),this.notifyEventCallback(Rs.didAdVolumeChange)}},{key:"didAdReplay",value:function(){this.log.debug("didAdReplay()."),this.notifyEventCallback(Rs.didAdReplay)}},{key:"didVideoProgress",value:function(e){var t=null==e?void 0:e.time,n=null==e?void 0:e.duration;0<=t&&0<n&&(this.dispatchVastProgress(t,n),this.notifyEventCallback(Rs.didVideoProgress,{progress:t,duration:n}))}},{key:"didVideoStart",value:function(e){var t=null==e?void 0:e.time,n=null==e?void 0:e.duration;0<=t&&0<n&&(this.log.debug("didVideoStart(time: ".concat(t,", duration: ").concat(n,".")),this.dispatchVastProgress(t,n),this.notifyEventCallback(Rs.didVideoStart))}},{key:"didVideoFirstQuartile",value:function(e){var t=null==e?void 0:e.time,n=null==e?void 0:e.duration;0<=t&&0<n&&(this.log.debug("didVideoFirstQuartile(time: ".concat(t,", duration: ").concat(n,".")),this.dispatchVastProgress(t,n),this.notifyEventCallback(Rs.didVideoFirstQuartile))}},{key:"didVideoMidpoint",value:function(e){var t=null==e?void 0:e.time,n=null==e?void 0:e.duration;0<=t&&0<n&&(this.log.debug("didVideoMidpoint(time: ".concat(t,", duration: ").concat(n,".")),this.dispatchVastProgress(t,n),this.notifyEventCallback(Rs.didVideoMidpoint))}},{key:"didVideoThirdQuartile",value:function(e){var t=null==e?void 0:e.time,n=null==e?void 0:e.duration;0<=t&&0<n&&(this.log.debug("didVideoThirdQuartile(time: ".concat(t,", duration: ").concat(n,".")),this.dispatchVastProgress(t,n),this.notifyEventCallback(Rs.didVideoThirdQuartile))}},{key:"didVideoComplete",value:function(e){var t=null==e?void 0:e.time,n=null==e?void 0:e.duration;0<=t&&0<n&&(this.log.debug("didVideoComplete(time: ".concat(t,", duration: ").concat(n,".")),this.dispatchVastProgress(t,n),this.notifyEventCallback(Rs.didVideoComplete))}},{key:"didUserVideoClick",value:function(e){var t=null==e?void 0:e.url,n=null==e?void 0:e.id;this.log.debug("didUserVideoClick(id: ".concat(n,", url: ").concat(t,");")),this.dispatchVastEvent("videoClicksTracking"),this.notifyEventCallback(Rs.AdUserInteraction,{interactionType:Bs.click})}},{key:"didUserMute",value:function(){this.log.debug("didUserMute()."),this.dispatchVastEvent("mute"),this.notifyEventCallback(Rs.AdUserInteraction,{interactionType:Bs.mute})}},{key:"didUserUnmute",value:function(){this.log.debug("didUserUnMute()."),this.dispatchVastEvent("unmute"),this.notifyEventCallback(Rs.AdUserInteraction,{interactionType:Bs.unmute})}},{key:"didUserVolumeChange",value:function(e){var t=null==e?void 0:e.volume;this.log.debug("didUserVolumeChange(volume: ".concat(t,").")),this.notifyEventCallback(Rs.AdUserInteraction,{interactionType:Bs.volumeChange})}},{key:"didUserPause",value:function(e){var t=null==e?void 0:e.pausedReason;this.log.debug("didUserPause(pausedReason: ".concat(t,").")),this.dispatchVastEvent("pause"),this.notifyEventCallback(Rs.AdUserInteraction,{interactionType:Bs.pause})}},{key:"didUserPlay",value:function(e){var t=null==e?void 0:e.pausedReason;this.log.debug("didUserPlay(pausedReason: ".concat(t,").")),this.dispatchVastEvent("resume"),this.notifyEventCallback(Rs.AdUserInteraction,{interactionType:Bs.resume})}},{key:"didUserReplay",value:function(e){this.log.debug("didUserReplay();"),this.dispatchVastEvent("rewind"),this.notifyEventCallback(Rs.AdUserInteraction,{interactionType:Bs.rewind})}},{key:"didUserEnterFullscreen",value:function(){this.log.debug("didUserEnterFullscreen()."),this.dispatchVastEvent("fullscreen"),this.notifyEventCallback(Rs.AdUserInteraction,{interactionType:Bs.fullscreen})}},{key:"didUserClose",value:function(e){var t=null==e?void 0:e.adContainerId;this.log.debug("didUserClose(adContainerId: ".concat(t,");")),du.primaryAdContainer.id===t&&(this.dispatchVastEvent("close"),this.dispatchVastEvent("closeLinear"),this.notifyEventCallback(Rs.AdUserInteraction,{interactionType:Bs.close}))}},{key:"didUserOptout",value:function(){this.log.debug("didUserOptout()."),this.notifyEventCallback(Rs.AdUserInteraction,{interactionType:Bs.optout})}},{key:"didUserAcceptInvitation",value:function(){this.log.debug("didUserAcceptInvitation()."),this.dispatchVastEvent("acceptInvitation"),this.notifyEventCallback(Rs.AdUserInteraction,{interactionType:Bs.acceptInvitation})}},{key:"didUserCollapse",value:function(e){this.log.debug("didUserCollapse()."),this.dispatchVastEvent("collapse"),this.notifyEventCallback(Rs.AdUserInteraction,{interactionType:Bs.collapse})}},{key:"didUserExpand",value:function(e){this.log.debug("didUserExpand()."),this.dispatchVastEvent("expand"),this.notifyEventCallback(Rs.AdUserInteraction,{interactionType:Bs.expand})}},{key:"didAdError",value:function(e){var t=null==e?void 0:e.message,n=null==e?void 0:e.errorCode;this.log.debug("didAdError(message: ".concat(t,", errorCode: ").concat(n,");")),this.dispatchVastError(n),this.notifyEventCallback(Rs.AdError,{message:t})}}]),t}();function _s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Is(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fs=m.a.namespace(),Ts=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Is(this,"vast",null),Is(this,"isAdAutoInit",!0),this.log=new p(this.constructor.name);var n=Fs(this);n.targetNode=null,n.eventCallback=null,n.adViewController=null,n.isTransitioning=!1,n.underBlankLine=null,n.vastLoader=null,n.controllerApi=new ws({controller:this}),n.onResizeFunc=function(e){var n;n=e,t.log.debug("_onResize(event: ".concat(n,");")),gs.adAction.updateLayout()},n.onFocusFunc=function(e){var n;n=e,t.log.debug("_onFocus(event: ".concat(n,");")),gs.adAction.play(u.IvtPlayerPausedReason.focus)},n.onBlurFunc=function(e){var n;n=e,t.log.debug("_onBlur(event: ".concat(n,");")),gs.adAction.pause(u.IvtPlayerPausedReason.focus)},n.isResizeAdViewController=!0}var t,n;return t=e,(n=[{key:"setup",value:function(e){var t=du.option,n=du.option.targetElement;p.isDebug=t.debug;var r,i,o=Fs(this);o.targetNode=n,o.adsense=n.querySelector("adsense"),o.passback=n.querySelector("noscript"),o.eventCallback=t.eventCallback,o.underBlankLine=t.underBlankLine?document.createElement("br"):null,r=Fs(this),window.addEventListener("resize",r.onResizeFunc,!1),window.addEventListener("orientationchange",r.onResizeFunc,!1),window.addEventListener("focus",r.onFocusFunc,!1),window.addEventListener("blur",r.onBlurFunc,!1),"mediaSession"in navigator&&(i=this,navigator.mediaSession.setActionHandler("play",function(){i.log.debug("mediaSession.play();"),gs.userAction.play()}),navigator.mediaSession.setActionHandler("pause",function(){i.log.debug("mediaSession.pause();"),gs.userAction.pause()}));var a={controller:this};return this.eventManager=(new Ps).setup(a),this}},{key:"clear",value:function(){var e,t,n=this,r=Fs(this);(e=Fs(this)).adViewController&&e.adViewController.clear(),e.adViewController=null,e.vastLoader&&e.vastLoader.clear(),t=Fs(this),window.removeEventListener("resize",t.onResizeFunc,!1),window.removeEventListener("orientationchange",t.onResizeFunc,!1),window.removeEventListener("focus",t.onFocusFunc,!1),window.removeEventListener("blur",t.onBlurFunc,!1),n.vast=null,delete n.vast,n.isAdAutoInit=null,delete n.isAdAutoInit,r.targetNode=null,delete r.targetNode,r.eventCallback=null,delete r.eventCallback,r.adViewController=null,delete r.adViewController,r.passbackViewController=null,delete r.passbackViewController,r.adsense=null,delete r.adsense,r.passback=null,delete r.passback,r.closeButton=null,delete r.closeButton,r.isTransitioning=null,delete r.isTransitioning,r.underBlankLine=null,delete r.underBlankLine,r.vastLoader=null,delete r.vastLoader,r.controllerApi&&r.controllerApi.clear(),r.controllerApi=null,delete r.controllerApi,r.onResizeFunc=null,delete r.onResizeFunc,r.isResizeAdViewController=null,delete r.isResizeAdViewController}},{key:"finishAd",value:function(){this.clear()}},{key:"resizeAd",value:function(e,t){Fs(this).adViewController.resize(e,t)}},{key:"notifyEventCallback",value:function(e,t){var n=Fs(this);if(m.a.isFunction(n.eventCallback)&&(e!==u.IvtAdEvent.AdSizeChange||!n.isTransitioning)){var r=o.createEvent(e,{detail:t});n.eventCallback(n.controllerApi,r)}}}])&&_s(t.prototype,n),e}();function js(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Us,zs,Ls,Ds=new p("Ivt"),Ms=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"init",value:function(e){try{Ds.debug("init(); begin."),function(){Ds.debug("_initControllerWithCurrentTag(); begin.");var e=window.DACIVT||null;if(!e)return Ds.debug("_initControllerWithCurrentTag(); placements is not exist."),!1;var t=null;return e.some(function(e){return!e.processed&&(t=e,!0)}),t?(t.processed=!0,Ns(document.getElementById(t.id),t),Ds.debug("_initControllerWithCurrentTag(); begin."),!0):(Ds.warn("_initControllerWithCurrentTag(); targetPlacement is not exist."),!1)}()||function(e){Ds.debug("_initControllerWithOldTag(); begin.");var t=document.currentScript;if(!t){var n=document.getElementsByTagName("script");t=n.item(n.length-1)}if(m.a.isNotExist(t))return Ds.error("_initControllerWithOldTag(); script is not exist.");var r,i=t.previousElementSibling;if(m.a.isExist(e)&&(i=null===(r=i)||void 0===r?void 0:r.previousElementSibling),m.a.isNotExist(i))return Ds.error("_initControllerWithOldTag(); target is not exist.");var o=m.a.exist(window.dacParams,i.dataset);o&&(o.urls||o.url||o.n)?(o.exec=o.exec||"false",m.a.toBool(o.exec)?Ds.debug("_initControllerWithOldTag(); already done."):(o.exec="true",Ns(i,o),Ds.debug("_initControllerWithOldTag(); end."))):Ds.error("_initControllerWithOldTag(); dataset is not exist.")}(e),Ds.debug("init(); end.")}catch(e){Ds.error("init(); failed. error = ".concat(e))}}}],null&&js(t.prototype,null),n&&js(t,n),e}();function Ns(e,t){Ds.debug("_initAdController(); begin.");var n={target:e,dataset:t};du.init(n),du.validate(n),gs.init(),(new Ts).setup(n),gs.adAction.request(),Ds.debug("_initAdController(); end.")}Ls="dac-ivt-version_2.20190925.0",(zs="version")in(Us=Ms)?Object.defineProperty(Us,zs,{value:Ls,enumerable:!0,configurable:!0,writable:!0}):Us[zs]=Ls,(window.DacIvtController=Ms).init()}]);