!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=158)}([function(e,t,n){"use strict";(function(e){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}n(139),n(41),n(72),n(101),n(141),n(75),n(20),n(76),n(42),n(1),n(2),n(11),n(13),n(24),n(144);var s=function(){function e(){o(this,e)}return u(e,null,[{key:"namespace",value:function(){var e=new WeakMap;return function(t){return e.has(t)||e.set(t,{}),e.get(t)}}},{key:"toSource",value:function(e){if(this.isArray(e)){var t="[",n=!0,r=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var s=a.value,l=this.toSource(s);t+="".concat(l,", ")}}catch(e){r=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}return t+"]"}if(this.isObject(e)){for(var c="{",d=Object.entries(e),f=0;f<d.length;f++){var p=i(d[f],2),h=p[0],v=p[1],y=this.toSource(v);c+="".concat(h,": ").concat(y,", ")}return c+"}"}return"".concat(e)}},{key:"addFlag",value:function(e,t){return e|t}},{key:"removeFlag",value:function(e,t){return e&~t}},{key:"isFlag",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=function(e,t){return Boolean((e&t)===t)},i=function(e,t){return!Boolean(e&t)};return t&&n?r(e,t)&&i(e,n):t?r(e,t):!!n&&i(e,n)}},{key:"randomNum",value:function(){return Math.floor(1e12*Math.random())}},{key:"getReferrer",value:function(){var e=window.frameElement,t=e?e.getAttribute("data-is-safeframe"):"";return window.$sf||t?document.referrer:window.location.href}},{key:"getWidth",value:function(){return this.currentScript().parentNode.offsetWidth||document.body.clientWidth||window.innerWidth}},{key:"getHeight",value:function(){var e=this.getWidth();return parseInt(e/16*9,10)}},{key:"currentScript",value:function(){var e=document.currentScript;if(!e){var t=document.getElementsByTagName("script");e=t.item(t.length-1)}return e}},{key:"deepClone",value:function(e){return l.deepMerge({},e)}},{key:"deepCloneArray",value:function(e){return l.deepCloneArray(e)}},{key:"deepMerge",value:function(){return l.deepMerge.apply(l,arguments)}},{key:"isFinite",value:function(e){return Number.isFinite(e)}},{key:"isObjectEmpty",value:function(e){if(e.constructor!==Object)return!1;for(var t in e)return!1;return!0}},{key:"isEmpty",value:function(e){return null==e||0===e.length||this.isObjectEmpty(e)}},{key:"isNotEmpty",value:function(e){return!this.isEmpty(e)}},{key:"isExist",value:function(e){return!this.isUndefined(e)&&!this.isNull(e)}},{key:"isNotExist",value:function(e){return this.isUndefined(e)||this.isNull(e)}},{key:"isUndefined",value:function(e){return void 0===e}},{key:"isNull",value:function(e){return null===e}},{key:"exist",value:function(e,t){for(var n=1<arguments.length?arguments[arguments.length-1]:void 0,r=0;r<arguments.length-1;r++){var i=arguments[r];if(this.isExist(i)){n=i;break}}return n}},{key:"notEmpty",value:function(e,t){for(var n=1<arguments.length?arguments[arguments.length-1]:void 0,r=0;r<arguments.length-1;r++){var i=arguments[r];if(this.isNotEmpty(i)){n=i;break}}return n}},{key:"isBoolean",value:function(e){var t=Boolean.prototype.toString,n=Object.prototype.toString,i="function"==typeof Symbol&&"symbol"===r(Symbol.toStringTag);return"boolean"==typeof e||null!==e&&"object"===r(e)&&(i?function(e){try{return t.call(e),!0}catch(e){return!1}}(e):"[object Boolean]"===n.call(e))}},{key:"stringToBool",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this.isEmpty(e))return t;switch(String(e).toLowerCase().trim()){case"":case"null":case"undefined":return t;case"false":case"no":case"0":return!1;default:return!0}}},{key:"toBool",value:function(e){return this.isBoolean(e)?e:this.isString(e)?this.stringToBool(e):Boolean(e)}},{key:"toBoolIfExist",value:function(e,t){for(var n=1<arguments.length?arguments[arguments.length-1]:null,r=0;r<arguments.length-1;r++){var i=arguments[r];if(this.isExist(i)){n=this.toBool(i);break}}return n}},{key:"toDecimalString",value:function(e,t,n){var r=parseInt(e,10);if(isNaN(r))return null;var i=String(r);return this.isString(t)&&0<=e.indexOf(t)&&(i=t+i),this.isString(n)&&0<=e.indexOf(n)&&(i+=n),i}},{key:"toDecimal",value:function(e,t){var n=parseInt(e,10);return Number.isFinite(n)?n:t}},{key:"toNumber",value:function(e,t){var n=parseFloat(e);return Number.isFinite(n)?n:t}},{key:"cssTimeStringToMillisecondsNumber",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=null==e?void 0:e.trim(),r=parseFloat(n);return 0<=r?(null==n?void 0:n.endsWith("ms"))?r:(null==n?void 0:n.endsWith("s"))?1e3*r:t:t}},{key:"stringToSize",value:function(e,t){if(!this.isString(e)&&this.isEmpty(t))return null;var n=t||{width:NaN,height:NaN},r={width:"",height:""},i="",o="";return this.isString(e)&&(i=(r=e.split(/[x,:]/))[0]&&r[0].trim(),o=r[1]&&r[1].trim()),i=this.notEmpty(i,n.width,NaN),o=this.notEmpty(o,n.height,NaN),{width:i=/auto/.test(i)?"auto":this.notEmpty(this.toDecimalString("".concat(i),null,"%"),NaN),height:o=/auto/.test(o)?"auto":this.notEmpty(this.toDecimalString("".concat(o),null,"%"),NaN)}}},{key:"isElement",value:function(e){return e instanceof Element}},{key:"isArray",value:function(e){return Array.isArray(e)}},{key:"isNull",value:function(e){return null===e}},{key:"isNullOrUndefined",value:function(e){return null==e}},{key:"isNumber",value:function(e){return"number"==typeof e}},{key:"isString",value:function(e){return"string"==typeof e}},{key:"isSymbol",value:function(e){return"symbol"===r(e)}},{key:"isUndefined",value:function(e){return void 0===e}},{key:"isRegExp",value:function(e){return this.isObject(e)&&"[object RegExp]"===this.objectToString(e)}},{key:"isObject",value:function(e){return"object"===r(e)&&null!==e}},{key:"isDate",value:function(e){return this.isObject(e)&&"[object Date]"===this.objectToString(e)}},{key:"isError",value:function(e){return this.isObject(e)&&("[object Error]"===this.objectToString(e)||e instanceof Error)}},{key:"isFunction",value:function(e){return"function"==typeof e}},{key:"isPrimitive",value:function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===r(e)||void 0===e}},{key:"objectToString",value:function(e){return Object.prototype.toString.call(e)}},{key:"String",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){return e.isExist(t)?String(t):""})},{key:"safeFrame",get:function(){return"undefined"==typeof $sf?void 0:$sf}},{key:"viewportWidth",get:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0}}]),e}(),l=function(){function t(){o(this,t)}return u(t,null,[{key:"isSpecificValue",value:function(t){return Boolean((null==t?void 0:t.isClass)||t instanceof e)}},{key:"cloneSpecificValue",value:function(t){if(t instanceof e){var n=e.alloc?e.alloc(t.length):new e(t.length);return t.copy(n),n}return t instanceof Date?new Date(t.getTime()):t instanceof RegExp?new RegExp(t):t}},{key:"deepCloneArray",value:function(e){for(var t=[],n=Object.entries(e),o=0;o<n.length;o++){var a=i(n[o],2),u=a[0],s=a[1];"object"===r(s)&&null!==s?Array.isArray(s)?t[u]=this.deepCloneArray(s):this.isSpecificValue(s)?t[u]=this.cloneSpecificValue(s):t[u]=this.deepMerge({},s):t[u]=s}return t}},{key:"safeGetProperty",value:function(e,t){return"__proto__"===t?void 0:e[t]}},{key:"deepMerge",value:function(){if(arguments.length<1||"object"!==r(arguments[0]))return!1;if(arguments.length<2)return arguments[0];var e=arguments[0],t=Array.prototype.slice.call(arguments,1),n=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var s=a.value;if("object"===r(s)&&null!==s&&!Array.isArray(s))for(var l=Object.keys(s),c=0;c<l.length;c++){var d=l[c],f=this.safeGetProperty(e,d),p=this.safeGetProperty(s,d);p!==e&&("object"===r(p)&&null!==p?Array.isArray(p)?e[d]=this.deepCloneArray(p):this.isSpecificValue(p)?e[d]=this.cloneSpecificValue(p):"object"!==r(f)||null===f||Array.isArray(f)?e[d]=this.deepMerge({},p):e[d]=this.deepMerge(f,p):e[d]=p)}}}catch(e){i=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return e}},{key:"deepCopy",value:function(e){var t;if(Array.isArray(e)){t=0<e.length?e.slice(0):[];for(var n=Object.entries(t),o=0;o<n.length;o++){var a=i(n[o],2),u=a[0],s=a[1];("object"===r(s)&&s!=={}||Array.isArray(s)&&0<s.length)&&(t[u]=this.deepCopy(s))}}else if("object"===r(e)){t=Object.assign({},e);for(var l=Object.keys(t),c=0;c<l.length;c++){var d=l[c];("object"===r(t[d])&&t[d]!=={}||Array.isArray(t[d])&&0<t[d].length)&&(t[d]=this.deepCopy(t[d]))}}else t=e;return t}}]),t}();t.a=s}).call(this,n(134).Buffer)},function(e,t,n){n(92)("asyncIterator")},function(e,t,n){"use strict";var r=n(6),i=n(18),o=n(15),a=n(5),u=n(17),s=n(34).KEY,l=n(12),c=n(44),d=n(38),f=n(36),p=n(8),h=n(93),v=n(92),y=n(127),m=n(94),g=n(10),b=n(9),w=n(23),A=n(45),k=n(46),S=n(39),E=n(128),C=n(53),x=n(16),V=n(31),O=C.f,_=x.f,B=E.f,R=r.Symbol,P=r.JSON,I=P&&P.stringify,F="prototype",T=p("_hidden"),j=p("toPrimitive"),U={}.propertyIsEnumerable,z=c("symbol-registry"),L=c("symbols"),D=c("op-symbols"),M=Object[F],N="function"==typeof R,W=r.QObject,H=!W||!W[F]||!W[F].findChild,Q=o&&l(function(){return 7!=S(_({},"a",{get:function(){return _(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=O(M,t);r&&delete M[t],_(e,t,n),r&&e!==M&&_(M,t,r)}:_,q=function(e){var t=L[e]=S(R[F]);return t._k=e,t},Y=N&&"symbol"==typeof R.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof R},K=function(e,t,n){return e===M&&K(D,t,n),g(e),t=A(t,!0),g(n),i(L,t)?(n.enumerable?(i(e,T)&&e[T][t]&&(e[T][t]=!1),n=S(n,{enumerable:k(0,!1)})):(i(e,T)||_(e,T,k(1,{})),e[T][t]=!0),Q(e,t,n)):_(e,t,n)},G=function(e,t){g(e);for(var n,r=y(t=w(t)),i=0,o=r.length;i<o;)K(e,n=r[i++],t[n]);return e},Z=function(e){var t=U.call(this,e=A(e,!0));return!(this===M&&i(L,e)&&!i(D,e))&&(!(t||!i(this,e)||!i(L,e)||i(this,T)&&this[T][e])||t)},X=function(e,t){if(e=w(e),t=A(t,!0),e!==M||!i(L,t)||i(D,t)){var n=O(e,t);return!n||!i(L,t)||i(e,T)&&e[T][t]||(n.enumerable=!0),n}},J=function(e){for(var t,n=B(w(e)),r=[],o=0;n.length>o;)i(L,t=n[o++])||t==T||t==s||r.push(t);return r},$=function(e){for(var t,n=e===M,r=B(n?D:w(e)),o=[],a=0;r.length>a;)!i(L,t=r[a++])||n&&!i(M,t)||o.push(L[t]);return o};N||(u((R=function(){if(this instanceof R)throw TypeError("Symbol is not a constructor!");var e=f(0<arguments.length?arguments[0]:void 0),t=function(n){this===M&&t.call(D,n),i(this,T)&&i(this[T],e)&&(this[T][e]=!1),Q(this,e,k(1,n))};return o&&H&&Q(M,e,{configurable:!0,set:t}),q(e)})[F],"toString",function(){return this._k}),C.f=X,x.f=K,n(52).f=E.f=J,n(40).f=Z,n(67).f=$,o&&!n(35)&&u(M,"propertyIsEnumerable",Z,!0),h.f=function(e){return q(p(e))}),a(a.G+a.W+a.F*!N,{Symbol:R});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)p(ee[te++]);for(var ne=V(p.store),re=0;ne.length>re;)v(ne[re++]);a(a.S+a.F*!N,"Symbol",{for:function(e){return i(z,e+="")?z[e]:z[e]=R(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in z)if(z[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!N,"Object",{create:function(e,t){return void 0===t?S(e):G(S(e),t)},defineProperty:K,defineProperties:G,getOwnPropertyDescriptor:X,getOwnPropertyNames:J,getOwnPropertySymbols:$}),P&&a(a.S+a.F*(!N||l(function(){var e=R();return"[null]"!=I([e])||"{}"!=I({a:e})||"{}"!=I(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!Y(e))return m(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Y(t))return t}),r[1]=t,I.apply(P,r)}}),R[F][j]||n(22)(R[F],j,R[F].valueOf),d(R,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var r=n(5);r(r.S,"Object",{setPrototypeOf:n(97).set})},function(e,t,n){var r=n(53),i=n(90),o=n(18),a=n(5),u=n(9),s=n(10);a(a.S,"Reflect",{get:function e(t,n){var a,l,c=arguments.length<3?t:arguments[2];return s(t)===c?t[n]:(a=r.f(t,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(c):void 0:u(l=i(t))?e(l,n,c):void 0}})},function(e,t,n){var r=n(6),i=n(21),o=n(22),a=n(17),u=n(28),s="prototype",l=function(e,t,n){var c,d,f,p,h=e&l.F,v=e&l.G,y=e&l.S,m=e&l.P,g=e&l.B,b=v?r:y?r[t]||(r[t]={}):(r[t]||{})[s],w=v?i:i[t]||(i[t]={}),A=w[s]||(w[s]={});for(c in v&&(n=t),n)f=((d=!h&&b&&void 0!==b[c])?b:n)[c],p=g&&d?u(f,r):m&&"function"==typeof f?u(Function.call,f):f,b&&a(b,c,f,e&l.U),w[c]!=f&&o(w,c,p),m&&A[c]!=f&&(A[c]=f)};r.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){"use strict";var r,i,o,a,u=n(35),s=n(6),l=n(28),c=n(59),d=n(5),f=n(9),p=n(29),h=n(47),v=n(48),y=n(61),m=n(81).set,g=n(121)(),b=n(84),w=n(122),A=n(123),k=n(85),S="Promise",E=s.TypeError,C=s.process,x=C&&C.versions,V=x&&x.v8||"",O=s[S],_="process"==c(C),B=function(){},R=i=b.f,P=!!function(){try{var e=O.resolve(1),t=(e.constructor={})[n(8)("species")]=function(e){e(B,B)};return(_||"function"==typeof PromiseRejectionEvent)&&e.then(B)instanceof t&&0!==V.indexOf("6.6")&&-1===A.indexOf("Chrome/66")}catch(e){}}(),I=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},F=function(e,t){if(!e._n){e._n=!0;var n=e._c;g(function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a,u=i?t.ok:t.fail,s=t.resolve,l=t.reject,c=t.domain;try{u?(i||(2==e._h&&U(e),e._h=1),!0===u?n=r:(c&&c.enter(),n=u(r),c&&(c.exit(),a=!0)),n===t.promise?l(E("Promise-chain cycle")):(o=I(n))?o.call(n,s,l):s(n)):l(r)}catch(t){c&&!a&&c.exit(),l(t)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&T(e)})}},T=function(e){m.call(s,function(){var t,n,r,i=e._v,o=j(e);if(o&&(t=w(function(){_?C.emit("unhandledRejection",i,e):(n=s.onunhandledrejection)?n({promise:e,reason:i}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=_||j(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},j=function(e){return 1!==e._h&&0===(e._a||e._c).length},U=function(e){m.call(s,function(){var t;_?C.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},z=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),F(t,!0))},L=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw E("Promise can't be resolved itself");(t=I(e))?g(function(){var r={_w:n,_d:!1};try{t.call(e,l(L,r,1),l(z,r,1))}catch(e){z.call(r,e)}}):(n._v=e,n._s=1,F(n,!1))}catch(e){z.call({_w:n,_d:!1},e)}}};P||(O=function(e){h(this,O,S,"_h"),p(e),r.call(this);try{e(l(L,this,1),l(z,this,1))}catch(e){z.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(50)(O.prototype,{then:function(e,t){var n=R(y(this,O));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=_?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&F(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=l(L,e,1),this.reject=l(z,e,1)},b.f=R=function(e){return e===O||e===a?new o(e):i(e)}),d(d.G+d.W+d.F*!P,{Promise:O}),n(38)(O,S),n(62)(S),a=n(21)[S],d(d.S+d.F*!P,S,{reject:function(e){var t=R(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(u||!P),S,{resolve:function(e){return k(u&&this===a?O:this,e)}}),d(d.S+d.F*!(P&&n(86)(function(e){O.all(e).catch(B)})),S,{all:function(e){var t=this,n=R(t),r=n.resolve,i=n.reject,o=w(function(){var n=[],o=0,a=1;v(e,!1,function(e){var u=o++,s=!1;n.push(void 0),a++,t.resolve(e).then(function(e){s||(s=!0,n[u]=e,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=R(t),r=n.reject,i=w(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t,n){var r=n(44)("wks"),i=n(36),o=n(6).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(9);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){for(var r=n(13),i=n(31),o=n(17),a=n(6),u=n(22),s=n(37),l=n(8),c=l("iterator"),d=l("toStringTag"),f=s.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(p),v=0;v<h.length;v++){var y,m=h[v],g=p[m],b=a[m],w=b&&b.prototype;if(w&&(w[c]||u(w,c,f),w[d]||u(w,d,m),s[m]=f,g))for(y in r)w[y]||o(w,y,r[y],!0)}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";var r=n(51),i=n(87),o=n(37),a=n(23);e.exports=n(64)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){!function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag",l="object"==typeof e,c=t.regeneratorRuntime;if(c)l&&(e.exports=c);else{(c=t.regeneratorRuntime=l?e.exports:{}).wrap=w;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",v={},y={};y[a]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(R([])));g&&g!==r&&i.call(g,a)&&(y=g);var b=E.prototype=k.prototype=Object.create(y);S.prototype=b.constructor=E,E.constructor=S,E[s]=S.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(b),e},c.awrap=function(e){return{__await:e}},C(x.prototype),x.prototype[u]=function(){return this},c.AsyncIterator=x,c.async=function(e,t,n,r){var i=new x(w(e,t,n,r));return c.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},C(b),b[s]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=R,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return u.type="throw",u.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var o=this.tryEntries.length-1;0<=o;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:R(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function w(e,t,n,r){var i,o,a,u,s=t&&t.prototype instanceof k?t:k,l=Object.create(s.prototype),c=new B(r||[]);return l._invoke=(i=e,o=n,a=c,u=d,function(e,t){if(u===p)throw new Error("Generator is already running");if(u===h){if("throw"===e)throw t;return P()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){var r=V(n,a);if(r){if(r===v)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===d)throw u=h,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=p;var s=A(i,o,a);if("normal"===s.type){if(u=a.done?h:f,s.arg===v)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(u=h,a.method="throw",a.arg=s.arg)}}),l}function A(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function k(){}function S(){}function E(){}function C(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function x(e){var t;this._invoke=function(n,r){function o(){return new Promise(function(t,o){!function t(n,r,o,a){var u=A(e[n],e,r);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&i.call(l,"__await")?Promise.resolve(l.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(l).then(function(e){s.value=e,o(s)},a)}a(u.arg)}(n,r,t,o)})}return t=t?t.then(o,o):o()}}function V(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,V(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=A(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,v;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,v):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function R(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,n){e.exports=!n(12)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(10),i=n(80),o=n(45),a=Object.defineProperty;t.f=n(15)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(6),i=n(22),o=n(18),a=n(36)("src"),u=n(117),s="toString",l=(""+u).split(s);n(21).inspectSource=function(e){return u.call(e)},(e.exports=function(e,t,n,u){var s="function"==typeof n;s&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(s&&(o(n,a)||i(n,a,e[t]?""+e[t]:l.join(String(t)))),e===r?e[t]=n:u?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,s,function(){return"function"==typeof this&&this[a]||u.call(this)})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(49),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},function(e,t,n){"use strict";var r=n(6),i=n(18),o=n(30),a=n(68),u=n(45),s=n(12),l=n(52).f,c=n(53).f,d=n(16).f,f=n(98).trim,p="Number",h=r[p],v=h,y=h.prototype,m=o(n(39)(y))==p,g="trim"in String.prototype,b=function(e){var t=u(e,!1);if("string"==typeof t&&2<t.length){var n,r,i,o=(t=g?t.trim():f(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,s=t.slice(2),l=0,c=s.length;l<c;l++)if((a=s.charCodeAt(l))<48||i<a)return NaN;return parseInt(s,r)}}return+t};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof h&&(m?s(function(){y.valueOf.call(n)}):o(n)!=p)?a(new v(b(t)),n,h):b(t)};for(var w,A=n(15)?l(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;A.length>k;k++)i(v,w=A[k])&&!i(h,w)&&d(h,w,c(v,w));(h.prototype=y).constructor=h,n(17)(r,p,h)}},function(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(16),i=n(46);e.exports=n(15)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(63),i=n(32);e.exports=function(e){return r(i(e))}},function(e,t,n){"use strict";var r=n(91)(!0);n(64)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(16).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(15)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(5),i=n(89)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n(51)("includes")},function(e,t,n){"use strict";var r=n(5),i=n(69),o="includes";r(r.P+r.F*n(71)(o),"String",{includes:function(e){return!!~i(this,e,o).indexOf(e,1<arguments.length?arguments[1]:void 0)}})},function(e,t,n){var r=n(29);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(88),i=n(66);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(32);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(36)("meta"),i=n(9),o=n(18),a=n(16).f,u=0,s=Object.isExtensible||function(){return!0},l=!n(12)(function(){return s(Object.preventExtensions({}))}),c=function(e){a(e,r,{value:{i:"O"+ ++u,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!s(e))return"F";if(!t)return"E";c(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!s(e))return!0;if(!t)return!1;c(e)}return e[r].w},onFreeze:function(e){return l&&d.NEED&&s(e)&&!o(e,r)&&c(e),e}}},function(e,t){e.exports=!1},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports={}},function(e,t,n){var r=n(16).f,i=n(18),o=n(8)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(10),i=n(125),o=n(66),a=n(65)("IE_PROTO"),u=function(){},s="prototype",l=function(){var e,t=n(60)("iframe"),r=o.length;for(t.style.display="none",n(83).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l[s][o[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(u[s]=r(e),n=new u,u[s]=null,n[a]=e):n=l(),void 0===t?n:i(n,t)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(33),i=n(31);n(95)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){var r=n(5),i=n(143)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},function(e,t,n){var r=n(9);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){var r=n(21),i=n(6),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(35)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(9);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(28),i=n(118),o=n(119),a=n(10),u=n(19),s=n(120),l={},c={};(t=e.exports=function(e,t,n,d,f){var p,h,v,y,m=f?function(){return e}:s(e),g=r(n,d,t?2:1),b=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(o(m)){for(p=u(e.length);b<p;b++)if((y=t?g(a(h=e[b])[0],h[1]):g(e[b]))===l||y===c)return y}else for(v=m.call(e);!(h=v.next()).done;)if((y=i(v,g,h.value,t))===l||y===c)return y}).BREAK=l,t.RETURN=c},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},function(e,t,n){var r=n(17);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){var r=n(8)("unscopables"),i=Array.prototype;null==i[r]&&n(22)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t,n){var r=n(88),i=n(66).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(40),i=n(46),o=n(23),a=n(45),u=n(18),s=n(80),l=Object.getOwnPropertyDescriptor;t.f=n(15)?l:function(e,t){if(e=o(e),t=a(t,!0),s)try{return l(e,t)}catch(e){}if(u(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(28),i=n(63),o=n(33),a=n(19),u=n(129);e.exports=function(e,t){var n=1==e,s=2==e,l=3==e,c=4==e,d=6==e,f=5==e||d,p=t||u;return function(t,u,h){for(var v,y,m=o(t),g=i(m),b=r(u,h,3),w=a(g.length),A=0,k=n?p(t,w):s?p(t,0):void 0;A<w;A++)if((f||A in g)&&(y=b(v=g[A],A,m),e))if(n)k[A]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return A;case 2:k.push(v)}else if(c)return!1;return d?-1:l||c?c:k}}},function(e,t,n){"use strict";var r=n(10);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(59),i=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var o=n.call(e,t);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},function(e,t,n){"use strict";n(140);var r=n(17),i=n(22),o=n(12),a=n(32),u=n(8),s=n(74),l=u("species"),c=!o(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var f=u(e),p=!o(function(){var t={};return t[f]=function(){return 7},7!=""[e](t)}),h=p?!o(function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[l]=function(){return n}),n[f](""),!t}):void 0;if(!p||!h||"replace"===e&&!c||"split"===e&&!d){var v=/./[f],y=n(a,f,""[e],function(e,t,n,r,i){return t.exec===s?p&&!i?{done:!0,value:v.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),m=y[0],g=y[1];r(String.prototype,e,m),i(RegExp.prototype,f,2==t?function(e,t){return g.call(e,this,t)}:function(e){return g.call(e,this)})}}},function(e,t,n){"use strict";var r=n(10),i=n(33),o=n(19),a=n(49),u=n(73),s=n(56),l=Math.max,c=Math.min,d=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;n(57)("replace",2,function(e,t,n,h){return[function(r,i){var o=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(e,t){var i=h(n,e,this,t);if(i.done)return i.value;var d=r(e),f=String(this),p="function"==typeof t;p||(t=String(t));var y=d.global;if(y){var m=d.unicode;d.lastIndex=0}for(var g=[];;){var b=s(d,f);if(null===b)break;if(g.push(b),!y)break;""===String(b[0])&&(d.lastIndex=u(f,o(d.lastIndex),m))}for(var w,A="",k=0,S=0;S<g.length;S++){b=g[S];for(var E=String(b[0]),C=l(c(a(b.index),f.length),0),x=[],V=1;V<b.length;V++)x.push(void 0===(w=b[V])?w:String(w));var O=b.groups;if(p){var _=[E].concat(x,C,f);void 0!==O&&_.push(O);var B=String(t.apply(void 0,_))}else B=v(E,f,C,x,O,t);k<=C&&(A+=f.slice(k,C)+B,k=C+E.length)}return A+f.slice(k)}];function v(e,t,r,o,a,u){var s=r+e.length,l=o.length,c=p;return void 0!==a&&(a=i(a),c=f),n.call(u,c,function(n,i){var u;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(s);case"<":u=a[i.slice(1,-1)];break;default:var c=+i;if(0===c)return n;if(l<c){var f=d(c/10);return 0===f?n:f<=l?void 0===o[f-1]?i.charAt(1):o[f-1]+i.charAt(1):n}u=o[c-1]}return void 0===u?"":u})}})},function(e,t,n){var r=n(30),i=n(8)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(9),i=n(6).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(10),i=n(29),o=n(8)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},function(e,t,n){"use strict";var r=n(6),i=n(16),o=n(15),a=n(8)("species");e.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(30);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){"use strict";var r=n(35),i=n(5),o=n(17),a=n(22),u=n(37),s=n(124),l=n(38),c=n(90),d=n(8)("iterator"),f=!([].keys&&"next"in[].keys()),p="values",h=function(){return this};e.exports=function(e,t,n,v,y,m,g){s(n,t,v);var b,w,A,k=function(e){if(!f&&e in x)return x[e];switch(e){case"keys":case p:return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",E=y==p,C=!1,x=e.prototype,V=x[d]||x["@@iterator"]||y&&x[y],O=V||k(y),_=y?E?k("entries"):O:void 0,B="Array"==t&&x.entries||V;if(B&&(A=c(B.call(new e)))!==Object.prototype&&A.next&&(l(A,S,!0),r||"function"==typeof A[d]||a(A,d,h)),E&&V&&V.name!==p&&(C=!0,O=function(){return V.call(this)}),r&&!g||!f&&!C&&x[d]||a(x,d,O),u[t]=O,u[S]=h,y)if(b={values:E?O:k(p),keys:m?O:k("keys"),entries:_},g)for(w in b)w in x||o(x,w,b[w]);else i(i.P+i.F*(f||C),t,b);return b}},function(e,t,n){var r=n(44)("keys"),i=n(36);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(9),i=n(97).set;e.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},function(e,t,n){var r=n(70),i=n(32);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},function(e,t,n){var r=n(9),i=n(30),o=n(8)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(8)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){var r=n(6),i=n(68),o=n(16).f,a=n(52).f,u=n(70),s=n(55),l=r.RegExp,c=l,d=l.prototype,f=/a/g,p=/a/g,h=new l(f)!==f;if(n(15)&&(!h||n(12)(function(){return p[n(8)("match")]=!1,l(f)!=f||l(p)==p||"/a/i"!=l(f,"i")}))){l=function(e,t){var n=this instanceof l,r=u(e),o=void 0===t;return!n&&r&&e.constructor===l&&o?e:i(h?new c(r&&!o?e.source:e,t):c((r=e instanceof l)?e.source:e,r&&o?s.call(e):t),n?this:d,l)};for(var v=function(e){e in l||o(l,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})},y=a(c),m=0;y.length>m;)v(y[m++]);(d.constructor=l).prototype=d,n(17)(r,"RegExp",l)}n(62)("RegExp")},function(e,t,n){"use strict";var r=n(91)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){"use strict";var r,i,o=n(55),a=RegExp.prototype.exec,u=String.prototype.replace,s=a,l="lastIndex",c=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r[l]||0!==i[l]),d=void 0!==/()??/.exec("")[1];(c||d)&&(s=function(e){var t,n,r,i,s=this;return d&&(n=new RegExp("^"+s.source+"$(?!\\s)",o.call(s))),c&&(t=s[l]),r=a.call(s,e),c&&r&&(s[l]=s.global?r.index+r[0].length:t),d&&r&&1<r.length&&u.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r}),e.exports=s},function(e,t,n){"use strict";n(142);var r=n(10),i=n(55),o=n(15),a="toString",u=/./[a],s=function(e){n(17)(RegExp.prototype,a,e,!0)};n(12)(function(){return"/a/b"!=u.call({source:"a",flags:"b"})})?s(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)}):u.name!=a&&s(function(){return u.call(this)})},function(e,t,n){var r=n(5),i=n(6).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},function(e,t,n){var r=n(5),i=n(39),o=n(29),a=n(10),u=n(9),s=n(12),l=n(149),c=(n(6).Reflect||{}).construct,d=s(function(){function e(){}return!(c(function(){},[],e)instanceof e)}),f=!s(function(){c(function(){})});r(r.S+r.F*(d||f),"Reflect",{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(f&&!d)return c(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(l.apply(e,r))}var s=n.prototype,p=i(u(s)?s:Object.prototype),h=Function.apply.call(e,p,t);return u(h)?h:p}})},function(e,t,n){"use strict";var r=n(5),i=n(29),o=n(33),a=n(12),u=[].sort,s=[1,2,3];r(r.P+r.F*(a(function(){s.sort(void 0)})||!a(function(){s.sort(null)})||!n(152)(u)),"Array",{sort:function(e){return void 0===e?u.call(o(this)):u.call(o(this),i(e))}})},function(e,t,n){var r=n(146);function i(e,t,n,i){void 0===n?n=1e3:"function"==typeof n&&(i=n,n=1e3);var o=r.get(e.style,"transition")||"";r(e.style,"transition","opacity "+n/1e3+"s"),e.style.opacity=t,setTimeout(function(){r(e.style,"transition",o),i&&i()},n)}(e.exports=i).out=function(e,t,n){i(e,0,t,n)},i.in=function(e,t,n){i(e,1,t,n)}},function(e,t,n){e.exports=!n(15)&&!n(12)(function(){return 7!=Object.defineProperty(n(60)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r,i,o,a=n(28),u=n(82),s=n(83),l=n(60),c=n(6),d=c.process,f=c.setImmediate,p=c.clearImmediate,h=c.MessageChannel,v=c.Dispatch,y=0,m={},g="onreadystatechange",b=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},w=function(e){b.call(e.data)};f&&p||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++y]=function(){u("function"==typeof e?e:Function(e),t)},r(y),y},p=function(e){delete m[e]},"process"==n(30)(d)?r=function(e){d.nextTick(a(b,e,1))}:v&&v.now?r=function(e){v.now(a(b,e,1))}:h?(o=(i=new h).port2,i.port1.onmessage=w,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",w,!1)):r=g in l("script")?function(e){s.appendChild(l("script"))[g]=function(){s.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),e.exports={set:f,clear:p}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(6).document;e.exports=r&&r.documentElement},function(e,t,n){"use strict";var r=n(29);function i(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}},function(e,t,n){var r=n(10),i=n(9),o=n(84);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(8)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(18),i=n(23),o=n(89)(!1),a=n(65)("IE_PROTO");e.exports=function(e,t){var n,u=i(e),s=0,l=[];for(n in u)n!=a&&r(u,n)&&l.push(n);for(;t.length>s;)r(u,n=t[s++])&&(~o(l,n)||l.push(n));return l}},function(e,t,n){var r=n(23),i=n(19),o=n(126);e.exports=function(e){return function(t,n,a){var u,s=r(t),l=i(s.length),c=o(a,l);if(e&&n!=n){for(;c<l;)if((u=s[c++])!=u)return!0}else for(;c<l;c++)if((e||c in s)&&s[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(18),i=n(33),o=n(65)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(49),i=n(32);e.exports=function(e){return function(t,n){var o,a,u=String(i(t)),s=r(n),l=u.length;return s<0||l<=s?e?"":void 0:(o=u.charCodeAt(s))<55296||56319<o||s+1===l||(a=u.charCodeAt(s+1))<56320||57343<a?e?u.charAt(s):o:e?u.slice(s,s+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){var r=n(6),i=n(21),o=n(35),a=n(93),u=n(16).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||u(t,e,{value:a.f(e)})}},function(e,t,n){t.f=n(8)},function(e,t,n){var r=n(30);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(5),i=n(21),o=n(12);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){"use strict";var r=n(5),i=n(54)(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{find:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n(51)(o)},function(e,t,n){var r=n(9),i=n(10),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(28)(Function.call,n(53).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t,n){var r=n(5),i=n(32),o=n(12),a=n(99),u="["+a+"]",s=RegExp("^"+u+u+"*"),l=RegExp(u+u+"*$"),c=function(e,t,n){var i={},u=o(function(){return!!a[e]()||"​"!="​"[e]()}),s=i[e]=u?t(d):a[e];n&&(i[n]=s),r(r.P+r.F*u,"String",i)},d=c.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(s,"")),2&t&&(e=e.replace(l,"")),e};e.exports=c},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){"use strict";var r=n(31),i=n(67),o=n(40),a=n(33),u=n(63),s=Object.assign;e.exports=!s||n(12)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=s({},e)[n]||Object.keys(s({},t)).join("")!=r})?function(e,t){for(var n=a(e),s=arguments.length,l=1,c=i.f,d=o.f;l<s;)for(var f,p=u(arguments[l++]),h=c?r(p).concat(c(p)):r(p),v=h.length,y=0;y<v;)d.call(p,f=h[y++])&&(n[f]=p[f]);return n}:s},function(e,t,n){"use strict";var r=n(70),i=n(10),o=n(61),a=n(73),u=n(19),s=n(56),l=n(74),c=n(12),d=Math.min,f=[].push,p="split",h="length",v="lastIndex",y=4294967295,m=!c(function(){RegExp(y,"y")});n(57)("split",2,function(e,t,n,c){var g;return g="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[h]||2!="ab"[p](/(?:ab)*/)[h]||4!="."[p](/(.?)(.?)/)[h]||1<"."[p](/()()/)[h]||""[p](/.?/)[h]?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(i,e,t);for(var o,a,u,s=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,p=void 0===t?y:t>>>0,m=new RegExp(e.source,c+"g");(o=l.call(m,i))&&!(d<(a=m[v])&&(s.push(i.slice(d,o.index)),1<o[h]&&o.index<i[h]&&f.apply(s,o.slice(1)),u=o[0][h],d=a,s[h]>=p));)m[v]===o.index&&m[v]++;return d===i[h]?!u&&m.test("")||s.push(""):s.push(i.slice(d)),s[h]>p?s.slice(0,p):s}:"0"[p](void 0,0)[h]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var i=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):g.call(String(i),n,r)},function(e,t){var r=c(g,e,this,t,g!==n);if(r.done)return r.value;var l=i(e),f=String(this),p=o(l,RegExp),h=l.unicode,v=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(m?"y":"g"),b=new p(m?l:"^(?:"+l.source+")",v),w=void 0===t?y:t>>>0;if(0===w)return[];if(0===f.length)return null===s(b,f)?[f]:[];for(var A=0,k=0,S=[];k<f.length;){b.lastIndex=m?k:0;var E,C=s(b,m?f:f.slice(k));if(null===C||(E=d(u(b.lastIndex+(m?0:k)),f.length))===A)k=a(f,k,h);else{if(S.push(f.slice(A,k)),S.length===w)return S;for(var x=1;x<=C.length-1;x++)if(S.push(C[x]),S.length===w)return S;k=A=E}}return S.push(f.slice(A)),S}]})},function(e,t,n){"use strict";var r=n(6),i=n(5),o=n(17),a=n(50),u=n(34),s=n(48),l=n(47),c=n(9),d=n(12),f=n(86),p=n(38),h=n(68);e.exports=function(e,t,n,v,y,m){var g=r[e],b=g,w=y?"set":"add",A=b&&b.prototype,k={},S=function(e){var t=A[e];o(A,e,"delete"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(m||A.forEach&&!d(function(){(new b).entries().next()}))){var E=new b,C=E[w](m?{}:-0,1)!=E,x=d(function(){E.has(1)}),V=f(function(e){new b(e)}),O=!m&&d(function(){for(var e=new b,t=5;t--;)e[w](t,t);return!e.has(-0)});V||(((b=t(function(t,n){l(t,b,e);var r=h(new g,t,b);return null!=n&&s(n,y,r[w],r),r})).prototype=A).constructor=b),(x||O)&&(S("delete"),S("has"),y&&S("get")),(O||C)&&S(w),m&&A.clear&&delete A.clear}else b=v.getConstructor(t,e,y,w),a(b.prototype,n),u.NEED=!0;return p(b,e),k[e]=b,i(i.G+i.W+i.F*(b!=g),k),m||v.setStrong(b,e,y),b}},function(e,t,n){"use strict";var r=n(148),i=n(43);e.exports=n(102)("Map",function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t){e.exports="data:image/png;base64,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"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsSAAALEgHS3X78AAACgklEQVRIx82XP4viQBjGn5GDTbems7QUm20FLbYUbExjYWUV7wsIm+q8SsEvYJltLEzhgghbRohgudtIyi1TJVplrN4rbhLmsol/7nLnPRAYZsL8Mg/vzDxhRIRzYowVAVTEUwKgJF7hADwALgCXiPZn5zwFZoyVADQBlHGdPgC8EpF3FZgxpgB4BFDDn2kLwCYifhYsoD1haSzDMCqtVqtSrVbLqqrey2NBEBx2u93HarVyR6ORm2B4AMwk/BdwGlTX9fJ4PG4nYVkKguAwmUxeEx/wCR6D06CO47Tr9frD73i82WzeG43GSxa8IA085gUFgHq9/uA4TlvqKgkGYrCo3lpe0BPwmmDFK27KRZQHVIbrui5vxyYAFMThEA8MBoNm2gSWZa0558csAOf8aFnWOm1sPB7Lqy4zxooFcRrFq02rXsuy1p1Ox+52u2YanHN+7Ha7ZqfTsdPgqqreG4ZRkboqEJU8BDB0HOeNUhSGIdc0bQpgqGnaNAxDfsmYLMdx3iKOYOIp6vB9f08ZSgNcCiUi8n1/L4GfmGgAAIjo26lCiSxdLBaepmklAIjas9mspyjK3ZnL5nvU/nJNhSqKcjebzXoRHAAuhSZVwI10FThptaZppcVi4WVV+zndpLhutp0KIq4AAFarlZtmyXK53GZVb1Rwke3L5XKbNkdibhcAitKXZNo9n8/tU1aGYcjn87l9gc1DAEWI+zi2W9d1k3KWruumbDMR/QwC4qr6mve1mBEIpkTkFcSJ5YlgBgBoNBovm83m/S9At1HylPexLeJJLvCM6GN/OkBEFjKT8H6//xwEweFSYBAEh36//3wqb/0/8famgf6mvzD/4qftB3nlWC1q4NisAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsSAAALEgHS3X78AAACeElEQVRIx82Xv4viQBTHvyMLjp2llVpkwU7CNkqEC6m2vBRa2KyV+g8I291td7D/gFp5jUW28Eqr4MGG3SaInWAK18ryuh2ruWZGxuieP+6i94VANOF9eG/e+/JCOOfYJ0JIEkBOXCkANPQKA7AEMAUw5Zz/2hvzT2BCSArALYAsjtMcwJBzvjwKTAihAEwABfydXgGMOOdsL1hAa6Kk/0JLAL0wPBYxFCJWTcTeBkcE/RCuZmxGBFXh5gZYdG8B0asgWOuMb3E+3QLAlTCHjTktFovJx8dH8+bmJkcpjX8w4w8AwDn/sus5Y2zl+/601WqNXl5eVEPJEkKSMeFGa9m2nXJdt2kYRv4j6CGilMYNw8i7rtu0bTvcOzkiOjkrM3VdtymBQRC8jcfj+a7AlUplBACO45i7nuu6ntU0LSOztyyrrWQ+JwDupfc+Pz9/NgwjDwBPT08/ZfBT5TiOWS6XPwGA53mTUqn0Q54EAfBVvvj+/n5PKY0HQfB2fX3dU4PU6/WD/Lrb7W5UaDab1TRNyzDGVolE4pv8/0repNNpKku8q7ydTufuQPCD+ns8Hs81TcuE+yWGC2md8WKxYIyxFaU0ruv6Vlkbjcb3UwAyFmNsFQYz2Vy+708Nw8hrmpZxHMdUmyt8doc2l+xs3/en6phfdJwKqmXatp3q9/u1feaxz7lUB6tWq73BYKBuI8OY2JPWGgwGS8uy2p7nTcLncowYYyvP8yaWZbVDUACYEs45CCG1E/aqUzXnnPfkOA3POEnD9RyLbfD1DNBXuXmqBjISi1lUWgrGpnOJLbAXEXxr09ywzIjgO9fb/2ehv+gnzDk+2n4Dh+9B1nqA5OYAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsSAAALEgHS3X78AAADPUlEQVRIx8VXv0vjUBz/JHdgBEHj1CnXQXqli71JQQcHoYGqWKejk6DmHAIuBtq/wELWDHfRwak4WYcrpLh0qHDd6lJ6kqFmynAQCzfkpndLXniGpK0cXD8QSPLC5/O+3/f9FY4QgkngOG4JQDa4UgCEyCc+ABfAAMCAEPIykXOcMMdxKQAygDTehiEAixDivkmY4zgBwBaAdfwbfgBoE0L8icKB6GHg0hDVajVbLBazuVwuLYriIrvmed6o3+8Pm83m4OLiYhDRcAFcR8VfCceJKoqSrtVq+1GxJHieN6pUKnemaQ7HiYfCcaKWZcmFQmEtSuw4jvv09OQCQCaTSUmSlIpurNVqdWVZtpLEWWGZPdNOp7O/sbGxSp9t237Wdb0dsQSsZzRN21pZWflA3z08PDxubm7esWdOCLFC4SB6T+Ms9X3/j2EYlqZpvWlcret6XlVVWRCEuQTLvxJCXD54kNmds6Llcvl6WlEA0DStVy6Xr33f/wMAhUJhTVEUNh1lAOCD4hAu1Gq1fXpvGIbVaDTcqEslSRLGiTcaDdcwDCuOE0Ca47glPqhGYcrQILFt+znO0u3t7XSv1zstlUqpSZbbtv0MAKIoLlar1SyznH0lXCwWs8xZtZNIRVFcvL29/XJ5ebk+4bzbcdxUONx5LpdL05RJil4Wx8fHhV6v9znJ9aZpDj3PG7HcAVI8W/Cpmx3HcacNptXV1Y/jXE+5Inku8HEf0+IwLca5PomLx4zwPu5lJpNJvYXE87zR0dHRTTT1xnG9D5q4QAlEUVyUJGlq4cfHx597e3t3juP4ceuUiwYZHRz4oHgDAPr9/pCeWaTaxOLq6qqVz+dvkkQVRQlbKOWmDYMPxhUAQLPZHDAFYGucaw8ODr6dnJz8mFBEtuK4AQzeAfhNu1Kn0/l1dnb2aX5+XlheXl5aWFgY3d/fu5EIxvn5ebvb7b5MahY7OztrdKO7u7vfmeXvfDCYhW6oVCphG1NVVY7mp2mawyTXUpRKpZSqqnIcJ4AhIeSFppPFErdarS4ACIIwV6/XD3Vdz08bbLqu5+v1+iHbFiNV0Jr9IDDT0Wdmw95Mx9uZDvQz/YX5Hz9tfwFbXx3mceUphQAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/gif;base64,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"},function(e,t){e.exports="data:image/png;base64,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"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAejwAAHo8BmMFdxAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGoSURBVCiRjVLPi9pQEJ7YUjAIhd02x716WcjdixdP+UPMIRCiMfHHi+IxIPrPRMSLf4Agyx5Cixc3SXtK1+1BcEvJzPTQDbi6KR14vGG+b2bevPkkANhAgVWr1Q/b7fZ3EV4qAgzDuA7D8NYwjOsiDrx0fnVM03xARFqtVj8RkUzTfHiLd5FsWVaEiDQajRIA2LiuGyMid7vd+J/JrVYrQkTyPC+p1Wpf4jj+1Wg0vjqOEyMi93q98wJ/nXa7HSEiCSESANioqhouFosnVVVDANh0Op0IEbnf78evkm3bjhCRB4NBkgOVSuWu2WzuZFm+y2MXPEVR7hGRgyDYnz5J1/UdM7Ou67vTeBAEe0RkRVHuS2maZq7rxpqmXQkhlHwF5XK5dHoDANi2/UnTtKvhcPgtTdPsYmbP85L815mZLcuKimZ+n1edzWaPRATT6fRGkiQ4HA6UY47jfPZ9/0YIkfi+/6NQJC975uVy+cTMPJ/P9/+151OFERExMxNRocLeAUDzXK/r9fo5yzKs1+sfx+Px98lk8njOAQCQ8vZvmSzLpePxSEX4H51xMkxfWUg5AAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,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"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsSAAALEgHS3X78AAAC+klEQVRIx82Xv2/aQBTHv4cixVvNgEAMEUMiZUHNFDglUrzZY4mEVGWImKCd8ie4zJ6ytUw0QwYG0vG8ZYgwyRQpC4Ol/JBiOWIIHSLR6XWxqTEGnDQ0/UoM9pn7+O69d+9rRkSYJ8aYDGDd+2UASKFHhgBcAD0APSIazJ1zFpgxlgGgAcjheboBIIjIfRaYMSYBUAAU8XfqAjglouFcsAeteFv6GnIBNMPwxEuhnHOZcy7HAGdWV1c/e3OPtBQXyjmXdV0vbm5urieTyXfBscfHx58XFxe9er3etSxrLLHOzs4+HB0dXdq2XWGMjVYeXLESBV1ZWZGEEFqn0zlQVbUQhgJAMpl8p6pqodPpHAghtCB0a2vrvb9yj/FnxV72FqOglmVVstlsOnjfcZyHfr8/AIBUKiUHx1VVLdzf3+eur6/dANRXkTF2SUSuv9VaHKhpmudR28k5lw3DUHxQNptNh182IA1AM+EdDhN12mg0FP/Pw+Hw1+7u7jdN00QYCgCWZQ22t7d/1Gq17zGSLccYkxPeaTSRSKqqFvzrvb295snJiTtvxv39/Y2YJbYeCdZ1vRjc3jjQUCLFAk9kcj6fH219vV7vvjIUADJLEQc+/Ng6jvMQFdOgDMPYSKfTsm3bt9Oe6ff74SNTYgC+hB8kIh0AbNu+XVtba2IBSswafHp6GmJBmglOpVLyIsETq3Ic58GPdcxGMFGOrVZLabVaimEYUSU2THhta0xXV1c3UaUVV7quF8vl8k65XN7J5/NRTcdNeHZlTMESUlW1UCqVYvfmarWaCx4+U8qxFwm2LGtgmua5f318fFyJAy+VSpnDw8OPwcNnSjn2Ep4xu4l481M/1pIkLbfb7ZoQQouKOedcFkJo7Xa7JknSsp8nmqaJKD9GRANGRH5b/PQabdEf55w37+7uosrxKxG5I8/FGNOm9eRGo6EE4zZLpmmeV6vV0ynQLhGJMbO3KOszzfSNucznmj0/EV/iNN/M3v4/hv5NP2H+xUfbb/mKoec8kZG2AAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAK3wAACt8Bpkq7FgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANsSURBVEiJvZfRS1tXHMc/JnG5Xawg1mViZqW6zGWEXYdsbmWrjLahIIzinu5eEvM3+CCyxz3r45gXI0qeJtlmYG2XBSIzi7A+tEJrS1/WmZGBWYspbW8Sa/pw79W7a8KNt2HflyTnd875nHPuze98f200JwfgA4a1zy5A0GIK8BjYAe4DeeDAasI2i3g78CEwBrze5CKfATngD6BqBxwALgOnmwSaVQJ+AbbrBZ0NBl0ArgBum1C0sQHUU/vTCtwGTAKjrwA06y2gG7hnbHSYOn0OBNLp9ESlUvl6YWFhrEXw94BxY4PxGQdQd4uiKLNut9sNsLS0dCMSiWRbtIBVtGeu77gduKRHl5eX0/r3cDgcisVi580zzM/Pf7C1tfXVCcEhjXX4jD9B/Y8CkEwm8/39/crIyMjbAKIoDvn9/heJROKh1+t9LZ1OX52cnLxQrVYrc3NzN08AdgNlYMeFuuuPzD2i0WgOYGpq6gqAJEkXu7u7PaIoDnq93jdOuFOjxoBNF+pbVzc5mOGhUOjjVwDq8gB9LuCdetGZmZlhQRCc+Xy+VCgUCr29vb0tgOoadqHm3mOanZ39wuPxeFoIM8rnQE34ttTZ2dlhc2iXg6Nbxg64Mx6Pf2ZjqGDOXCeWJEkX7cAdqPfp/w1XHKiXuC3t7e3t2YQ/cgJnqPNm12q1f7PZ7N319fU7giC88Pl8b5r7FIvFR6urqxt6hgsGg+f8fv9+IpH4ywJ81wnsA6I5srGxUcxkMruZTGZXluXtjo6Ox6Ojo4NOp/PwKi2VSk/Gx8d/NKbXYDA42AT8VweqR3pmsUKmp6dvTUxMfFsoFP4xx6LRaG5xcfGa/luSpEvxePzTBlM9Bf52oBqznBUYIJVKFQOBwHepVGqzAfx6E/AcUNOPrQC8TxNWR1GUg5WVlQcul2u3p6fnlCzLh55qbW1tZ2BgoCKK4hCox97X1/c8mUzmtS5PgJ+AA6MReBf40grcjGKx2PlwOBwCKJfLZUEQvtFC36NZIGMC2QZa4jQikUhWluWfq9VqNZvN3taaf8Pgu8z2tg24iuqRWqk7wA9ATW+oZ2+3tQWcbRH0d+CaEdoIDPAQ2EVNLHa9dQlYQ60ojsmqhHFxVMI0ezc/5aiE2W/UyQps7Gcu2k5pseccL9pqdeb4j14C7kYSya9zBngAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,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"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAArCAYAAAAOnxr+AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAlhJREFUeNpi9HZyYIACMyC2B2JhhsEB3gLxQSA+BeKwADEjEFcBcSDD4APhQLwBiFtBDvUapI6EgQAgvsAEJLwZBj/wADlUaAg4VISJYYiAUYeOOnTUoYPRoVo6OoPbodw83AzFlVUMwRGRg9eh8oqKDG29/QxGpmY0jXoWSjR7+vgyxCQl0yWNEuVQUTExMEZxpK8fzUORZIfWNLcwiIiKkWWBjr4Bg4WNDcOcqVNwyodFRTP0dbQzfHj/jvw0au/kRLYjQQDkCEdnF4a80nKsjiwoK2dQVlVlsHdxoSwzBYVHUBRloJC6fOkig7mlJYpjYY7k5ORkWLV8GcPG1asocygloQkCoOjsaKhnOHn8ONyxpDqSYBoFlY/UApO6O8GOBDkWhEGAWEfSvQrdt2snnP3+3TuGg3v2UKfA//rlK9UcCYtuELh7+zaDoJAQQ0Z+PvVqpjevX1HNkbA0WVdeCk6zunr6WEsDshy6buUKqjoSliZBaRY5g1Hs0IP79lEUqqByFOTIrZs2YmQcZMf6h4bhNYdZTVEhhFBP9Oypk2B8eP8+OObh4WGQlJZGSyavGQ4BPYYMzp89Cx7iWLZgPlazTx47yvD33z9Cuf8dUVXo61evwBgZXLtyhahGCagcxeVIGCCmiKKoeNq+ZTNDVXEhVTIczcvRh/fvgx177vSpwdseRS5ve9vbBn9XBDndjvZCRx066tBRh1LPob+GgDt/gBx6agg49BTIoYuA+PEgdiTIbUtADv0ExKAm0CZQY2cQOfAD1E0gt31i/P///5DITAABBgBYwtYY1zNaqwAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAArCAYAAAAOnxr+AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAulJREFUeNrslz1sEmEYxx8aJnDSFjcrmyJdBIFFiyx+IEZxaE2aDqVDF622i6W4KOJUtbp0KA6kiXVoY9TEjVinFqsxKSVORXSy1aRpPGJc8P2/d0faJsjbOyRHck/ycHfwwv3uef/PB5ZwKEiK+Zh3Mz9AxrCfzBeY53BhZW5hHmd+mYxnPcxfML8H0PMGhVTtEvNPbewlTMa3swDd3wKg7W3UImaCmqAmqBFBXW630Lr+WIw6nc7mg9r32Wl0LE5Xeq8KQZ4JR2jk1hj/XtNAEZnUxEM6fsIntH4hm6VyuUztHQ4aujbcHNBzFyIcEjetZ0PXh7mXikWan33G38PDicrFKrKow+HgvgMyclE4it2hEJ0MnubnpbU1evP6FXkDATriOsblUkiMNwY0cTcpFLVaD4nt9voD/MGiDOzd2yzNsaiO30lyWKzZWF/Xt/WIhlZIbHXqwSMOMvVkkmvTZrPRqWCICvk8/diQ4bw+v36NRnt6NUfSwwAA1h8bJOmXRB9ySzIY23aYeu3q6tIPqjWa2MqZp9PVpOFgS4v8iO3ma77LEbXZ7fpA91LnapWi7c1AkqQdn5e+FPnx0GHn/6+jhmih0JUeQyKqhuSx79riTiWSX5XI6oqomplakqlvYJCff3zP//GSxy8n0efCqrzmoKz/siTpB51/Pqs5mZDVKEmZ9DTXu0cpQ8uLclKp14WVFf2gSAitUZ16PEnxkRscGn0dpQrgKPhILrWiLCtlSndnSt5OaG6hgIRW1bXo89C+OmlBBvW6kjAofmj3jyE5MJT0DcSEytRRt1zU0efxPbWWzikDSkNAaxluWljN89myXmOADNSxMKpEE0mGB27KPIqxLT56s5rZIiULWoXu0f9FzUoNMGhu4n5KaLbMpNNVOeylTjcEdLtuRUyFNf+FmqAmqAn6b9A/LcD5G6C5FgDNATTD/JuBIcE2A9At5hiBXjLfNBDgpsIEti1LpVJpiWT6K8AA9tML3aYOAakAAAAASUVORK5CYII="},function(e,t,n){e.exports=n(44)("native-function-to-string",Function.toString)},function(e,t,n){var r=n(10);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(37),i=n(8)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){var r=n(59),i=n(8)("iterator"),o=n(37);e.exports=n(21).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(6),i=n(81).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,u=r.Promise,s="process"==n(30)(a);e.exports=function(){var e,t,n,l=function(){var r,i;for(s&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(s)n=function(){a.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(u&&u.resolve){var c=u.resolve(void 0);n=function(){c.then(l)}}else n=function(){i.call(r,l)};else{var d=!0,f=document.createTextNode("");new o(l).observe(f,{characterData:!0}),n=function(){f.data=d=!d}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(6).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){"use strict";var r=n(39),i=n(46),o=n(38),a={};n(22)(a,n(8)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(16),i=n(10),o=n(31);e.exports=n(15)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),u=a.length,s=0;s<u;)r.f(e,n=a[s++],t[n]);return e}},function(e,t,n){var r=n(49),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(31),i=n(67),o=n(40);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,u=n(e),s=o.f,l=0;u.length>l;)s.call(e,a=u[l++])&&t.push(a);return t}},function(e,t,n){var r=n(23),i=n(52).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},function(e,t,n){var r=n(130);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(9),i=n(94),o=n(8)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(5);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(5),i=n(133);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(e,t,n){var r=n(6).parseFloat,i=n(98).trim;e.exports=1/r(n(99)+"-0")!=-1/0?function(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},function(e,t,n){"use strict";(function(e){var r=n(136),i=n(137),o=n(138);function a(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=s.prototype:(null===e&&(e=new s(t)),e.length=t),e}function s(e,t,n){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(e,t,n);if("number"!=typeof e)return l(this,e,t,n);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}function l(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),s.TYPED_ARRAY_SUPPORT?(e=t).__proto__=s.prototype:e=f(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),i=(e=u(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(s.isBuffer(t)){var n=0|p(t.length);return 0===(e=u(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?u(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(c(t),e=u(e,t<0?0:0|p(t)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|p(t.length);e=u(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(s.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(e).length;default:if(r)return j(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"==typeof t)return t&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){var o,a=1,u=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;u/=a=2,s/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=n;o<u;o++)if(l(e,o)===l(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===s)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(u<n+s&&(n=u-s),o=n;0<=o;o--){for(var d=!0,f=0;f<s;f++)if(l(e,o+f)!==l(t,f)){d=!1;break}if(d)return o}return-1}function g(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?i<(r=Number(r))&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");o/2<r&&(r=o/2);for(var a=0;a<r;++a){var u=parseInt(t.substr(2*a,2),16);if(isNaN(u))return a;e[n+a]=u}return a}function b(e,t,n,r){return z(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,u,s,l=e[i],c=null,d=239<l?4:223<l?3:191<l?2:1;if(i+d<=n)switch(d){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[i+1]))&&127<(s=(31&l)<<6|63&o)&&(c=s);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&2047<(s=(15&l)<<12|(63&o)<<6|63&a)&&(s<55296||57343<s)&&(c=s);break;case 4:o=e[i+1],a=e[i+2],u=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&u)&&65535<(s=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&u)&&s<1114112&&(c=s)}null===c?(c=65533,d=1):65535<c&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=d}return function(e){var t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=k));return n}(r)}t.Buffer=s,t.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},t.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),s.poolSize=8192,s._augment=function(e){return e.__proto__=s.prototype,e},s.from=function(e,t,n){return l(null,e,t,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(e,t,n){return r=null,o=t,a=n,c(i=e),i<=0?u(r,i):void 0!==o?"string"==typeof a?u(r,i).fill(o,a):u(r,i).fill(o):u(r,i);var r,i,o,a},s.allocUnsafe=function(e){return d(null,e)},s.allocUnsafeSlow=function(e){return d(null,e)},s.isBuffer=function(e){return!(null==e||!e._isBuffer)},s.compare=function(e,t){if(!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(n=t=0;n<e.length;++n)t+=e[n].length;var r=s.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!s.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},s.byteLength=h,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},s.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return S(this,t,n);case"latin1":case"binary":return E(this,t,n);case"base64":return w(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},s.prototype.compare=function(e,t,n,r,i){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(i<=r&&n<=t)return 0;if(i<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),u=Math.min(o,a),l=this.slice(r,i),c=e.slice(t,n),d=0;d<u;++d)if(l[d]!==c[d]){o=l[d],a=c[d];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||i<n)&&(n=i),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o,a,u,s,l,c,d=!1;;)switch(r){case"hex":return g(this,e,t,n);case"utf8":case"utf-8":return l=t,c=n,z(j(e,this.length-l),this,l,c);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return b(this,e,t,n);case"base64":return this,u=t,s=n,z(U(e),this,u,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o=t,a=n,z(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(e,this.length-o),this,o,a);default:if(d)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),d=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function S(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function E(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function C(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var i="",o=t;o<n;++o)i+=T(e[o]);return i}function x(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function V(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,r,i,o){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<t||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function _(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function B(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function R(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(e,t,n,r,o){return o||R(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function I(e,t,n,r,o){return o||R(e,0,n,8),i.write(e,t,n,r,52,8),n+8}s.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),t<e&&(t=e),s.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=s.prototype;else{var i=t-e;n=new s(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},s.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||V(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},s.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||V(e,t,this.length);for(var r=this[e+--t],i=1;0<t&&(i*=256);)r+=this[e+--t]*i;return r},s.prototype.readUInt8=function(e,t){return t||V(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return t||V(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return t||V(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return t||V(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return t||V(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||V(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return(i*=128)<=r&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||V(e,t,this.length);for(var r=t,i=1,o=this[e+--r];0<r&&(i*=256);)o+=this[e+--r]*i;return(i*=128)<=o&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return t||V(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){t||V(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){t||V(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return t||V(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return t||V(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return t||V(e,4,this.length),i.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return t||V(e,4,this.length),i.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return t||V(e,8,this.length),i.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return t||V(e,8,this.length),i.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;0<=--i&&(o*=256);)this[t+i]=e/o&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,255,0),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):_(this,e,t,!0),t+2},s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):_(this,e,t,!1),t+2},s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):B(this,e,t,!0),t+4},s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var o=0,a=1,u=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===u&&0!==this[t+o-1]&&(u=1),this[t+o]=(e/a>>0)-u&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var o=n-1,a=1,u=0;for(this[t+o]=255&e;0<=--o&&(a*=256);)e<0&&0===u&&0!==this[t+o+1]&&(u=1),this[t+o]=(e/a>>0)-u&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,127,-128),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):_(this,e,t,!0),t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):_(this,e,t,!1),t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):B(this,e,t,!0),t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},s.prototype.writeFloatLE=function(e,t,n){return P(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return P(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return I(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return I(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;0<=i;--i)e[i+t]=this[i+n];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},s.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=s.isBuffer(e)?e:j(new s(e,r).toString()),u=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%u]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function T(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if(55295<(n=e.charCodeAt(a))&&n<57344){if(!i){if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}if(a+1===r){-1<(t-=3)&&o.push(239,191,189);continue}i=n;continue}if(n<56320){-1<(t-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(t-=3)&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(e){return r.toByteArray(function(e){var t;if((e=(t=e,t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(135))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=l(e),r=n[0],a=n[1],u=new o(3*(r+(f=a))/4-f),s=0,c=0<a?r-4:r,d=0;d<c;d+=4)t=i[e.charCodeAt(d)]<<18|i[e.charCodeAt(d+1)]<<12|i[e.charCodeAt(d+2)]<<6|i[e.charCodeAt(d+3)],u[s++]=t>>16&255,u[s++]=t>>8&255,u[s++]=255&t;var f;return 2===a&&(t=i[e.charCodeAt(d)]<<2|i[e.charCodeAt(d+1)]>>4,u[s++]=255&t),1===a&&(t=i[e.charCodeAt(d)]<<10|i[e.charCodeAt(d+1)]<<4|i[e.charCodeAt(d+2)]>>2,u[s++]=t>>8&255,u[s++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,u=n-i;a<u;a+=16383)o.push(c(e,a,u<a+16383?u:a+16383));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,s=a.length;u<s;++u)r[u]=a[u],i[a.charCodeAt(u)]=u;function l(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,o,a=[],u=t;u<n;u+=3)i=(e[u]<<16&16711680)+(e[u+1]<<8&65280)+(255&e[u+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,u=8*i-r-1,s=(1<<u)-1,l=s>>1,c=-7,d=n?i-1:0,f=n?-1:1,p=e[t+d];for(d+=f,o=p&(1<<-c)-1,p>>=-c,c+=u;0<c;o=256*o+e[t+d],d+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;0<c;a=256*a+e[t+d],d+=f,c-=8);if(0===o)o=1-l;else{if(o===s)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=l}return(p?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,u,s,l=8*o-i-1,c=(1<<l)-1,d=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,h=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),2<=(t+=1<=a+d?f/s:f*Math.pow(2,1-d))*s&&(a++,s/=2),c<=a+d?(u=0,a=c):1<=a+d?(u=(t*s-1)*Math.pow(2,i),a+=d):(u=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));8<=i;e[n+p]=255&u,p+=h,u/=256,i-=8);for(a=a<<i|u,l+=i;0<l;e[n+p]=255&a,p+=h,a/=256,l-=8);e[n+p-h]|=128*v}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){var r=n(5);r(r.S+r.F,"Object",{assign:n(100)})},function(e,t,n){"use strict";var r=n(74);n(5)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(e,t,n){"use strict";var r=n(5),i=n(19),o=n(69),a="endsWith",u=""[a];r(r.P+r.F*n(71)(a),"String",{endsWith:function(e){var t=o(this,e,a),n=1<arguments.length?arguments[1]:void 0,r=i(t.length),s=void 0===n?r:Math.min(i(n),r),l=String(e);return u?u.call(t,l,s):t.slice(s-l.length,s)===l}})},function(e,t,n){n(15)&&"g"!=/./g.flags&&n(16).f(RegExp.prototype,"flags",{configurable:!0,get:n(55)})},function(e,t,n){var r=n(31),i=n(23),o=n(40).f;e.exports=function(e){return function(t){for(var n,a=i(t),u=r(a),s=u.length,l=0,c=[];l<s;)o.call(a,n=u[l++])&&c.push(e?[n,a[n]]:a[n]);return c}}},function(e,t,n){"use strict";var r,i=n(6),o=n(54)(0),a=n(17),u=n(34),s=n(100),l=n(145),c=n(9),d=n(43),f=n(43),p=!i.ActiveXObject&&"ActiveXObject"in i,h="WeakMap",v=u.getWeak,y=Object.isExtensible,m=l.ufstore,g=function(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}},b={get:function(e){if(c(e)){var t=v(e);return!0===t?m(d(this,h)).get(e):t?t[this._i]:void 0}},set:function(e,t){return l.def(d(this,h),e,t)}},w=e.exports=n(102)(h,g,b,l,!0,!0);f&&p&&(s((r=l.getConstructor(g,h)).prototype,b),u.NEED=!0,o(["delete","has","get","set"],function(e){var t=w.prototype,n=t[e];a(t,e,function(t,i){if(!c(t)||y(t))return n.call(this,t,i);this._f||(this._f=new r);var o=this._f[e](t,i);return"set"==e?this:o})}))},function(e,t,n){"use strict";var r=n(50),i=n(34).getWeak,o=n(10),a=n(9),u=n(47),s=n(48),l=n(54),c=n(18),d=n(43),f=l(5),p=l(6),h=0,v=function(e){return e._l||(e._l=new y)},y=function(){this.a=[]},m=function(e,t){return f(e.a,function(e){return e[0]===t})};y.prototype={get:function(e){var t=m(this,e);if(t)return t[1]},has:function(e){return!!m(this,e)},set:function(e,t){var n=m(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var l=e(function(e,r){u(e,l,t,"_i"),e._t=t,e._i=h++,e._l=void 0,null!=r&&s(r,n,e[o],e)});return r(l.prototype,{delete:function(e){if(!a(e))return!1;var n=i(e);return!0===n?v(d(this,t)).delete(e):n&&c(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=i(e);return!0===n?v(d(this,t)).has(e):n&&c(n,this._i)}}),l},def:function(e,t,n){var r=i(o(t),!0);return!0===r?v(e).set(t,n):r[e._i]=n,e},ufstore:v}},function(e,t){var n=["-webkit-","-moz-","-o-","-ms-",""];(e.exports=function(e,t,r){for(var i=0;i<n.length;i++)e[n[i]+t]=r}).get=function(e,t){for(var r=0;r<n.length;r++){var i=e[n[r]+t];if(i&&""!=i)return i}return""}},function(e,t,n){"use strict";var r=n(5),i=n(21),o=n(6),a=n(61),u=n(85);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return u(t,e()).then(function(){return n})}:e,n?function(n){return u(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(16).f,i=n(39),o=n(50),a=n(28),u=n(47),s=n(48),l=n(64),c=n(87),d=n(62),f=n(15),p=n(34).fastKey,h=n(43),v=f?"_s":"size",y=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,l){var c=e(function(e,r){u(e,c,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[v]=0,null!=r&&s(r,n,e[l],e)});return o(c.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var n=h(this,t),r=y(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[v]--}return!!r},forEach:function(e){h(this,t);for(var n,r=a(e,1<arguments.length?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!y(h(this,t),e)}}),f&&r(c.prototype,"size",{get:function(){return h(this,t)[v]}}),c},def:function(e,t,n){var r,i,o=y(e,t);return o?o.v=n:(e._l=o={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[v]++,"F"!==i&&(e._i[i]=o)),e},getEntry:y,setStrong:function(e,t,n){l(e,t,function(e,n){this._t=h(e,t),this._k=n,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?c(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,c(1))},n?"entries":"values",!n,!0),d(t)}}},function(e,t,n){"use strict";var r=n(29),i=n(9),o=n(82),a=[].slice,u={};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?function(e,t,n){if(!(t in u)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";u[t]=Function("F,a","return new F("+r.join(",")+")")}return u[t](e,n)}(t,r.length,r):o(t,r,e)};return i(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t,n){"use strict";var r=n(10),i=n(19),o=n(73),a=n(56);n(57)("match",1,function(e,t,n,u){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=u(n,e,this);if(t.done)return t.value;var s=r(e),l=String(this);if(!s.global)return a(s,l);for(var c,d=s.unicode,f=[],p=s.lastIndex=0;null!==(c=a(s,l));){var h=String(c[0]);""===(f[p]=h)&&(s.lastIndex=o(l,i(s.lastIndex),d)),p++}return 0===p?null:f}]})},function(e,t,n){"use strict";var r=n(5),i=n(19),o=n(69),a="startsWith",u=""[a];r(r.P+r.F*n(71)(a),"String",{startsWith:function(e){var t=o(this,e,a),n=i(Math.min(1<arguments.length?arguments[1]:void 0,t.length)),r=String(e);return u?u.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){"use strict";var r=n(12);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){"use strict";var r=n(5),i=n(54)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n(51)(o)},function(e,t,n){var r=n(9),i=n(34).onFreeze;n(95)("freeze",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(5),i=n(23),o=n(19);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=o(t.length),r=arguments.length,a=[],u=0;u<n;)a.push(String(t[u++])),u<r&&a.push(String(arguments[u]));return a.join("")}})},function(e,t,n){"use strict";var r=n(10),i=n(157),o=n(56);n(57)("search",1,function(e,t,n,a){return[function(n){var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=a(n,e,this);if(t.done)return t.value;var u=r(e),s=String(this),l=u.lastIndex;i(l,0)||(u.lastIndex=0);var c=o(u,s);return i(u.lastIndex,l)||(u.lastIndex=l),null===c?-1:c.index}]})},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"IvtSize",function(){return y});var i={};n.r(i),n.d(i,"createElement",function(){return B}),n.d(i,"createBeacon",function(){return R}),n.d(i,"createFiFrame",function(){return P}),n.d(i,"createCompanion",function(){return I}),n.d(i,"translateToStyleLength",function(){return C});var o={};n.r(o),n.d(o,"createEvent",function(){return j}),n.d(o,"IvtEventTarget",function(){return U});var a={};n.r(a),n.d(a,"TimeoutError",function(){return Q}),n.d(a,"timeout",function(){return q}),n.d(a,"Deferred",function(){return Y});var u={};function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(u),n.d(u,"IvtEnum",function(){return ce}),n.d(u,"IvtDeviceType",function(){return de}),n.d(u,"IvtOsType",function(){return fe}),n.d(u,"IvtBrowserType",function(){return pe}),n.d(u,"IvtMediaType",function(){return he}),n.d(u,"IvtErrorCode",function(){return ve}),n.d(u,"IvtPlayerPausedReason",function(){return ye}),n.d(u,"IvtAdNotification",function(){return ge}),n.d(u,"IvtUserNotification",function(){return me}),n.d(u,"IvtAdUIType",function(){return be}),n.d(u,"IvtAdPlayerState",function(){return we}),n.d(u,"IvtAdEvent",function(){return Ae}),n.d(u,"IvtAdState",function(){return ke}),n(7),n(11),n(13),n(24),n(14),n(1),n(2),n(41),n(96),n(3),n(4),n(25),n(131),n(20),n(132),n(26),n(27);var c=Symbol("privateNameSpace"),d=Symbol("privatePrint"),f=function(){function e(t){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),l(this,c,""),this[c]=t,"console"in window&&"undefined"!=typeof console?this.sys=window.console:(this.sys={},this.sys.log=function(){return null},this.sys.dir=function(){return null})}var t,n;return t=e,(n=[{key:"debug",value:function(t,n){e.isDebug&&(this[d]("[DAC-IVT: ".concat(this[c],"] ").concat(t)),this[d](n))}},{key:"warn",value:function(t,n){e.isDebug&&(this.sys.warn("[DAC-IVT: ".concat(this[c],"] ").concat(t)),void 0!==this.sys.trace&&this.sys.trace(),this[d](n))}},{key:"error",value:function(t,n){e.isDebug&&(this.sys.error("[DAC-IVT: ".concat(this[c],"] ").concat(t)),void 0!==this.sys.trace&&this.sys.trace(),this[d](n))}},{key:d,value:function(e){void 0!==e&&("string"==typeof e||"number"==typeof e?this.sys.log(e):this.sys.dir(e))}}])&&s(t.prototype,n),e}();l(f,"isDebug",!1);var p=f;function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),v(this,"width",0),v(this,"height",0),1===arguments.length){var t=arguments[0];this.width=(null==t?void 0:t.width)||0,this.height=(null==t?void 0:t.height)||0}else 1<arguments.length&&(this.width=arguments[0],this.height=arguments[1])}var t,n;return t=e,(n=[{key:"clone",value:function(){return new e(this.width,this.height)}}])&&h(t.prototype,n),e}(),m=n(0),g=n(79);function b(e,t,n){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),e}var E=new p("IvtElement");function C(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"0px",n=String(e);if(n.includes("auto"))return"auto";var r,i=/(\d*\.?\d*)(.*)/.exec(n);if(!i)return t;var o=i[1],a=Number.parseFloat(o);if(Number.isNaN(a))return t;if(a<0)return t;var u=m.a.notEmpty(null===(r=i[2])||void 0===r?void 0:r.trim(),"px");return"".concat(a).concat(u)}var x=function(){function e(){A(this,e)}return S(e,null,[{key:"createElement",value:function(t){var n="string"==typeof t?document.createElement(t):t;return n.eventHandlers={},n.style.margin="0",n.style.padding="0",n.style.border="none",n.clear=e.clear.bind(null,n),n._wh=e._wh.bind(null,n),n.on=e.on.bind(null,n),n.off=e.off.bind(null,n),n.wh=e.wh.bind(null,n),n.show=e.show.bind(null,n),n.fadein=e.fadein.bind(null,n),n.fadeout=e.fadeout.bind(null,n),n._isFadeouting=!1,n.hide=e.hide.bind(null,n),n.zero=e.zero.bind(null,n),n.slideSetup=e.slideSetup.bind(null,n),n.slide=e.slide.bind(null,n),n.cancelSlide=e.cancelSlide.bind(null,n),n.inviewPercentage=e.inviewPercentage.bind(null,n),n.getClientSize=e.getClientSize.bind(null,n),Object.defineProperties(n,{w:{get:e.getWidth.bind(null,n),set:e.setWidth.bind(null,n),configurable:!0},h:{get:e.getHeight.bind(null,n),set:e.setHeight.bind(null,n),configurable:!0},size:{get:e.getSize.bind(null,n),set:e.setSize.bind(null,n),configurable:!0},styleSize:{get:e.getStyleSize.bind(null,n),configurable:!0},isHidden:{get:e.getIsHidden.bind(null,n),set:e.setIsHidden.bind(null,n),configurable:!0}}),n}},{key:"clear",value:function(e){var t;if(e){null===(t=e.parentElement)||void 0===t||t.removeChild(e);for(var n=Object.keys(e.eventHandlers),r=0;r<n.length;r++){var i=n[r];e.off(i)}Object.getOwnPropertyNames(e).forEach(function(t){Object.getOwnPropertyDescriptor(e,t).configurable&&(delete e.name,e.name=null)})}}},{key:"getHeight",value:function(e){return e._wh(e,"Height")}},{key:"setHeight",value:function(e,t){e.style.height=C(t)}},{key:"getWidth",value:function(e){return e._wh(e,"Width")}},{key:"setWidth",value:function(e,t){e.style.width=C(t)}},{key:"getSize",value:function(e){return new y(e.offsetWidth,e.offsetHeight)}},{key:"setSize",value:function(e,t){e.wh((null==t?void 0:t.width)||0,(null==t?void 0:t.height)||0)}},{key:"getStyleSize",value:function(e){return new y(e.style.width,e.style.height)}},{key:"getIsHidden",value:function(e){return"visible"!==e.style.visibility}},{key:"setIsHidden",value:function(e,t){e.style.visibility=m.a.toBool(t)?"hidden":"visible"}},{key:"_wh",value:function(e,t,n){return Math.max(t["scroll"+n],t["offset"+n],t["client"+n])}},{key:"on",value:function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];t in e.eventHandlers||(e.eventHandlers[t]=[]);var i={listener:n,useCapture:r};e.eventHandlers[t].push(i),e.addEventListener(t,n,r)}},{key:"off",value:function(e,t){if(t in e.eventHandlers){var n=!0,r=!1,i=void 0;try{for(var o,a=e.eventHandlers[t][Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;e.removeEventListener(t,u.listener,u.useCapture)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}e.eventHandlers[t]=null,delete e.eventHandlers[t]}}},{key:"wh",value:function(e,t,n){e.w=t,e.h=n}},{key:"show",value:function(t){return e.setIsHidden(t,!1),t}},{key:"hide",value:function(t){return e.setIsHidden(t,!0),t}},{key:"fadein",value:function(e){return e._isFadeouting=!1,new Promise(function(t){e.show(),g.in(e,1e3,function(){t()})})}},{key:"fadeout",value:function(e){return e._isFadeouting=!0,new Promise(function(t){g.out(e,1e3,function(){e._isFadeouting&&(e.hide(),e._isFadeouting=!1),t()})})}},{key:"zero",value:function(e){return e.w=0,e.h=0,e}},{key:"slideSetup",value:function(e){for(var t=0,n=["webkit","moz"],r=0;r<n.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[n[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n[r]+"CancelAnimationFrame"]||window[n[r]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var n=(new Date).getTime(),r=Math.max(0,16-(n-t)),i=window.setTimeout(function(){e(n+r)},r);return t=n+r,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}},{key:"slide",value:function(e,t,n,r){return new Promise(function(i){var o=e.offsetWidth,a=e.offsetHeight;e.w=t,e.h=n,r&&r(e.w,e.h);var u=e.offsetWidth,s=e.offsetHeight,l=Math.round(u-o),c=Math.round(s-a),d=l/30,f=c/30,p=l<=0?function(){return o<=u}:function(){return u<=o},h=c<=0?function(){return a<=s}:function(){return s<=a};e.w=o,e.h=a,e.cancelSlide(),e.slideSetup(),function u(){if(p()&&h())return e.cancelSlide(),e.w=t,e.h=n,r&&r(t,n),void i();o+=d,a+=f,e.w=o,e.h=a,r&&r(o,a),e.animetionID=requestAnimationFrame(function(){u()})}()})}},{key:"cancelSlide",value:function(e){e.animetionID&&(cancelAnimationFrame(e.animetionID),e.animetionID=null)}},{key:"inviewPercentage",value:function(e,t,n){if(m.a.safeFrame){var r=m.a.safeFrame;if(r.ext&&m.a.isFunction(r.ext.inViewPercentage))return r.ext.inViewPercentage()}var i,o,a=m.a.toDecimal(t,0),u=m.a.toDecimal(n,0),s=e.getBoundingClientRect(),l=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;c=c-a-u;var d=s.left,f=s.right,p=f-d,h=s.top-a,v=s.bottom-a,y=v-h;return i=f<=0?0:l<=d?0:p<=0?1:d<0&&l<f?l/p:d<0?f/p:l<f?(l-d)/p:1,o=v<=0?0:c<=h?0:y<=0?1:h<=0&&c<v?c/y:h<=0?v/y:c<v?(c-h)/y:1,Math.floor(i*o*100)}},{key:"getClientSize",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=e.getBoundingClientRect(),r=n.width,i=n.height,o=0,a=0,u=0,s=0;if(!t){var l=window.getComputedStyle(e);o=0<(o=parseInt(l.borderTopWidth,10))?o:0,a=0<(a=parseInt(l.borderBottomWidth,10))?a:0,u=0<(u=parseInt(l.borderLeftWidth,10))?u:0,s=0<(s=parseInt(l.borderRightWidth,10))?s:0}return{width:r-u-s,height:i-o-a}}}]),e}(),V=function(){function e(){A(this,e)}return S(e,null,[{key:"createBeacon",value:function(e){var t=x.createElement(e);return t.w=1,t.h=1,t.style.overflow="hidden",t.style.opacity="0.1",t}}]),e}(),O=function(){function e(){A(this,e)}return S(e,null,[{key:"createFiFrame",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.text,n=e.isInDapIF||!0,r=x.createElement("iframe");return t&&r.on("load",function(e){r.off("load");var i=r.contentWindow.document,o=n?"<body><script>inDapIF = true;<\/script>"+t+"</body>":t;i.open(),i.write(o),i.write("<style> body {margin:0} </style>"),i.close()}),r}},{key:"setup",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};b(w(e),"setup",this).call(this,t,n);var r=n.text,i=n.isInDapIF||!0;r&&t.on("load",function(){t.off("load");var e=t.contentWindow.document,n=i?"<body><script>inDapIF = true;<\/script>"+r+"</body>":r;e.open(),e.write(n),e.write("<style> body {margin:0} </style>"),e.close()})}}]),e}(),_=function(){function e(){A(this,e)}return S(e,null,[{key:"createCompanion",value:function(e){var t="コンパニオンの設定が不正です。";if(!e)return E.error(t),null;var n=null;if(e.staticResourceUri)(n=x.createElement("img")).src=e.staticResourceUri;else if(e.iframeResourceUri)(n=x.createElement("iframe")).src=e.iframeResourceUri;else{if(!e.htmlResourceUri)return E.error(t),null;n=O.createFiFrame({text:n.htmlResourceUri,isInDapIF:!1})}return n.companion=e,n}}]),e}(),B=x.createElement,R=V.createBeacon,P=O.createFiFrame,I=_.createCompanion;function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){var n=t||{};if(m.a.isNotExist(n.bubbles)&&(n.bubbles=!1),m.a.isNotExist(n.cancelable)&&(n.cancelable=!1),m.a.isNotExist(n.detail)&&(n.detail={}),"CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(e,n);var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),r}n(42);var U=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),T(this,"log",null),T(this,"eventTarget",null),T(this,"eventHandlers",{}),this.log=new p(this.constructor.name),this.eventTarget=document.createDocumentFragment()}var t,n;return t=e,(n=[{key:"clear",value:function(){this.offAll()}},{key:"dispatch",value:function(e,t){2<arguments.length&&void 0!==arguments[2]&&arguments[2]&&this.log.debug("dispatch: ".concat(e,", parameter: ").concat(m.a.toSource(t)));var n=j(e,t);n.cancelDispatch=!1,(n.detail.target=this).eventTarget.dispatchEvent(n)}},{key:"eventListener",value:function(e){e&&e.stopPropagation();var t=e.type,n=null;if(m.a.isFunction(this[t])&&(n=this[t](e)),!e.cancelDispatch){var r={bubbles:e.bubbles,cancelable:e.cancelable,detail:e.detail};this.dispatch(t,r),n&&n instanceof Promise&&n.then(function(e){m.a.isFunction(e)&&e()})}}},{key:"on",value:function(t,n){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(!m.a.isNotExist(t)){var i=m.a.isString(t)?[t]:t,o=!0,a=!1,u=void 0;try{for(var s,l=i[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value;c in this.eventHandlers||(this.eventHandlers[c]=[]);var d={type:c,listener:n,useCapture:r};this.eventHandlers[c].push(d),n instanceof e?this.eventTarget.addEventListener(c,function(e){n.eventListener(e)},r):this.eventTarget.addEventListener(c,n,r)}}catch(t){a=!0,u=t}finally{try{o||null==l.return||l.return()}finally{if(a)throw u}}}}},{key:"off",value:function(e){if(!m.a.isNotExist(e)){var t=m.a.isString(e)?[e]:e,n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;if(u in this.eventHandlers){var s=!0,l=!1,c=void 0;try{for(var d,f=this.eventHandlers[u][Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var p=d.value;this.eventTarget.removeEventListener(p.type,p.listener,p.useCapture)}}catch(e){l=!0,c=e}finally{try{s||null==f.return||f.return()}finally{if(l)throw c}}this.eventHandlers[u]=null,delete this.eventHandlers[u]}}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}}},{key:"offAll",value:function(){for(var e=Object.entries(this.eventHandlers),t=0;t<e.length;t++){var n=e[t];this.eventTarget.removeEventListener(n.type,n.listener,n.useCapture)}this.eventHandlers={}}}])&&F(t.prototype,n),e}();function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e){var t="function"==typeof Map?new Map:void 0;return(N=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return function(e,t,n){return(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&W(i,n.prototype),i}).apply(null,arguments)}(e,arguments,H(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),W(r,e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(147),n(103),n(77),n(75);var Q=function(e){function t(){var e;M(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=function(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,H(t).call(this,r))).name="TimeoutError",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,N(Error)),t}();function q(e,t,n){var r=null,i=new Promise(function(e,i){r=window.setTimeout(function(){var o="timed out in ".concat(t," ms.");n&&(o+=" info = ".concat(n,"."));var a=new Q(o);r?i(a):e()},t)});return Promise.race([e,i]).finally(function(){clearTimeout(r),r=null})}var Y=function(){function e(t){var n=this;M(this,e),L(this,"_resolve",null),L(this,"_reject",null),L(this,"_promise",null),L(this,"_detail",null),this._detail=t,this._promise=new Promise(function(e,t){n._resolve=e,n._reject=t})}var t,n;return t=e,(n=[{key:"timeout",value:function(e){return q(this.promise,e,this._detail)}},{key:"resolve",get:function(){return this._resolve}},{key:"reject",get:function(){return this._reject}},{key:"promise",get:function(){return this._promise}},{key:"detail",get:function(){return this._detail}}])&&z(t.prototype,n),e}();function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){var t="function"==typeof Map?new Map:void 0;return(Z=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return function(e,t,n){return(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&X(i,n.prototype),i}).apply(null,arguments)}(e,arguments,J(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),X(r,e)})(e)}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee="IvtError",te=function(e){function t(e,n){var r,i;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,$(G(r=!(i=J(t).call(this,e))||"object"!==K(i)&&"function"!=typeof i?G(this):i),"log",null),$(G(r),"errorCode","0"),r.log=new p(ee),r.name=ee,m.a.isNotEmpty(n)&&(r.errorCode=n),m.a.isFunction(Error.captureStackTrace)?Error.captureStackTrace(G(r),r.constructor):r.stack=new Error(e).stack,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,Z(Error)),t}();function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t,n){return t&&se(e.prototype,t),n&&se(e,n),e}n(58),n(150);var ce=function(){function e(){ue(this,e)}return le(e,null,[{key:"all",get:function(){return Object.keys(this).filter(function(e,t){return"all"!==e})}}]),e}(),de=function(e){function t(){return ue(this,t),re(this,ie(t).call(this))}return oe(t,ce),t}();ae(de,"SD","SD"),ae(de,"PC","PC"),ae(de,"Other","Other");var fe=function(e){function t(){return ue(this,t),re(this,ie(t).call(this))}return oe(t,ce),t}();ae(fe,"Windows","Windows"),ae(fe,"Mac","Mac"),ae(fe,"Android","Android"),ae(fe,"iOS","iOS"),ae(fe,"Other","Other");var pe=function(e){function t(){return ue(this,t),re(this,ie(t).call(this))}return oe(t,ce),t}();ae(pe,"IE","IE"),ae(pe,"Edge","Edge"),ae(pe,"Chrome","Chrome"),ae(pe,"Firefox","Firefox"),ae(pe,"Safari","Safari"),ae(pe,"Other","Other");var he=function(e){function t(){return ue(this,t),re(this,ie(t).call(this))}return oe(t,ce),t}();ae(he,"Video","Video"),ae(he,"Canvas","Canvas");var ve=function(e){function t(){return ue(this,t),re(this,ie(t).call(this))}return oe(t,ce),t}();ae(ve,"timeout","301"),ae(ve,"noAd","303"),ae(ve,"linear","400"),ae(ve,"linearNotFound","401"),ae(ve,"linearTimeout","402"),ae(ve,"linearUnsupportedCodecs","403"),ae(ve,"undefined","901"),ae(ve,"vpaid","901");var ye=function(e){function t(){return ue(this,t),re(this,ie(t).call(this))}return oe(t,ce),t}();ae(ye,"playing",0),ae(ye,"outview",1),ae(ye,"visible",2),ae(ye,"userInteraction",4),ae(ye,"vpaid",8),ae(ye,"pausing",ye.outview|ye.visible|ye.userInteraction|ye.vpaid);var me=function(e){function t(){return ue(this,t),re(this,ie(t).call(this))}return oe(t,ce),t}();ae(me,"didUserVideoClick","didUserVideoClick"),ae(me,"didUserClose","didUserClose"),ae(me,"didUserEnterFullscreen","didUserEnterFullscreen"),ae(me,"didUserOptout","didUserOptout"),ae(me,"didUserResume","didUserResume"),ae(me,"didUserPause","didUserPause"),ae(me,"didUserReplay","didUserReplay"),ae(me,"didUserVolumeChange","didUserVolumeChange"),ae(me,"didUserMute","didUserMute"),ae(me,"didUserUnMute","didUserUnMute"),ae(me,"didUserAcceptInvitation","didUserAcceptInvitation"),ae(me,"didUserCollapse","didUserCollapse");var ge=function(e){function t(){return ue(this,t),re(this,ie(t).call(this))}return oe(t,ce),t}();ae(ge,"didAdStart","didAdStart"),ae(ge,"didAdFinish","didAdFinish"),ae(ge,"didAdError","didAdError"),ae(ge,"didAdImpression","didAdImpression"),ae(ge,"didAdClick","didAdClick"),ae(ge,"didAdOptout","didAdOptout"),ae(ge,"didAdLoad","didAdLoad"),ae(ge,"didAdPause","didAdPause"),ae(ge,"didAdPlay","didAdPlay"),ae(ge,"didAdReplay","didAdReplay"),ae(ge,"didAdSkip","didAdSkip"),ae(ge,"didAdStop","didAdStop"),ae(ge,"didAdClose","didAdClose"),ae(ge,"didAdVolumeChange","didAdVolumeChange"),ae(ge,"didAdMute","didAdMute"),ae(ge,"didAdUnMute","didAdUnMute"),ae(ge,"didAdSizeChange","didAdSizeChange"),ae(ge,"didAdEnterFullscreen","didAdEnterFullscreen"),ae(ge,"didAdExitFullscreen","didAdExitFullscreen"),ae(ge,"didAdVideoProgress","didAdVideoProgress"),ae(ge,"didAdVideoStart","didAdVideoStart"),ae(ge,"didAdVideoViewable","didAdVideoViewable"),ae(ge,"didAdVideoFirstQuartile","didAdVideoFirstQuartile"),ae(ge,"didAdVideoMidpoint","didAdVideoMidpoint"),ae(ge,"didAdVideoThirdQuartile","didAdVideoThirdQuartile"),ae(ge,"didAdVideoComplete","didAdVideoComplete");var be=function(e){function t(){return ue(this,t),re(this,ie(t).call(this))}return oe(t,ce),t}();ae(be,"click","click"),ae(be,"mute","mute"),ae(be,"unmute","unmute"),ae(be,"volumeChange","volumeChange"),ae(be,"pause","pause"),ae(be,"resume","resume"),ae(be,"rewind","rewind"),ae(be,"fullscreen","fullscreen"),ae(be,"close","close"),ae(be,"optout","optout"),ae(be,"acceptInvitation","acceptInvitation"),ae(be,"collapse","collapse"),ae(be,"expand","expand");var we=function(e){function t(){return ue(this,t),re(this,ie(t).call(this))}return oe(t,ce),t}();ae(we,"hidden","hidden"),ae(we,"normal","normal"),ae(we,"fullscreen","fullscreen");var Ae=function(e){function t(){return ue(this,t),re(this,ie(t).call(this))}return oe(t,ce),t}();ae(Ae,"AdError","AdError"),ae(Ae,"AdUserInteraction","AdUserInteraction"),ae(Ae,"didAdError","didAdError"),ae(Ae,"didAdSizeChange","didAdSizeChange"),ae(Ae,"willVastRequest","willVastRequest"),ae(Ae,"didVastRequest","didVastRequest"),ae(Ae,"willAdCreate","willAdCreate"),ae(Ae,"didAdCreate","didAdCreate"),ae(Ae,"willAdLoad","willAdLoad"),ae(Ae,"didAdLoad","didAdLoad"),ae(Ae,"willAdUnload","willAdUnload"),ae(Ae,"didAdUnload","didAdUnload"),ae(Ae,"willAdStart","willAdStart"),ae(Ae,"didAdStart","didAdStart"),ae(Ae,"willAdStop","willAdStop"),ae(Ae,"didAdStop","didAdStop"),ae(Ae,"willAdReplay","willAdReplay"),ae(Ae,"didAdReplay","didAdReplay"),ae(Ae,"willAdPlay","willAdPlay"),ae(Ae,"didAdPlay","didAdPlay"),ae(Ae,"willAdPause","willAdPause"),ae(Ae,"didAdPause","didAdPause"),ae(Ae,"willAdClose","willAdClose"),ae(Ae,"didAdClose","didAdClose"),ae(Ae,"willAdEnterFullscreen","willAdEnterFullscreen"),ae(Ae,"didAdEnterFullscreen","didAdEnterFullscreen"),ae(Ae,"willAdExitFullscreen","willAdExitFullscreen"),ae(Ae,"didAdExitFullscreen","didAdExitFullscreen"),ae(Ae,"willAdMute","willAdMute"),ae(Ae,"didAdMute","didAdMute"),ae(Ae,"willAdUnmute","willAdUnmute"),ae(Ae,"didAdUnmute","didAdUnmute"),ae(Ae,"willAdVolumeChange","willAdVolumeChange"),ae(Ae,"didAdVolumeChange","didAdVolumeChange"),ae(Ae,"willAdClick","willAdClick"),ae(Ae,"didAdClick","didAdClick"),ae(Ae,"willAdOptout","willAdOptout"),ae(Ae,"didAdOptout","didAdOptout"),ae(Ae,"didVideoProgress","didVideoProgress"),ae(Ae,"didVideoStart","didVideoStart"),ae(Ae,"didVideoFirstQuartile","didVideoFirstQuartile"),ae(Ae,"didVideoMidpoint","didVideoMidpoint"),ae(Ae,"didVideoThirdQuartile","didVideoThirdQuartile"),ae(Ae,"didVideoComplete","didVideoComplete"),ae(Ae,"didVideoEndedChange","didVideoEndedChange"),ae(Ae,"willAdImpression","willAdImpression"),ae(Ae,"didAdImpression","didAdImpression"),ae(Ae,"willAdViewable","willAdViewable"),ae(Ae,"didAdViewable","didAdViewable"),ae(Ae,"willAdUpdateLayout","willAdUpdateLayout"),ae(Ae,"didAdUpdateLayout","didAdUpdateLayout"),ae(Ae,"didUserEnterFullscreen","didUserEnterFullscreen"),ae(Ae,"didUserReplay","didUserReplay"),ae(Ae,"didUserPlay","didUserPlay"),ae(Ae,"didUserPause","didUserPause"),ae(Ae,"didUserMute","didUserMute"),ae(Ae,"didUserUnmute","didUserUnmute"),ae(Ae,"didUserVolumeChange","didUserVolumeChange"),ae(Ae,"didUserVideoClick","didUserVideoClick"),ae(Ae,"didUserOptout","didUserOptout"),ae(Ae,"didUserAcceptInvitation","didUserAcceptInvitation"),ae(Ae,"didUserCollapse","didUserCollapse"),ae(Ae,"didUserExpand","didUserExpand"),ae(Ae,"didUserClose","didUserClose");var ke=function(e){function t(){return ue(this,t),re(this,ie(t).call(this))}return oe(t,ce),le(t,null,[{key:"isRequested",value:function(e){return Boolean(e&this.request)}},{key:"isCreated",value:function(e){return Boolean(e&this.create)}},{key:"isLoaded",value:function(e){return Boolean(e&this.load)}},{key:"isUnloaded",value:function(e){return!this.isLoaded(e)}},{key:"isStarted",value:function(e){return Boolean(e&this.start)}},{key:"isStopped",value:function(e){return!this.isStarted(e)}},{key:"isPlayed",value:function(e){return Boolean(e&this.play)}},{key:"isPaused",value:function(e){return!this.isPlayed(e)}}]),t}();function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}ae(ke,"none",0),ae(ke,"request",1),ae(ke,"create",2),ae(ke,"load",4),ae(ke,"start",8),ae(ke,"play",16);var Ee,Ce,xe,Ve=m.a.namespace(),Oe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"isSupport",value:function(){return function(e){var t=Oe.osType,n=Oe.osVersion,r=Oe.browserType,i=Oe.browserVersion,o=Boolean(e);switch(t){case fe.Android:return!(n<4.4||r===pe.Chrome&&i<53);case fe.iOS:return!(n<8.3)&&(r===pe.Safari||o);case fe.Windows:return r===pe.Chrome&&50<=i||r===pe.Firefox&&48<=i||(r!==pe.IE?r!==pe.Edge?o:14<=i:11<=i);case fe.Mac:return r===pe.Chrome&&50<=i||r===pe.Firefox&&48<=i||(r!==pe.Safari?o:6.2<=i);default:return o}}(!(0<arguments.length&&void 0!==arguments[0])||arguments[0])}},{key:"browserType",get:function(){var e=Ve(this);return e.browserInfo||(e.browserInfo=Be(this.userAgent)),e.browserInfo.type}},{key:"browserVersion",get:function(){var e=Ve(this);return e.browserInfo||(e.browserInfo=Be(this.userAgent)),e.browserInfo.version}},{key:"osType",get:function(){var e=Ve(this);return e.osInfo||(e.osInfo=Re(this.userAgent)),e.osInfo.type}},{key:"osVersion",get:function(){var e=Ve(this);return e.osInfo||(e.osInfo=Re(this.userAgent)),e.osInfo.version}},{key:"mediaType",get:function(){var e=Ve(this);return e.mediaType||(e.mediaType=function(){var e=Oe.osType,t=Oe.osVersion;return e!==fe.iOS?he.Video:t<10?he.Canvas:he.Video}()),e.mediaType}},{key:"deviceType",get:function(){var e=Ve(this);if(!e.deviceType)switch(this.osType){case fe.Windows:case fe.Mac:e.deviceType=de.PC;break;case fe.iOS:case fe.Android:e.deviceType=de.SD;break;default:e.deviceType=de.Other}return e.deviceType}},{key:"isEnabledVideoPlayer",get:function(){return this.mediaType===he.Video}}],null&&Se(t.prototype,null),n&&Se(t,n),e}();function _e(e,t){var n=e.match(t);return Array.isArray(n)?n[1]:null}function Be(e){var t=["blackberry","bb10","chromium","gsa","kindle","lunascape","maxthon","netfront","nintendo","opr","opera","palemoon","playstation","puffin","qqbrowser","seamonkey","samsung","silk","sleipnir","ucbrowser","uc browser","ucweb","yabrowser","vivaldi"],n={type:pe.Other,version:0};try{for(var r=e.toLowerCase(),i=0;i<t.length;i++){var o=t[i];if(r.includes(o))return n}if(r.includes("trident/7"))return{type:pe.IE,version:11};if(r.includes("edge")){var a=Number(_e(r,/edge\/(\d+\.?\d*)[\.\d]*\s?/i))||0;return{type:pe.Edge,version:a}}if(r.includes("firefox")){var u=Number(_e(r,/firefox\/(\d+\.?\d*)[\.\d]*\s?/i))||0;return{type:pe.Firefox,version:u}}if(r.includes("chrome")){if(r.includes("version"))return n;var s=Number(_e(r,/chrome\/(\d+\.?\d*)[\.\d]*\s?/i))||0;return{type:pe.Chrome,version:s}}if(r.includes("safari")){if(r.includes("android"))return n;if(r.includes("crios")){var l=Number(_e(r,/crios\/(\d+\.?\d*)[\.\d]*\s?/i))||0;return{type:pe.Chrome,version:l}}if(r.includes("fxios")){var c=Number(_e(r,/fxios\/(\d+\.?\d*)[\.\d]*\s?/i))||0;return{type:pe.Firefox,version:c}}var d=Number(_e(r,/version\/(\d+\.?\d*)[\.\d]*\s?/i))||0;return{type:pe.Safari,version:d}}}catch(e){}return n}function Re(e){var t={type:fe.Other,version:0};try{var n=e.toLowerCase();if(n.includes("windows phone"))return t;if(n.includes("windows")){var r=Number(_e(n,/windows\snt\s(\d+\.?\d*)[\.\d]*;?/i))||0;return{type:fe.Windows,version:r}}if(n.includes("android")){var i=Number(_e(n,/android\s(\d+\.?\d*)[\.\d]*;?/i))||0;return{type:fe.Android,version:i}}if(n.includes("iphone")||n.includes("ipod")){var o=_e(n,/iphone\sos\s(\d+_?\d*)[_\d]*\s?/i);return o=Number(o.replace("_","."))||0,{type:fe.iOS,version:o}}if(n.includes("ipad")){var a=_e(n,/cpu\sos\s(\d+_?\d*)[_\d]*\s?/i);return a=Number(a.replace("_","."))||0,{type:fe.iOS,version:a}}if(n.includes("macintosh")){var u=_e(n,/mac\sos\sx\s(\d+[_\.]?\d*)[_\.\d]*\s?/i);return u=Number(u.replace("_","."))||0,{type:fe.Mac,version:u}}}catch(e){}return t}Ee=Oe,Ce="userAgent",xe=window.navigator.userAgent,Ce in Ee?Object.defineProperty(Ee,Ce,{value:xe,enumerable:!0,configurable:!0,writable:!0}):Ee[Ce]=xe;var Pe=Oe,Ie=["amazon-adsystem.com"],Fe=n(104),Te=n(105),je=n(106),Ue=n(107),ze=n(108),Le=n(109),De=n(110),Me=n(111),Ne=n(112),We=n(113),He=n(114),Qe=n(115),qe=n(116);function Ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ke=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};Ye(Ke,"defaultAdmarkButtonSrc",Fe),Ye(Ke,"defaultCloseButtonSrc",Te),Ye(Ke,"defaultDetailButtonSrc",je),Ye(Ke,"defaultFullscreenButtonSrc",Ue),Ye(Ke,"defaultLoadingButtonSrc",ze),Ye(Ke,"defaultOptoutButtonOnExpandSrc",Le),Ye(Ke,"defaultOptoutButtonSrc",De),Ye(Ke,"defaultPrButtonSrc",Me),Ye(Ke,"defaultReplayButtonSrc",Ne),Ye(Ke,"defaultVolumeOffButtonSrc",We),Ye(Ke,"defaultVolumeOnButtonSrc",He),Ye(Ke,"inreadVolumeOffButtonSrc",Qe),Ye(Ke,"inreadVolumeOnButtonSrc",qe),Ye(Ke,"defaultButtonSize",{width:24,height:24}),Ye(Ke,"admarkButtonSize",{width:20,height:20}),Ye(Ke,"closeButtonSize",Ke.defaultButtonSize),Ye(Ke,"detailButtonSize",Ke.defaultButtonSize),Ye(Ke,"fullscreenButtonSize",Ke.defaultButtonSize),Ye(Ke,"loadingButtonSize",{width:20,height:20}),Ye(Ke,"optoutButtonSize",{width:15,height:15}),Ye(Ke,"optoutButtonOnExpandSize",{width:105,height:105}),Ye(Ke,"replayButtonSize",Ke.defaultButtonSize),Ye(Ke,"volumeButtonSize",Ke.defaultButtonSize),Ye(Ke,"billboardDefaultButtonSize",{width:30,height:30}),Ye(Ke,"billboardCloseButtonSize",Ke.billboardDefaultButtonSize),Ye(Ke,"billboardDetailButtonSize",Ke.billboardDefaultButtonSize),Ye(Ke,"billboardFullscreenButtonSize",Ke.billboardDefaultButtonSize),Ye(Ke,"billboardLoadingButtonSize",{width:32,height:32}),Ye(Ke,"billboardReplayButtonSize",Ke.billboardDefaultButtonSize),Ye(Ke,"billboardVolumeButtonSize",Ke.billboardDefaultButtonSize),Ye(Ke,"infeedDefaultButtonSize",{width:20,height:20}),Ye(Ke,"infeedCloseButtonSize",Ke.infeedDefaultButtonSize),Ye(Ke,"infeedDetailButtonSize",Ke.infeedDefaultButtonSize),Ye(Ke,"infeedFullscreenButtonSize",Ke.infeedDefaultButtonSize),Ye(Ke,"infeedLoadingButtonSize",{width:25,height:25}),Ye(Ke,"infeedReplayButtonSize",Ke.infeedDefaultButtonSize),Ye(Ke,"infeedVolumeButtonSize",Ke.infeedDefaultButtonSize),Ye(Ke,"infeedPrButtonSize",Ke.infeedDefaultButtonSize),Ye(Ke,"inreadRTVolumeButtonSize",{width:22,height:22}),Ye(Ke,"inreadTimeBarSize",{width:0,height:3}),Ye(Ke,"inreadVolumeBarSize",{width:"100%",height:22}),Ye(Ke,"inreadVolumeButtonSize",{width:42,height:42}),Ye(Ke,"inreadVolumeSliderSize",{width:80,height:3}),Ye(Ke,"containerCloseButtonSize",{width:29,height:29}),Ye(Ke,"defaultContainerZIndex","50"),Ye(Ke,"defaultDialogZIndex","5000000"),Ye(Ke,"defaultWipePotision",{top:"auto",bottom:"20px",left:"auto",right:"20px"});var Ge=Ke;function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Je=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Xe(this,"urls",[]),Xe(this,"adContainers",[]),Xe(this,"noCloseButton",!1),Xe(this,"noFullscreenButton",!1),Xe(this,"noVolumeButton",!1),Xe(this,"noReplayButton",!1),Xe(this,"noDetailButton",!1),Xe(this,"noButton",!1),Xe(this,"adMark",!0),Xe(this,"optout",!1),Xe(this,"interface","sva"),Xe(this,"infeedStyle",{}),Xe(this,"targetElement",null),Xe(this,"impressionOffset",1),Xe(this,"viewableOffset",2),Xe(this,"inviewPercentage",50),Xe(this,"autoCloseDuration",NaN),Xe(this,"autoReplayTimes",0),Xe(this,"fullscreenOnAdClick",!1),Xe(this,"outviewSkip",!1),Xe(this,"noSlideDown",!1),Xe(this,"wrapperWidth",null),Xe(this,"wrapperHeight",null),Xe(this,"contentHeaderHeight",null),Xe(this,"contentFooterHeight",null),Xe(this,"tomeSize",{width:640,height:360}),Xe(this,"companionSize",{width:300,height:82}),Xe(this,"leftCompanionSize",{width:263,height:250}),Xe(this,"rightCompanionSize",{width:263,height:250}),Xe(this,"reminderSize",{width:300,height:50}),Xe(this,"headerSize",{width:640,height:60}),Xe(this,"passbackIframe",!0),Xe(this,"passbackIframeSize",{width:300,height:250}),Xe(this,"multiVastTimeout",1e3),Xe(this,"headerImgUrl",""),Xe(this,"underBlankLine",!1),Xe(this,"unsupportedBrowsers",!0),Xe(this,"wrapperBorder",!1),Xe(this,"eventCallback",null),Xe(this,"debug",!1),Xe(this,"isForceStartEnabled",!1),Xe(this,"isInviewCheckEnabled",null),Xe(this,"isInlineVideoSupport",!0),Xe(this,"isTextReminder",!1),Xe(this,"backgroundColor","rgb(0, 0, 0)"),Xe(this,"type","normal"),Xe(this,"iosCanvas",!1),Xe(this,"player",null),Xe(this,"wrapperAutoTateyoko",!1),this.setup(t)}var t,n;return t=e,(n=[{key:"setup",value:function(e){var t,n=e.target,r=e.dataset;if(!r)throw new Error("[".concat(this.constructor.name,"]: setup failed: Not declared dataset."));this.id=r.id||"",this.urls=r.urls||function(e){if(e.url)return[e.url];if(e.n&&e.c&&e.d&&e.s){var t="http://axp.zedo.com/asw/fnsr.vast?";return t+="n="+e.n+"&",t+="c="+e.c+"&",t+="d="+e.d+"&",t+="s="+e.s+"&",[t+="v=vast2&z="+1e3*Math.random()]}return null}(r)||this.urls,m.a.isNotEmpty(r.adContainers)&&(this.adContainers=m.a.deepCloneArray(r.adContainers));var i=m.a.toDecimalString(r.wrapperWidth,null,"%");if(m.a.isNotEmpty(i)&&(this.wrapperWidth=i),null===(t=r.wrapperHeight)||void 0===t?void 0:t.includes("auto"))this.wrapperHeight="auto";else{var o=m.a.toDecimalString(r.wrapperHeight,null,"%");m.a.isNotEmpty(o)&&(this.wrapperHeight=o)}var a=parseInt(r.wrapperZindex,10);isFinite(a)&&(this.wrapperZindex=a);var u=parseInt(r.contentHeaderHeight,10);isFinite(u)&&(this.contentHeaderHeight=u);var s=parseInt(r.contentFooterHeight,10);isFinite(s)&&(this.contentFooterHeight=s),this.noButton=m.a.isNotEmpty(r.noButton)?m.a.toBool(r.noButton):this.noButton,this.noButton?(this.noCloseButton=!0,this.noFullscreenButton=!0,this.noVolumeButton=!0,this.noReplayButton=!0,this.noDetailButton=!0):(this.noCloseButton=m.a.isNotEmpty(r.noCloseButton)?m.a.toBool(r.noCloseButton):this.noCloseButton,this.noFullscreenButton=m.a.isNotEmpty(r.noFullscreenButton)?m.a.toBool(r.noFullscreenButton):this.noFullscreenButton,this.noVolumeButton=m.a.isNotEmpty(r.noVolumeButton)?m.a.toBool(r.noVolumeButton):this.noVolumeButton,this.noReplayButton=m.a.isNotEmpty(r.noReplayButton)?m.a.toBool(r.noReplayButton):this.noReplayButton,this.noDetailButton=m.a.isNotEmpty(r.noDetailButton)?m.a.toBool(r.noDetailButton):this.noDetailButton),m.a.isNotEmpty(r.adMark)&&(this.adMark=m.a.toBool(r.adMark)),m.a.isNotEmpty(r.optout)&&(this.optout=m.a.toBool(r.optout)),"blank"!==r.interface&&"billboard"!==r.interface&&"infeed"!==r.interface&&"inread"!==r.interface&&"sva"!==r.interface||(this.interface=r.interface),this.infeedStyle=m.a.isNotEmpty(r.infeedStyle)?m.a.deepClone(r.infeedStyle):this.infeedStyle;var l=m.a.toDecimalString(r.areaNumber)||1,c=null;m.a.isNotEmpty(r.areaSelector)&&(c=document.getElementById(r.areaSelector)),m.a.isNotEmpty(r.areaSelectorByClassName)&&(c=document.getElementsByClassName(r.areaSelectorByClassName)[0]),m.a.isNotEmpty(c)?this.targetElement=c.children[l-1]:this.targetElement=n;var d=parseFloat(r.impressionOffset);0<=d&&(this.impressionOffset=d);var f=parseFloat(r.inviewPercentage);0<=f&&(this.inviewPercentage=f);var p=parseFloat(r.autoCloseDuration);0<=p&&(this.autoCloseDuration=p);var h=parseFloat(r.autoReplayTimes);0<=h&&(this.autoReplayTimes=h),this.fullscreenOnAdClick=m.a.isNotEmpty(r.fullscreenOnAdClick)?m.a.toBool(r.fullscreenOnAdClick):this.fullscreenOnAdClick,this.outviewSkip=m.a.isNotEmpty(r.outviewSkip)?m.a.toBool(r.outviewSkip):this.outviewSkip,this.noSlideDown=m.a.isNotEmpty(r.noSlideDown)?m.a.toBool(r.noSlideDown):this.noSlideDown,m.a.isNotEmpty(r.isForceStartEnabled)&&(this.isForceStartEnabled=m.a.toBool(r.isForceStartEnabled)),m.a.isNotEmpty(r.isInviewCheckEnabled)&&(this.isInviewCheckEnabled=m.a.toBool(r.isInviewCheckEnabled)),this.wrapperAutoTateyoko=m.a.isNotEmpty(r.wrapperAutoTateyoko)?m.a.toBool(r.wrapperAutoTateyoko):this.wrapperAutoTateyoko,this.tomeSize=m.a.stringToSize(r.tomeSize)||this.tomeSize,this.companionSize=m.a.stringToSize(r.companionSize)||this.companionSize,this.leftCompanionSize=m.a.stringToSize(r.leftCompanionSize)||this.leftCompanionSize,this.rightCompanionSize=m.a.stringToSize(r.rightCompanionSize)||this.rightCompanionSize,this.reminderSize=m.a.stringToSize(r.reminderSize)||this.reminderSize,this.headerSize=m.a.stringToSize(r.headerSize)||this.headerSize,m.a.isNotEmpty(r.passbackIframe)&&(this.passbackIframe=m.a.toBool(r.passbackIframe));var v=m.a.stringToSize(r.passbackIframeSize,{width:r.passbackIframeWidth,height:r.passbackIframeHeight});v&&((0<=parseInt(v.width,10)||"auto"===v.width)&&(this.passbackIframeSize.width=v.width),(0<=parseInt(v.height,10)||"auto"===v.height)&&(this.passbackIframeSize.height=v.height)),this.multiVastTimeout=parseInt(r.multiVastTimeout,10)||this.multiVastTimeout,this.headerImgUrl=r.headerImgUrl||this.headerImgUrl,this.underBlankLine=m.a.isNotEmpty(r.underBlankLine)?m.a.toBool(r.underBlankLine):this.underBlankLine,m.a.isNotEmpty(r.unsupportedBrowsers)&&(this.unsupportedBrowsers=m.a.toBool(r.unsupportedBrowsers)),this.wrapperBorder=m.a.isNotEmpty(r.wrapperBorder)?m.a.toBool(r.wrapperBorder):this.wrapperBorder,this.eventCallback=m.a.isFunction(r.eventCallback)?r.eventCallback:this.eventCallback,m.a.isNotEmpty(r.isInlineVideoSupport)&&(this.isInlineVideoSupport=m.a.toBool(r.isInlineVideoSupport)),m.a.isNotEmpty(r.isTextReminder)&&(this.isTextReminder=m.a.toBool(r.isTextReminder));var y=r.adEventTimeout;if(m.a.isNotEmpty(y)){var g=parseFloat(y);this.adEventTimeout=0<g?g:m.a.deepClone(r.adEventTimeout)}return this.type=function(e){return m.a.toBool(e.adhesion)?"adhesion":m.a.toBool(e.interstitial)?"interstitial":m.a.toBool(e.overlay)?"overlay":m.a.toBool(e.wipe)?"wipe":"normal"}(r),this.debug=m.a.isNotEmpty(r.debug)?m.a.toBool(r.debug):this.debug,this}}])&&Ze(t.prototype,n),e}(),$e=y;function et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rt(e,t,n){return(rt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=it(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function at(e,t,n){return t&&ot(e.prototype,t),n&&ot(e,n),e}function ut(e,t){return(ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(151);var lt=function(e){function t(){var e,n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,st(nt(e=!(n=it(t).call(this))||"object"!==tt(n)&&"function"!=typeof n?nt(this):n),"param",null),st(nt(e),"element",null),st(nt(e),"delegate",null),st(nt(e),"_lastSize",{width:0,height:0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ut(e,t)}(t,o.IvtEventTarget),at(t,[{key:"isClass",get:function(){return!0}}]),at(t,[{key:"setup",value:function(e,t){var n=this;return this.createParam(t),this.createElement(e),this.element.on("click",function(e){n.clicked(e)}),this.element.on("mouseover",function(e){n.onMouseover(e)}),this.element.on("mouseout",function(e){n.onMouseout(e)}),this}},{key:"createParam",value:function(e){this.param=function(e){var t=[].concat(e,{style:{margin:"0 auto",visibility:"visible"},option:{layout:"",sources:{}}}).reverse(),n=m.a.deepMerge.apply(void 0,t);return n.style.top||n.style.bottom||n.style.left||n.style.right||(n.style.top=n.option.top,n.style.bottom=n.option.bottom,n.style.left=n.option.left,n.style.right=n.option.right),n.style.top||n.style.bottom||n.style.left||n.style.right||(n.option.layout.includes("contain")?n.style.top=n.style.bottom=n.style.left=n.style.right=0:(n.option.layout.includes("top")&&(n.style.top=0),n.option.layout.includes("bottom")&&(n.style.bottom=0),n.option.layout.includes("left")&&(n.style.left=0),n.option.layout.includes("right")&&(n.style.right=0))),n.option.size&&(n.size=n.option.size),n.style.width&&(n.size=n.size||{},n.size.width=n.style.width),n.style.height&&(n.size=n.size||{},n.size.height=n.style.height),n.size&&(m.a.isEmpty(n.size.width)||m.a.isEmpty(n.size.height))&&(n.size=null),m.a.isEmpty(n.sources)&&(n.sources=n.option.sources),n}(e)}},{key:"createElement",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div";this.element=this.createNode(i.createElement,e,this.param)}},{key:"createNode",value:function(e,t,n){return function(e,t,n){for(var r=e(t),i=Object.entries(n),o=0;o<i.length;o++){var a=et(i[o],2),u=a[0],s=a[1];switch(u){case"attributes":for(var l=Object.entries(s),c=0;c<l.length;c++){var d=et(l[c],2),f=d[0],p=d[1];r.setAttribute(f,p)}break;case"dataset":case"style":for(var h=Object.entries(s),v=0;v<h.length;v++){var y=et(h[v],2),g=y[0],b=y[1];r[u][g]=b}break;case"sources":var w=r.src||s.normal;w&&(r.src=w);break;default:if(m.a.isFunction(s)){var A=u;u.startsWith("on")&&(A=A.toLowerCase().replace(/^on/,"")),r.on(A,s)}else r[u]=s}}return r}(e,t,n)}},{key:"clear",value:function(){var e,n,r=this.delegate;null===(e=this.element)||void 0===e||e.clear(),this.element=null,this.param=null,this.delegate=null,rt(it(t.prototype),"clear",this).call(this),null==r||null===(n=r.onViewUnload)||void 0===n||n.call(r)}},{key:"show",value:function(){var e;null===(e=this.element)||void 0===e||e.show()}},{key:"hide",value:function(){var e;null===(e=this.element)||void 0===e||e.hide()}},{key:"fadein",value:function(){var e;return null===(e=this.element)||void 0===e?void 0:e.fadein()}},{key:"fadeout",value:function(){var e;return null===(e=this.element)||void 0===e?void 0:e.fadeout()}},{key:"resize",value:function(e){}},{key:"updateLayout",value:function(){return null}},{key:"appendView",value:function(e){var t,n=null==e?void 0:e.element;n&&(null===(t=this.element)||void 0===t||t.appendChild(n))}},{key:"removeView",value:function(e){var t,n=null==e?void 0:e.element;n&&(null===(t=this.element)||void 0===t||t.removeChild(n))}},{key:"removeFromParent",value:function(){var e,t;null===(e=this.element)||void 0===e||null===(t=e.parentElement)||void 0===t||t.removeChild(this.element)}},{key:"isInview",value:function(e,t,n){var r=t||0,i=n||0;return(isFinite(e)?e:0)<=this.inviewPercentage(r,i)}},{key:"inviewPercentage",value:function(e,t){return this.element?this.element.inviewPercentage(e,t):0}},{key:"clicked",value:function(e){e.stopPropagation(),this.log.debug("onClick"),this.onClick()}},{key:"onClick",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onViewClick)||void 0===t||t.call(e,this)}},{key:"onMouseover",value:function(e){this.param.sources.mouseover&&(this.element.src=this.param.sources.mouseover)}},{key:"onMouseout",value:function(e){this.param.sources.mouseout&&(this.element.src=this.param.sources.mouseout)}},{key:"isHidden",get:function(){return!this.element||this.element.isHidden},set:function(e){this.element&&(this.element.isHidden=e)}},{key:"size",get:function(){return this.element?this.element.size:null}},{key:"style",get:function(){return this.element?this.element.style:null}},{key:"parentWidth",get:function(){var e,t=0,n=null===(e=this.element)||void 0===e?void 0:e.parentElement;return n&&"fixed"!==window.getComputedStyle(this.element).position&&(t=n.offsetWidth),0<t||(t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0),t}}]),t}();function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dt(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function ft(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){dt(o,r,i,a,u,"next",e)}function u(e){dt(o,r,i,a,u,"throw",e)}a(void 0)})}}function pt(e,t){return!t||"object"!==ct(t)&&"function"!=typeof t?ht(e):t}function ht(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vt(e,t,n){return(vt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=yt(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wt(e,t,n){return t&&bt(e.prototype,t),n&&bt(e,n),e}function At(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kt=Ge.defaultDialogZIndex,St=function(){function e(t){gt(this,e),At(this,"element",null),At(this,"resolve",null),At(this,"reject",null),At(this,"timeoutID",null),At(this,"bindedTransitionEnd",null),this.element=t,this.bindedTransitionEnd=this.transitionEnd.bind(this),this.element.addEventListener("transitionend",this.bindedTransitionEnd,!1)}return wt(e,[{key:"clear",value:function(){var e;this.resetHandler(),null===(e=this.element)||void 0===e||e.removeEventListener("transitionend",this.bindedTransitionEnd,!1),this.element=null,this.bindedTransitionEnd=null}},{key:"on",value:function(){var t=this;return this.cancelTransition(),new Promise(function(n,r){t.resolve=n,t.reject=r;var i=t.element,o=window.getComputedStyle(i).transitionDuration,a=m.a.cssTimeStringToMillisecondsNumber(o,0);if(0<a){var u=a+e.offsetDuration;t.timeoutID=window.setTimeout(function(){t.cancelTransition()},u)}else t.finishTransition()})}},{key:"off",value:function(){this.cancelTransition()}},{key:"transitionEnd",value:function(e){this.finishTransition()}},{key:"finishTransition",value:function(){var e=this.resolve;this.resetHandler(),null==e||e(!0)}},{key:"cancelTransition",value:function(){var e=this.resolve;this.resetHandler(),null==e||e(!1)}},{key:"resetHandler",value:function(){window.clearTimeout(this.timeoutID),this.resolve=null,this.reject=null}}]),e}();At(St,"offsetDuration",100);var Et=function(e){function t(){var e;return gt(this,t),At(ht(e=pt(this,yt(t).call(this))),"id",""),At(ht(e),"isInviewStatus",!1),At(ht(e),"displayStatus",null),At(ht(e),"adView",null),At(ht(e),"adToolbar",null),At(ht(e),"_isLoaded",!1),At(ht(e),"_styleElement",null),At(ht(e),"_transitionFinish",null),e}var n,r,i,o;return mt(t,lt),wt(t,[{key:"setup",value:function(e){var n=e||{},r=n.id,i=n.adView,o=n.adToolbar,a=n.attributes;return a.id=r,vt(yt(t.prototype),"setup",this).call(this,"div",a),this.id=r,this.adView=i,this.adToolbar=o,this._transitionFinish=new St(this.element),this._isLoaded=!1,this.adView&&this.appendView(this.adView),this.adToolbar&&this.appendView(this.adToolbar),this.element.style.padding="",this}},{key:"clear",value:function(){var e,n,r,i;this.id=null,this.isInviewStatus=null,(this.displayStatus=null)===(e=this.adView)||void 0===e||e.clear(),(this.adView=null)===(n=this.adToolbar)||void 0===n||n.clear(),(this.adToolbar=null)===(r=this._transitionFinish)||void 0===r||r.clear(),this._transitionFinish=null,this._styleElement&&(null===(i=this._styleElement.parentElement)||void 0===i||i.removeChild(this._styleElement),this._styleElement=null),this._isLoaded=!1,vt(yt(t.prototype),"clear",this).call(this)}},{key:"load",value:(o=ft(regeneratorRuntime.mark(function e(){var t,n,r,i,o,a,u,s,l,c,d,f,p,h,v,y,g,b,w;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._isLoaded)return e.abrupt("return");e.next=2;break;case 2:this._isLoaded=!0,u=this.config,s=this.element,l=u.width,c=u.height,s.style.width=l,s.style.height=c,this.adView.updateLayout(),/auto/.test(c)&&(c=this.adView.element.scrollHeight,d=parseInt(this.adView.element.style.borderTopWidth,10),f=parseInt(this.adView.element.style.borderBottomWidth,10),c+=(d=0<d?d:0)+(f=0<f?f:0),/%|vw/.test(l)&&(p=this.parentWidth,h=Number(c/p*100).toFixed(2),c=h+"%")),s.style.width="",s.style.height="",Fu.configStore.initCss(u,l,c),v=Ct(this),m.a.isEmpty(v.sheet.rules)&&((null===(y=u.cssRules)||void 0===y?void 0:y.disappear)&&v.sheet.insertRule(u.cssRules.disappear.style,0),(null===(g=u.cssRules)||void 0===g?void 0:g.appear)&&v.sheet.insertRule(u.cssRules.appear.style,0),(null===(b=u.cssRules)||void 0===b?void 0:b.load)&&v.sheet.insertRule(u.cssRules.load.style,0),(null===(w=u.cssRules)||void 0===w?void 0:w.base)&&v.sheet.insertRule(u.cssRules.base.style,0)),(null===(t=u.cssRules)||void 0===t?void 0:null===(n=t.base)||void 0===n?void 0:n.selector)&&s.classList.add(u.cssRules.base.selector),(null===(r=u.cssRules)||void 0===r?void 0:null===(i=r.load)||void 0===i?void 0:i.selector)&&s.classList.add(u.cssRules.load.selector),this.updateInviewTarget(),s.getBoundingClientRect(),"shouldAppear"===this.displayStatus&&(null===(o=u.cssRules)||void 0===o?void 0:o.appear)?this.appear():"shouldDisappear"===this.displayStatus&&(null===(a=u.cssRules)||void 0===a?void 0:a.disappear)&&this.disappear();case 21:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"unload",value:(i=ft(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.element)||void 0===t?void 0:t.fadeout();case 2:this.clear();case 3:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"appear",value:(r=ft(regeneratorRuntime.mark(function e(){var t,n,r,i,o,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.config,o=this.element,null===(t=i.cssRules)||void 0===t?void 0:t.appear){e.next=5;break}return this.displayStatus="shouldAppear",e.abrupt("return",!1);case 5:if("willAppear"===this.displayStatus||"didAppear"===this.displayStatus)return this.log.debug("appear(); willAppear||didAppear."),e.abrupt("return",!1);e.next=10;break;case 10:this.log.debug("appear(); not willAppear||didAppear. displayStatus: ".concat(this.displayStatus)),this.displayStatus="willAppear";case 12:return null===(n=this.adToolbar)||void 0===n||n.appear(),(null===(r=i.cssRules)||void 0===r?void 0:r.appear)&&(o.classList.remove(null===(a=i.cssRules.load)||void 0===a?void 0:a.selector),o.classList.remove(null===(u=i.cssRules.disappear)||void 0===u?void 0:u.selector),o.classList.add(i.cssRules.appear.selector)),e.next=16,this._transitionFinish.on();case 16:return e.sent,this.displayStatus="didAppear",this.updateInviewTarget(),this.log.debug("appear(); transitionFinish."),e.abrupt("return",!0);case 21:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)})},{key:"disappear",value:(n=ft(regeneratorRuntime.mark(function e(){var t,n,r,i,o,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.config,o=this.element,null===(t=i.cssRules)||void 0===t?void 0:t.disappear){e.next=5;break}return this.displayStatus="shouldDisappear",e.abrupt("return",!1);case 5:if("willDisappear"===this.displayStatus||"didDisappear"===this.displayStatus)return e.abrupt("return",!1);e.next=9;break;case 9:if(m.a.isEmpty(this.displayStatus))return e.abrupt("return",!1);e.next=13;break;case 13:this.displayStatus="willDisappear";case 14:return null===(n=this.adToolbar)||void 0===n||n.disappear(),(null===(r=i.cssRules)||void 0===r?void 0:r.disappear)&&(o.classList.remove(null===(a=i.cssRules.load)||void 0===a?void 0:a.selector),o.classList.remove(null===(u=i.cssRules.appear)||void 0===u?void 0:u.selector),o.classList.add(i.cssRules.disappear.selector)),e.next=18,this._transitionFinish.on();case 18:return e.sent,this.displayStatus="didDisappear",this.updateInviewTarget(),e.abrupt("return",!0);case 22:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"updateInviewStatus",value:function(e){var t,n,r=this.config.inviewPercentage,i=this.config.contentHeaderHeight,o=this.config.contentFooterHeight,a=this.isInview(r,i,o);return a===this.isInviewStatus?a:(a?(this.isInviewStatus=!0,null===(t=this.delegate)||void 0===t||t.onContainerInview()):(this.isInviewStatus=!1,null===(n=this.delegate)||void 0===n||n.onContainerOutview()),a)}},{key:"updateInviewTarget",value:function(){var e=window.getComputedStyle(this.element);if("fixed"===(null==e?void 0:e.position)){var t,n=null===(t=Fu.rootAdContainer)||void 0===t?void 0:t.view.element;this._inviewTarget=n||this.element}else this._inviewTarget=this.element}},{key:"inviewPercentage",value:function(e,t){return this._inviewTarget?this._inviewTarget.inviewPercentage(e,t):0}},{key:"config",get:function(){return Fu.getConfig(this.id)}}]),t}();function Ct(e){var t=e;if(!t._styleElement){var n=document.createElement("style");n.type="text/css",n.appendChild(document.createTextNode("")),t.element.insertBefore(n,t.element.firstChild),t._styleElement=n}return t._styleElement}var xt=function(e){function t(){return gt(this,t),pt(this,yt(t).call(this))}var n,r,i;return mt(t,Et),wt(t,[{key:"setup",value:function(e){var n=e||{},r=n.attributes||{},i=m.a.deepMerge({},{className:"dac-ivt-root-container",style:{position:"relative",margin:"auto"}},r);return n.attributes=i,vt(yt(t.prototype),"setup",this).call(this,n),this}},{key:"load",value:(i=ft(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}},e)})),function(){return i.apply(this,arguments)})},{key:"appear",value:(r=ft(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)})},{key:"disappear",value:(n=ft(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)})}]),t}(),Vt=function(e){function t(){return gt(this,t),pt(this,yt(t).call(this))}return mt(t,Et),wt(t,[{key:"setup",value:function(e){var n=e||{},r=n.attributes||{},i=m.a.deepMerge({},{className:"dac-ivt-normal-container",style:{position:"relative",margin:"auto"}},r);return n.attributes=i,vt(yt(t.prototype),"setup",this).call(this,n),this}}]),t}(),Ot=function(e){function t(){return gt(this,t),pt(this,yt(t).call(this))}return mt(t,Et),wt(t,[{key:"setup",value:function(e){var n=e||{},r=n.attributes||{},i=m.a.deepMerge({},{attributes:{className:"dac-ivt-interstitial-container"},style:{position:"absolute",top:"50%",bottom:"",left:"50%",right:"",webkitTransform:"translate(-50%,-50%)",transform:"translate(-50%,-50%)",zIndex:"0"}},r);n.attributes=i,vt(yt(t.prototype),"setup",this).call(this,n);var o=this.config,a=Fu.adContainerStore.rootAdContainer.view.element;return a.style.position="fixed",a.style.top="0px",a.style.bottom="",a.style.left="0px",a.style.right="",a.style.width="100vw",a.style.height="100vh",a.style.backgroundColor="rgba(0, 0, 0, 0.8)",a.style.zIndex=m.a.exist(o.zIndex,kt),this}}]),t}(),_t=function(e){function t(){var e;return gt(this,t),At(ht(e=pt(this,yt(t).call(this))),"_safeframe",null),e._safeframe=m.a.safeFrame,e}return mt(t,Et),wt(t,[{key:"setup",value:function(e){var n=e||{},r=Fu.getConfig(n.id);if(this._safeframe){var i=this._safeframe,o=parseInt((null==r?void 0:r.height)||0,10),a=i.ext.geom(),u=a.exp;i.ext.register(a.self.w,a.self.h,function(){});var s={push:!1};s.l=Math.min(a.self.l,u.l),s.r=Math.min(a.win.w-a.self.w,u.r),s.b=Math.min(o-a.self.h,u.b),i.ext.expand(s),n.attributes=null,vt(yt(t.prototype),"setup",this).call(this,n)}else{var l=m.a.exist(null==r?void 0:r.contentHeaderHeight,0),c={className:"dac-ivt-adhesion-container",style:{position:"fixed",top:"".concat(l,"px"),left:"50%",right:"50%",marginLeft:"-50vw",marginRight:"-50vw",backgroundColor:"#000"}},d=n.attributes||{},f=m.a.deepMerge({},c,d);n.attributes=f,vt(yt(t.prototype),"setup",this).call(this,n)}var p=this.adView;return p.style.width=r.width,p.style.height=r.height,Fu.configStore.setSize(r,{width:"100vw"}),this}},{key:"clear",value:function(){var e;null===(e=this._safeframe)||void 0===e||e.ext.collapse(),this._safeframe=null,vt(yt(t.prototype),"clear",this).call(this)}}]),t}(),Bt=function(e){function t(){return gt(this,t),pt(this,yt(t).call(this))}return mt(t,Et),wt(t,[{key:"setup",value:function(e){var n=e||{},r=Fu.getConfig(n.id),i=m.a.exist(null==r?void 0:r.contentFooterHeight,0),o={className:"dac-ivt-overlay-container",style:{position:"fixed",bottom:"".concat(i,"px"),left:"50%",right:"50%",marginLeft:"-50vw",marginRight:"-50vw",backgroundColor:"#000"}},a=n.attributes||{},u=m.a.deepMerge({},o,a);n.attributes=u,vt(yt(t.prototype),"setup",this).call(this,n);var s=this.adView;return s.style.width=r.width,s.style.height=r.height,Fu.configStore.setSize(r,{width:"100vw"}),this}}]),t}(),Rt=function(e){function t(){return gt(this,t),pt(this,yt(t).call(this))}return mt(t,Et),wt(t,[{key:"setup",value:function(e){var n=e||{},r=n.attributes||{},i=m.a.deepMerge({},{className:"dac-ivt-wipe-container",style:{position:"fixed"}},r);return n.attributes=i,vt(yt(t.prototype),"setup",this).call(this,n),this}}]),t}();function Pt(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function It(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){Pt(o,r,i,a,u,"next",e)}function u(e){Pt(o,r,i,a,u,"throw",e)}a(void 0)})}}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Tt=new p("AdStore");function jt(e,t){return function(){return It(regeneratorRuntime.mark(function e(t,n){var r,i,o,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=2<u.length&&void 0!==u[2]?u[2]:null,e.prev=1,i=Promise.all(t.map(function(e){return e(n)})),0<r)return e.next=6,a.timeout(i,r);e.next=10;break;case 6:return o=e.sent,e.abrupt("return",o);case 10:return e.next=12,i;case 12:return e.abrupt("return",e.sent);case 13:e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(1),Tt.debug("_notify(nmae: ".concat(null==n?void 0:n.name,", ); error = '").concat(null===e.t0||void 0===e.t0?void 0:e.t0.message,"'.")),e.t0;case 19:case"end":return e.stop()}},e,null,[[1,15]])})).apply(this,arguments)}.apply(this,arguments)}function Ut(e){var t,n=null===(t=Fu.option)||void 0===t?void 0:t.adEventTimeout,r=n;return 0<r?r:0<(r=null==n?void 0:n[e])?r:0<(r=null==n?void 0:n.base)?r:null}var zt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.listeners=[],this.isFullscreened=!1,this.isMuted=!0,this.volume=0,this.status=ke.none,this.lastEvent="none",this._replayTimes=0,this._isEnded=!0,this._vast=null,this.pausedReason=0}var t,n,r,i,o,a,u,s,l,c,d,f;return t=e,n=[{key:"clear",value:function(){this.listeners=[],this.isFullscreened=!1,this.isMuted=!0,this.volume=0,this.status=ke.none,this.lastEvent="none",this._replayTimes=0,this._isEnded=!0,this._vast=null,this.pausedReason=0}},{key:"addObsever",value:function(e){this.listeners.indexOf(e)<0&&this.listeners.push(e)}},{key:"removeObsever",value:function(e){this.listeners=this.listeners.filter(function(t){return t!==e})}},{key:"addPausedReason",value:function(e){this.pausedReason=m.a.addFlag(this.pausedReason,e)}},{key:"removePausedReason",value:function(e){this.pausedReason=m.a.removeFlag(this.pausedReason,e)}},{key:"isPausedReason",value:function(e){return m.a.isFlag(this.pausedReason,e)}},{key:"setLastEvent",value:(f=It(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:"lastEvent",oldValue:null,newValue:t},this.lastEvent=m.a.deepClone(t),r=t.name,i=Ut(r),m.a.isNotExist(i)&&(i=null==t?void 0:t.timeout),e.next=7,jt(this.listeners,n,i);case 7:case"end":return e.stop()}},e,this)})),function(e){return f.apply(this,arguments)})},{key:"addState",value:(d=It(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._setState(m.a.addFlag(this.status,t));case 2:case"end":return e.stop()}},e,this)})),function(e){return d.apply(this,arguments)})},{key:"removeState",value:(c=It(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._setState(m.a.removeFlag(this.status,t));case 2:case"end":return e.stop()}},e,this)})),function(e){return c.apply(this,arguments)})},{key:"isState",value:(l=It(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isFlag(status,t);case 2:case"end":return e.stop()}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"_setState",value:(s=It(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:"status",oldValue:this.status,newValue:t},this.status=t,e.next=4,jt(this.listeners,n);case 4:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"setIsMuted",value:(u=It(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:"isMuted",oldValue:this.isMuted,newValue:t},this.isMuted=t,e.next=4,jt(this.listeners,n);case 4:case"end":return e.stop()}},e,this)})),function(e){return u.apply(this,arguments)})},{key:"setVolume",value:(a=It(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:"volume",oldValue:this.volume,newValue:t},this.volume=t,e.next=4,jt(this.listeners,n);case 4:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"setIsFullscreened",value:(o=It(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:"isFullscreened",oldValue:this.isFullscreened,newValue:t},this.isFullscreened=t,e.next=4,jt(this.listeners,n);case 4:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"setIsEnded",value:function(e){this._isEnded=e}},{key:"setVast",value:function(e){this._vast=e}},{key:"incrementReplayTimes",value:function(){this._replayTimes+=1}},{key:"isStarted",get:function(){return ke.isStarted(this.status)}},{key:"isStopped",get:function(){return ke.isStopped(this.status)}},{key:"isPlayed",get:function(){return ke.isPlayed(this.status)}},{key:"isPaused",get:function(){return ke.isPaused(this.status)}},{key:"isEmptyPausedReason",get:function(){return 0===this.pausedReason}},{key:"isEnded",get:function(){return this._isEnded}},{key:"vast",get:function(){return this._vast}},{key:"replayTimes",get:function(){return this._replayTimes}}],r=[{key:"changed",value:(i=It(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("lastEvent"===n.name)return a=null===(r=n.newValue)||void 0===r?void 0:r.name,e.next=4,null===(i=t[a])||void 0===i?void 0:i.call(t,null===(o=n.newValue)||void 0===o?void 0:o.detail);e.next=5;break;case 4:return e.abrupt("return",e.sent);case 5:if("status"===n.name)return null===(u=n.newValue)||void 0===u||u.name,e.next=9,null===(s=t.didAdStatusChange)||void 0===s?void 0:s.call(t,n.newValue,n.oldValue);e.next=10;break;case 9:return e.abrupt("return",e.sent);case 10:return e.abrupt("return",Promise.resolve());case 11:case"end":return e.stop()}},e)})),function(e,t){return i.apply(this,arguments)})}],n&&Ft(t.prototype,n),r&&Ft(t,r),e}();function Lt(e){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dt(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function Mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wt(e,t,n){return(Wt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ht(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ht(e){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qt(e,t){return(Qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yt=m.a.namespace(),Kt=function(e){function t(){var e,n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,qt(Nt(e=!(n=Ht(t).call(this))||"object"!==Lt(n)&&"function"!=typeof n?Nt(this):n),"view",null),qt(Nt(e),"isDidLoad",!1),qt(Nt(e),"_adStoreChangedFunc",null),e.log.debug("constructor();"),e._adStoreChangedFunc=zt.changed.bind(null,Nt(e)),Fu.adStore.addObsever(e._adStoreChangedFunc),e}var n,i,a,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qt(e,t)}(t,o.IvtEventTarget),n=t,(i=[{key:"setup",value:function(e){this.log.debug("setup(parameter: ".concat(e,");"));var t=(e||{}).view;if(m.a.isEmpty(t))throw new Error("setup failed: Not declared view.");return t.delegate=this,Yt(this).size=new r.IvtSize("100%","100%"),this.view=t,this}},{key:"clear",value:function(){var e;this.log.debug("clear();"),Fu.adStore.removeObsever(this._adStoreChangedFunc),this._adStoreChangedFunc=null,(Yt(this).size=null)===(e=this.view)||void 0===e||e.clear(),this.view=null,Wt(Ht(t.prototype),"clear",this).call(this)}},{key:"updateLayout",value:function(){var e;this.log.debug("updateLayout();"),null===(e=this.view)||void 0===e||e.resize(this.size)}},{key:"willAdResize",value:(a=regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.log.debug("resize(width: ".concat(t.width,", height: ").concat(t.height,");")),null===(n=this.view)||void 0===n||n.resize(this.size),e.abrupt("return",Promise.resolve());case 3:case"end":return e.stop()}},e,this)}),u=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=a.apply(e,t);function o(e){Dt(i,n,r,o,u,"next",e)}function u(e){Dt(i,n,r,o,u,"throw",e)}o(void 0)})},function(e){return u.apply(this,arguments)})},{key:"onViewClick",value:function(e){this.log.debug("onViewClick.")}},{key:"size",get:function(){return Yt(this).size.clone()},set:function(e){Yt(this).size=e}}])&&Mt(n.prototype,i),t}();function Gt(e){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zt(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function Xt(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){Zt(o,r,i,a,u,"next",e)}function u(e){Zt(o,r,i,a,u,"throw",e)}a(void 0)})}}function Jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function en(e,t,n){return(en="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=tn(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function tn(e){return(tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nn(e,t){return(nn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rn=function(e){function t(){var e,n,i;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,e=!(n=tn(t).call(this))||"object"!==Gt(n)&&"function"!=typeof n?$t(this):n,"","id"in(i=$t(e))?Object.defineProperty(i,"id",{value:"",enumerable:!0,configurable:!0,writable:!0}):i.id="",e.size=new r.IvtSize("auto","auto"),e}var n,i,o,a,u,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nn(e,t)}(t,Kt),n=t,(i=[{key:"setup",value:function(e){var n,r=e||{};return r.id||(r.id=null===(n=r.view)||void 0===n?void 0:n.id),en(tn(t.prototype),"setup",this).call(this,r),this.id=r.id,this}},{key:"didAdLoad",value:(s=Xt(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.log.debug("didAdLoad();"),this.view.load();case 2:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"didAdStop",value:(u=Xt(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.log.debug("didAdStop();"),"wipe"===this.view.type&&this.view.disappear();case 2:case"end":return e.stop()}},e,this)})),function(){return u.apply(this,arguments)})},{key:"willAdClose",value:(a=Xt(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.log.debug("willAdClose();"),e.next=3,null===(t=this.view.element)||void 0===t?void 0:null===(n=t.fadeout)||void 0===n?void 0:n.call(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"willAdUnload",value:(o=Xt(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.view.unload();case 2:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"onContainerInview",value:function(){Kl.adContainerAction.inview(this.id)}},{key:"onContainerOutview",value:function(){Kl.adContainerAction.outview(this.id)}},{key:"onViewUnload",value:function(){this.clear()}},{key:"config",get:function(){return Fu.getConfig(this.id)}}])&&Jt(n.prototype,i),t}();function on(e){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function an(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sn(e,t,n){return t&&un(e.prototype,t),n&&un(e,n),e}function ln(e,t){return!t||"object"!==on(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function cn(e,t,n){return(cn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dn(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function dn(e){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}var pn=new r.IvtSize(Ge.defaultButtonSize.width,Ge.defaultButtonSize.height),hn=function(e){function t(){return an(this,t),ln(this,dn(t).call(this))}return fn(t,lt),sn(t,[{key:"setup",value:function(e){return cn(dn(t.prototype),"setup",this).call(this,"img",e),this}},{key:"createParam",value:function(e){var n=[].concat(e,{style:{cursor:"pointer",position:"absolute",zIndex:"80"},option:{size:pn}});cn(dn(t.prototype),"createParam",this).call(this,n)}}]),t}(),vn=function(e){function t(e){return an(this,t),ln(this,dn(t).call(this))}return fn(t,lt),sn(t,[{key:"setup",value:function(e){return cn(dn(t.prototype),"setup",this).call(this,"div",e),this}},{key:"createParam",value:function(e){var n=[].concat(e,{style:{cursor:"pointer",zIndex:"80"},option:{size:pn}});cn(dn(t.prototype),"createParam",this).call(this,n)}}]),t}(),yn=function(e){function t(){return an(this,t),ln(this,dn(t).call(this))}return fn(t,lt),sn(t,[{key:"setup",value:function(e){var n=this;return cn(dn(t.prototype),"setup",this).call(this,"input",e),this.element.on("input",function(e){n.onInput(e)}),this.element.on("change",function(e){n.onChange(e)}),this}},{key:"createParam",value:function(e){cn(dn(t.prototype),"createParam",this).call(this,[].concat(e,{style:{cursor:"pointer",zIndex:"40"}}))}},{key:"onInput",value:function(e){var t,n;this.log.debug("onInput"),null===(t=this.delegate)||void 0===t||null===(n=t.onInput)||void 0===n||n.call(t)}},{key:"onChange",value:function(e){var t,n;this.log.debug("onChange"),null===(t=this.delegate)||void 0===t||null===(n=t.onChange)||void 0===n||n.call(t)}}]),t}(),mn=function(e){function t(){return an(this,t),ln(this,dn(t).call(this))}return fn(t,lt),sn(t,[{key:"setup",value:function(e,n){return cn(dn(t.prototype),"setup",this).call(this,e,n),this.companion=e,this}},{key:"createParam",value:function(e){cn(dn(t.prototype),"createParam",this).call(this,[].concat(e,{attributes:{className:"dac-ivt-ad-companion"},style:{cursor:"pointer",objectFit:"contain",zIndex:"40"},option:{layout:"contain"}}))}},{key:"createElement",value:function(e){this.element=this.createNode(i.createCompanion,e,this.param)}},{key:"onClick",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onUserVideoClick)||void 0===t||t.call(e,this)}}]),t}();function gn(e,t,n){return(gn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=En(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wn(e,t,n){return t&&bn(e.prototype,t),n&&bn(e,n),e}function An(e){return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sn(e,t){return!t||"object"!==An(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function En(e){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}var xn=Ge.defaultAdmarkButtonSrc,Vn=Ge.defaultCloseButtonSrc,On=Ge.defaultDetailButtonSrc,_n=Ge.defaultFullscreenButtonSrc,Bn=Ge.defaultLoadingButtonSrc,Rn=Ge.defaultOptoutButtonSrc,Pn=Ge.defaultOptoutButtonOnExpandSrc,In=Ge.defaultPrButtonSrc,Fn=Ge.defaultReplayButtonSrc,Tn=Ge.defaultVolumeOffButtonSrc,jn=Ge.defaultVolumeOnButtonSrc,Un=Ge.optoutButtonSize,zn=Ge.optoutButtonOnExpandSize,Ln=function(e){function t(e){var n;kn(this,t);var r={attributes:{id:"dac-ivt-admark-button"},option:{sources:{normal:xn}}};return(n=Sn(this,En(t).call(this))).setup([].concat(e,r)),n}return Cn(t,hn),t}(),Dn=function(e){function t(e){var n;kn(this,t);var r={attributes:{id:"dac-ivt-close-button"},option:{sources:{normal:Vn}}};return(n=Sn(this,En(t).call(this))).setup([].concat(e,r)),n}return Cn(t,hn),wn(t,[{key:"onClick",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserClose(this)}}]),t}(),Mn=function(e){function t(e){var n;kn(this,t);var r={attributes:{id:"dac-ivt-optout-button"},option:{sources:{normal:Rn,mouseover:Pn,mouseout:Rn}}};return(n=Sn(this,En(t).call(this))).setup([].concat(e,r)),n}return Cn(t,hn),wn(t,[{key:"onClick",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserOptout(this)}},{key:"onMouseover",value:function(e){this.element.size=zn,gn(En(t.prototype),"onMouseover",this).call(this,e)}},{key:"onMouseout",value:function(e){this.element.size=Un,gn(En(t.prototype),"onMouseout",this).call(this,e)}}]),t}(),Nn=function(e){function t(e){var n;kn(this,t);var r={attributes:{id:"dac-ivt-volume-button"},option:{sources:{normal:Tn}}};n=Sn(this,En(t).call(this));var i=[].concat(e,r);return n.setup(i),n.volumeOffButtonSrc=Tn,n.volumeOnButtonSrc=jn,n}return Cn(t,hn),wn(t,[{key:"clear",value:function(){this.volumeOffButtonSrc=null,this.volumeOnButtonSrc=null}},{key:"mute",value:function(){this.element.src=this.volumeOffButtonSrc}},{key:"unmute",value:function(){this.element.src=this.volumeOnButtonSrc}},{key:"onClick",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserVolumeSwitch(this)}}]),t}(),Wn=function(e){function t(e){var n;kn(this,t);var r={attributes:{id:"dac-ivt-detail-button"},option:{sources:{normal:On}}};return(n=Sn(this,En(t).call(this))).setup([].concat(e,r)),n}return Cn(t,hn),wn(t,[{key:"onClick",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserVideoClick(this)}}]),t}(),Hn=function(e){function t(e){var n;kn(this,t);var r={attributes:{id:"dac-ivt-fullscreen-button"},option:{sources:{normal:_n}}};return(n=Sn(this,En(t).call(this))).setup([].concat(e,r)),n}return Cn(t,hn),wn(t,[{key:"onClick",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserEnterFullscreen(this)}}]),t}(),Qn=function(e){function t(e){var n;kn(this,t);var r={attributes:{id:"dac-ivt-loading-button"},style:{cursor:"progress"},option:{layout:"contain",sources:{normal:Bn}}};return(n=Sn(this,En(t).call(this))).setup([].concat(e,r)),n}return Cn(t,hn),wn(t,[{key:"onClick",value:function(){}}]),t}(),qn=function(e){function t(e){var n;kn(this,t);var r={attributes:{id:"dac-ivt-replay-button"},option:{sources:{normal:Fn}}};return(n=Sn(this,En(t).call(this))).setup([].concat(e,r)),n}return Cn(t,hn),wn(t,[{key:"onClick",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserReplay(this)}}]),t}(),Yn=function(e){function t(e,n){var r;return kn(this,t),(r=Sn(this,En(t).call(this))).setup(e,[].concat(n,{attributes:{id:"dac-ivt-end-card"},option:{layout:"contain",size:{width:"100%",height:"100%"}}})),r}return Cn(t,mn),t}(),Kn=function(e){function t(e){var n;kn(this,t);var r={attributes:{id:"dac-ivt-pr-button"},option:{sources:{normal:In}}};return(n=Sn(this,En(t).call(this))).setup([].concat(e,r)),n}return Cn(t,hn),wn(t,[{key:"onClick",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserVideoClick(this)}}]),t}();function Gn(e){return(Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jn(e,t,n){return(Jn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$n(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function $n(e){return($n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function er(e,t){return(er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nr=function(e){function t(){var e,n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,tr(Xn(e=!(n=$n(t).call(this))||"object"!==Gn(n)&&"function"!=typeof n?Xn(this):n),"companion",null),tr(Xn(e),"replayButton",null),tr(Xn(e),"_adContainerId",null),e}var n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&er(e,t)}(t,lt),n=t,(i=[{key:"clear",value:function(){var e,n;null===(e=this.companion)||void 0===e||e.clear(),(this.companion=null)===(n=this.replayButton)||void 0===n||n.clear(),this.replayButton=null,Jn($n(t.prototype),"clear",this).call(this)}},{key:"setup",value:function(e){var n=e||{},i={attributes:{className:"dac-ivt-image-reminder"},option:{size:new r.IvtSize("100%","100%")}},o=m.a.deepMerge({},i,n);Jn($n(t.prototype),"setup",this).call(this,"div",o),this.element.style.position="absolute",this.element.style.width="",this.element.style.height="",this.element.style.top="0px",this.element.style.bottom="0px",this.element.style.right="0px",this.element.style.left="0px",this.element.style.overflow="hidden";var a=Fu.getConfig(this.adContainerId).reminderVastCompanion,u=n.companion||a;this.companion=(new mn).setup(u,{option:{layout:"contain"}}),(this.companion.delegate=this).appendView(this.companion);var s={option:{layout:"bottom|right",size:new r.IvtSize(18,18),sources:{normal:Ge.defaultReplayButtonSrc}}};return this.replayButton=new qn([s]),(this.replayButton.delegate=this).appendView(this.replayButton),this._adContainerId=n.adContainerId,this}},{key:"onUserVideoClick",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserVideoClick()}},{key:"onUserReplay",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserReplay()}},{key:"adContainerId",get:function(){return this._adContainerId}}])&&Zn(n.prototype,i),t}();function rr(e){return(rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function or(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ar(e,t,n){return(ar="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ur(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ur(e){return(ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sr(e,t){return(sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var lr=function(e){function t(){var e,n,r,i,o;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,e=!(n=ur(t).call(this))||"object"!==rr(n)&&"function"!=typeof n?or(this):n,o=void 0,(i="_adContainerId")in(r=or(e))?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,e}var n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sr(e,t)}(t,vn),n=t,(o=[{key:"setup",value:function(e){var n=e||{},o={attributes:{className:"dac-ivt-text-reminder"},style:{textAlign:"center",color:"#3B68FF",fontWeight:"bold",fontFamily:"arial",fontSize:"12px",backgroundSize:"contain",backgroundColor:"transparent"},option:{layout:"bottom",size:new r.IvtSize("100%","22px")}},a=m.a.deepMerge({},o,n);ar(ur(t.prototype),"setup",this).call(this,a),this.element.textContent="広告をもう一度見る",this.element.style.position="absolute",this.element.style.width="",this.element.style.height="",this.element.style.top="0px",this.element.style.bottom="0px",this.element.style.right="0px",this.element.style.left="0px",this.element.style.overflow="hidden";var u=i.createElement("div");return u.style.borderTop="1px dotted #3E5F9D",u.style.height="1px",u.style.width="auto",this.element.appendChild(u),this._adContainerId=n.adContainerId,this}},{key:"onClick",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserReplay()}},{key:"adContainerId",get:function(){return this._adContainerId}}])&&ir(n.prototype,o),t}();function cr(e){return(cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dr(e,t,n){return(dr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=fr(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function fr(e){return(fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hr(e,t,n){return t&&pr(e.prototype,t),n&&pr(e,n),e}function vr(e,t){return(vr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yr=function(e){function t(e){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){return!t||"object"!==cr(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,fr(t).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vr(e,t)}(t,Kt),hr(t,[{key:"hasReminder",get:function(){return Boolean(this.view)}}]),hr(t,[{key:"setup",value:function(e){var n=e||{};n.view;try{dr(fr(t.prototype),"setup",this).call(this,n),this.size=this.view.element.styleSize}catch(e){}return this}},{key:"onUserVideoClick",value:function(){var e=Fu.getConfig(this.view.adContainerId).videoClicksThrough;Kl.userAction.videoClick(e,!0)}},{key:"onUserReplay",value:function(){Kl.adContainerAction.disappear(this.view.adContainerId),Kl.userAction.replay()}}]),t}();function mr(e){return(mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function br(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wr(e,t,n){return(wr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ar(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ar(e){return(Ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kr(e,t){return(kr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Er(e){var t=e;return t._video||(t._video=Fu.videoElement),t._video}function Cr(e){var t=e,n=Er(t),r=t._context;null==r||r.drawImage(n,t._dx,t._dy,t._dWidth,t._dHeight)}var xr=function(e){function t(){var e,n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,Sr(br(e=!(n=Ar(t).call(this))||"object"!==mr(n)&&"function"!=typeof n?br(this):n),"_video",null),Sr(br(e),"_context",null),Sr(br(e),"_dx",0),Sr(br(e),"_dy",0),Sr(br(e),"_dWidth",0),Sr(br(e),"_dHeight",0),e}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kr(e,t)}(t,lt),n=t,(r=[{key:"init",value:function(){var e=i.createElement("canvas");return wr(Ar(t.prototype),"setup",this).call(this,e),this._context=e.getContext("2d"),this}},{key:"clear",value:function(){var e;(e=this)._requestId&&window.cancelAnimationFrame(e._requestId),e._requestId=null,e._video=null,e._context=null,e._dx=0,e._dy=0,e._dWidth=0,e._dHeight=0,wr(Ar(t.prototype),"clear",this).call(this)}},{key:"updateLayout",value:function(){var e=wr(Ar(t.prototype),"updateLayout",this).call(this);return function(e){var t=e,n=t.element,r=Er(t),i=n.offsetWidth,o=n.offsetHeight,a=null==r?void 0:r.videoWidth,u=null==r?void 0:r.videoHeight;if(0<i&&0<o&&0<a&&0<u){n.width=i,n.height=o;var s=i/a,l=o/u;t._dHeight=s<l?(t._dWidth=i,u*s):(t._dWidth=a*l,o),t._dx=(i-t._dWidth)/2,t._dy=(o-t._dHeight)/2}}(this),e}},{key:"draw",value:function(){Cr(this)}},{key:"drawStart",value:function(){var e;(e=this)._requestId||(e._requestId=window.requestAnimationFrame(function t(){Cr(e),e._requestId=window.requestAnimationFrame(t)}))}},{key:"drawStop",value:function(){var e;(e=this)._requestId&&(window.cancelAnimationFrame(e._requestId),e._requestId=null),Cr(e)}},{key:"video",get:function(){return Er(this)}},{key:"canvas",get:function(){return this.element}}])&&gr(n.prototype,r),t}();function Vr(e){return(Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Br(e,t,n){return(Br="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Rr(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Rr(e){return(Rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pr(e,t){return(Pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ir=function(e){function t(){var e,n,r,i;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,e=!(n=Rr(t).call(this))||"object"!==Vr(n)&&"function"!=typeof n?_r(this):n,null,(i="_lastIsHidden")in(r=_r(e))?Object.defineProperty(r,i,{value:null,enumerable:!0,configurable:!0,writable:!0}):r[i]=null,e}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pr(e,t)}(t,Kt),n=t,(r=[{key:"clear",value:function(){this._lastIsHidden=null,Br(Rr(t.prototype),"clear",this).call(this)}},{key:"init",value:function(e){return Br(Rr(t.prototype),"setup",this).call(this,e),this}},{key:"didAdStart",value:function(){this.videoCanvasView.drawStart()}},{key:"didAdStop",value:function(){this.videoCanvasView.drawStop()}},{key:"didAdPlay",value:function(){this.videoCanvasView.drawStart()}},{key:"didAdPause",value:function(){this.videoCanvasView.drawStop()}},{key:"didAdReplay",value:function(){this.videoCanvasView.drawStart()}},{key:"didAdEnterFullscreen",value:function(){var e=this.videoCanvasView.video;this._lastIsHidden=e.isHidden,this._lastIsHidden&&e.show(),this.videoCanvasView.drawStop()}},{key:"didAdExitFullscreen",value:function(){var e=this.videoCanvasView.video;this._lastIsHidden&&e.hide(),this.videoCanvasView.drawStart()}},{key:"onViewUnload",value:function(){this.clear()}},{key:"videoCanvasView",get:function(){return this.view}}])&&Or(n.prototype,r),t}();function Fr(e){return(Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ur(e,t,n){return(Ur="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zr(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function zr(e){return(zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lr(e,t){return(Lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mr=function(e){function t(){var e,n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,Dr(jr(e=!(n=zr(t).call(this))||"object"!==Fr(n)&&"function"!=typeof n?jr(this):n),"playerFrame",null),Dr(jr(e),"playerSlot",null),Dr(jr(e),"videoCanvas",null),Dr(jr(e),"_playerView",null),Dr(jr(e),"_videoSize",null),Dr(jr(e),"_adContainerId",null),e}var n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lr(e,t)}(t,lt),n=t,(i=[{key:"clear",value:function(){var e,n,r;null===(e=this.playerFrame)||void 0===e||e.clear(),(this.playerFrame=null)===(n=this.playerSlot)||void 0===n||n.clear(),(this.playerSlot=null)===(r=this.videoCanvas)||void 0===r||r.clear(),this.videoCanvas=null,this._videoSize=null,Ur(zr(t.prototype),"clear",this).call(this)}},{key:"setPlayerView",value:function(e){!function(e,t){var n,r=e;t?(t.show(),r._playerView=t,r.videoCanvas.removeFromParent(),r.playerFrame.appendView(t),r.playerFrame.appendView(r.playerSlot)):(r._playerView&&(null===(n=r._playerView)||void 0===n||n.element.hide()),r.playerFrame.appendView(r.videoCanvas),r.playerFrame.appendView(r.playerSlot))}(this,e)}},{key:"loading",value:function(){this.log.debug("loading();")}},{key:"playing",value:function(){this.log.debug("playing();")}},{key:"pause",value:function(){this.log.debug("pause();")}},{key:"ended",value:function(){this.log.debug("ended();")}},{key:"muted",value:function(){this.log.debug("muted();")}},{key:"unmuted",value:function(){this.log.debug("unmuted();")}},{key:"volumeChange",value:function(e){this.log.debug("volumeChange(); volume = ".concat(e,"."))}},{key:"setup",value:function(e){if(!Ur(zr(t.prototype),"setup",this).call(this))throw new Error("setup failed: super.setup failed.");var n,r,i=e.adContainerId,o=e.playerView||null,a=(e.zIndex,e.backgroundColor||this.config.backgroundColor||null);if(!e.adContainerId)throw new Error("setup failed: Not declared adContainerId.");return this.log.debug("setup."),this._adContainerId=i,this.playerFrame=function(e){var t=(new lt).setup();return t.element.className="dac-ivt-video-frame",t.element.style.position="relative",t.element.style.width="100%",t.element.style.height="100%",t.element.style.margin="0 auto",t.element.style.overflow="hidden",t.style.zIndex="10",e&&(t.element.style.backgroundColor=e),t}(a),this.playerSlot=((n=(new lt).setup()).element.className="dac-ivt-video-slot",n.element.style.display="block",n.element.style.position="absolute",n.element.style.left="0px",n.element.style.top="0px",n.element.style.width="100%",n.element.style.height="100%",n.element.style.margin="auto%",n.element.style.cursor="pointer",n.element.style.overflow="hidden",n.element.style.zIndex="20",n),this.videoCanvas=function(){var e=(new xr).init();return e.element.className="dac-ivt-video-canvas",e.element.style.display="block",e.element.style.position="absolute",e.element.style.left="0px",e.element.style.top="0px",e.element.style.width="100%",e.element.style.height="100%",e.element.style.margin="auto%",e.element.style.cursor="pointer",e.element.style.overflow="hidden",e.element.style.zIndex="10",(new Ir).init({view:e}),e}(),(r=this).element.className="dac-ivt-ad-frame",r.element.style.position="absolute",r.element.style.width="",r.element.style.height="",r.element.style.top="0px",r.element.style.bottom="0px",r.element.style.left="0px",r.element.style.right="0px",r.element.style.margin="auto",r.element.style.overflow="hidden",this.appendView(this.playerFrame),this.setPlayerView(o),this}},{key:"updateLayout",value:function(){var e,t,n,i;return this.log.debug("updateLayout();"),n=(t=(e=this).element.getClientSize()).width,i=function(e,t,n){var r=e,i=r.config.height;if(0<n){i=n||0}else{var o=r.playerFrameDefaultSize,a=o.width;i=o.height*(t/a)}return 0<i?i:0}(e,t.width,t.height),e.playerFrame.element.w=n,e.playerFrame.element.h=i,e.videoCanvas.updateLayout(),e.videoCanvas.draw(),new r.IvtSize(n,i)}},{key:"hasEndCard",get:function(){return!1}},{key:"player",get:function(){return Fu.videoElement}},{key:"playerView",get:function(){return this._playerView}},{key:"videoView",get:function(){return this._playerView}},{key:"playerFrameDefaultSize",get:function(){if(!this._videoSize){var e=Fu.adStore.vast.media,t=Fu.adContainerStore.playerView.element;if(0<(null==e?void 0:e.width)&&0<(null==e?void 0:e.height))this._videoSize=new r.IvtSize(null==e?void 0:e.width,null==e?void 0:e.height);else{if(!(0<(null==t?void 0:t.videoWidth)&&0<(null==t?void 0:t.videoHeight)))return new r.IvtSize;this._videoSize=new r.IvtSize(t.videoWidth,t.videoHeight)}}return this._videoSize.clone()},set:function(e){this._videoSize=new r.IvtSize(e.width,e.height)}},{key:"config",get:function(){return Fu.getConfig(this._adContainerId)}}])&&Tr(n.prototype,i),t}();function Nr(e){return(Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wr(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function Hr(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){Wr(o,r,i,a,u,"next",e)}function u(e){Wr(o,r,i,a,u,"throw",e)}a(void 0)})}}function Qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yr(e,t,n){return(Yr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Kr(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Kr(e){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gr(e,t){return(Gr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(78),n(153);var Xr=function(e){function t(){var e,n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,Zr(qr(e=!(n=Kr(t).call(this))||"object"!==Nr(n)&&"function"!=typeof n?qr(this):n),"_tasks",[]),Zr(qr(e),"_videoProgressEvents",[]),e}var n,r,i,o,a,s,l,c,d,f,p,h,v,y;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gr(e,t)}(t,Kt),n=t,(r=[{key:"_addTask",value:function(e){this.log.debug("***** Video: task is added begin. functionName: ".concat(e,"."));var t=new Y({name:e});return this._tasks.push(t),t.promise}},{key:"_removeTask",value:function(e){var t=this._tasks.findIndex(function(t){return t.detail.name===e});return 0<=t?this._tasks.splice(t,1)[0]:null}},{key:"clear",value:function(){Yr(Kr(t.prototype),"clear",this).call(this),this.videoView.clear(),this._tasks=[]}},{key:"setup",value:function(e){return Yr(Kr(t.prototype),"setup",this).call(this,e),(this.view.delegate=this)._tasks=[],this}},{key:"willAdLoad",value:(y=Hr(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.log.debug("willAdLoad();"),t=this._addTask("load"),this.videoView.load(),e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)})),function(){return y.apply(this,arguments)})},{key:"willAdUnload",value:(v=Hr(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.log.debug("willAdUnload();"),this.videoView.unload();case 2:case"end":return e.stop()}},e,this)})),function(){return v.apply(this,arguments)})},{key:"willAdStart",value:(h=Hr(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!0===this.videoView.isPlaying)return this.log.debug("willAdStart(); but video is already playing."),e.abrupt("return",Promise.resolve());e.next=3;break;case 3:if(!this.videoView.canPlay){e.next=7;break}this.log.debug("willAdStart(); video is possible to play."),e.next=10;break;case 7:return this.log.debug("willAdStart(); video is not yet possible to play."),e.next=10,this._addTask("load");case 10:return t=this._addTask("play"),this.videoView.play(),e.abrupt("return",t);case 13:case"end":return e.stop()}},e,this)})),function(){return h.apply(this,arguments)})},{key:"willAdStop",value:(p=Hr(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.log.debug("willAdStop();"),e.abrupt("return",this.willAdPause());case 2:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"willAdPlay",value:(f=Hr(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!0===this.videoView.isPlaying)return e.abrupt("return",Promise.resolve());e.next=2;break;case 2:return this.log.debug("willAdPlay();"),t=this._addTask("play"),this.videoView.play(),e.abrupt("return",t);case 6:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"willAdPause",value:(d=Hr(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!0===this.videoView.isPaused)return e.abrupt("return",Promise.resolve());e.next=2;break;case 2:return this.log.debug("willAdPause();"),t=this._addTask("pause"),this.videoView.pause(),e.abrupt("return",t);case 6:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)})},{key:"willAdMute",value:(c=Hr(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.videoView.isMuted===(t=!0))return e.abrupt("return",Promise.resolve());e.next=4;break;case 4:return this.log.debug("willAdMute();"),n=this._addTask("mute"),this.videoView.setMuted(t),e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"willAdUnmute",value:(l=Hr(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.videoView.isMuted===(t=!1))return e.abrupt("return",Promise.resolve());e.next=4;break;case 4:return this.log.debug("willAdUnmute();"),n=this._addTask("unmute"),this.videoView.setMuted(t),e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"willAdVolumeChange",value:(s=Hr(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.videoView.volume,r=(null==t?void 0:t.volume)||0,n===r)return e.abrupt("return",Promise.resolve());e.next=4;break;case 4:return this.log.debug("willAdVolumeChange(volume: ".concat(r,");")),i=this._addTask("volumechange"),this.videoView.setVolume(r),e.abrupt("return",i);case 8:case"end":return e.stop()}},e,this)})),function(e){return s.apply(this,arguments)})},{key:"willAdReplay",value:(a=Hr(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.log.debug("willAdReplay();"),e.next=3,this.willAdLoad();case 3:return e.next=5,this.willAdStart();case 5:return e.abrupt("return",Promise.resolve());case 6:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"willAdEnterFullscreen",value:(o=Hr(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.log.debug("willAdEnterFullscreen();"),t=this._addTask("enterfullscreen"),this.videoView.enterFullscreen(),e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"onVideoLoad",value:function(){this.log.debug("onVideoLoad(); duration = ".concat(this.duration,".")),this.setupVideoProgressEvents(this.duration);var e=this._removeTask("load");return e?(this.log.debug("onVideoLoad(); load task is over."),void e.resolve(!0)):void 0}},{key:"onVideoPlay",value:function(){var e=this._removeTask("play");return e?(this.log.debug("didVideoPlay(); play task is over."),void e.resolve(!0)):void this.log.debug("didVideoPlay(); This callback is called from the os.")}},{key:"onVideoPause",value:function(){this.log.debug("onVideoPause();");var e=this._removeTask("pause");return e?(this.log.debug("onVideoPause(); pause task is over."),void e.resolve(!0)):void Kl.adAction.pause(u.IvtPlayerPausedReason.outview)}},{key:"onVideoEnded",value:(i=Hr(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.log.debug("onVideoEnded();"),e.next=3,Kl.adAction.videoEndedChange(!0);case 3:if(Fu.adStore.isFullscreened){e.next=6;break}return e.next=6,Kl.adAction.stop();case 6:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"onVideoError",value:function(){var e,t,n,r,i,o,a=null===(e=this.videoView)||void 0===e?void 0:null===(t=e.videoElement)||void 0===t?void 0:null===(n=t.error)||void 0===n?void 0:n.code,s=null===(r=this.videoView)||void 0===r?void 0:null===(i=r.videoElement)||void 0===i?void 0:null===(o=i.error)||void 0===o?void 0:o.message;this.log.debug("onVideoError(code: ".concat(a,", message: ").concat(s,");"));var l=u.IvtErrorCode.linear;switch(a){case MediaError.MEDIA_ERR_ABORTED:break;case MediaError.MEDIA_ERR_DECODE:l=u.IvtErrorCode.linearUnsupportedCodecs;break;case MediaError.MEDIA_ERR_NETWORK:l=u.IvtErrorCode.linearTimeout;break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:l=u.IvtErrorCode.linearNotFound}Kl.adAction.raiseError(l,s)}},{key:"onVideoMuted",value:function(){var e=this._removeTask("mute");if(e)return this.log.debug("onVideoMuted(); task is over."),void e.resolve(!0);this.log.debug("onVideoMuted(); This callback is called from the System."),Kl.userAction.mute()}},{key:"onVideoUnmuted",value:function(){var e=this._removeTask("unmute");if(e)return this.log.debug("onVideoUnmuted(); task is over."),void e.resolve(!0);this.log.debug("onVideoUnmuted(); This callback is called from the System."),Kl.userAction.unmute()}},{key:"onVideoVolumeChange",value:function(e){var t=this._removeTask("volumechange");if(t)return this.log.debug("onVideoVolumeChange(volume: ".concat(e,"); task is over.")),void t.resolve(!0);this.log.debug("onVideoVolumeChange(volume: ".concat(e,"); This callback is called from the System.")),Kl.userAction.volumeChange(e)}},{key:"onVideoEnterFullscreen",value:function(){var e=this._removeTask("enterfullscreen");return e?(this.log.debug("onVideoEnterFullscreen(); task is over."),void e.resolve(!0)):void this.log.debug("onVideoEnterFullscreen(); This callback is called from the os.")}},{key:"onVideoExitFullscreen",value:function(){Kl.adAction.exitFullscreen()}},{key:"onVideoProgress",value:function(){var e=this.duration,t=this.progress;Kl.adAction.videoProgress(t,e),this.progressVideo(t)}},{key:"onVideoProgressStart",value:function(e,t){this.log.debug("didVideoStart(); Video 0% completed."),Kl.adAction.videoStart(e,t)}},{key:"onVideoProgressFirstQuartile",value:function(e,t){this.log.debug("didVideoFirstQuartile(); Video 25% completed."),Kl.adAction.videoFirstQuartile(e,t)}},{key:"onVideoProgressMidpoint",value:function(e,t){this.log.debug("didVideoMidpoint(); Video 50% completed."),Kl.adAction.videoMidpoint(e,t)}},{key:"onVideoProgressThirdQuartile",value:function(e,t){this.log.debug("didVideoThirdQuartile(); Video 75% completed."),Kl.adAction.videoThirdQuartile(e,t)}},{key:"onVideoProgressComplete",value:function(e,t){this.log.debug("didVideoComplete(); Video 100% completed.");var n=t+.1;Kl.adAction.videoComplete(n,t)}},{key:"progressVideo",value:function(e){var t,n=this;(null===(t=this._videoProgressEvents[0])||void 0===t?void 0:t.time)<=e&&(this._videoProgressEvents=this._videoProgressEvents.filter(function(t){var r=e<t.time;return r||t.func.call(n,e,n.duration),r}))}},{key:"setupVideoProgressEvents",value:function(e){var t=[];t.push({time:0,func:this.onVideoProgressStart}),t.push({time:.25*e,func:this.onVideoProgressFirstQuartile}),t.push({time:.5*e,func:this.onVideoProgressMidpoint}),t.push({time:.75*e,func:this.onVideoProgressThirdQuartile}),t.push({time:e,func:this.onVideoProgressComplete}),t.sort(function(e,t){return e.time<t.time?-1:e.time>t.time?1:0}),this._videoProgressEvents=t}},{key:"playerView",get:function(){return this.view}},{key:"videoView",get:function(){return this.view}},{key:"progress",get:function(){return this.videoView.progress}},{key:"duration",get:function(){return this.videoView.duration}},{key:"isFullscreen",get:function(){return this.videoView.isFullscreen}}])&&Qr(n.prototype,r),t}();function Jr(e){return(Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ei(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ti(e,t,n){return(ti="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ni(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ni(e){return(ni=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ri(e,t){return(ri=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ii(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(76);var oi=function(e){function t(){var e,n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,ii(ei(e=!(n=ni(t).call(this))||"object"!==Jr(n)&&"function"!=typeof n?ei(this):n),"video",null),ii(ei(e),"_isFullscreenFunction",null),ii(ei(e),"_lastMuted",!0),ii(ei(e),"_lastVolume",0),ii(ei(e),"_isLoaded",!1),e}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ri(e,t)}(t,lt),n=t,(r=[{key:"clear",value:function(){ti(ni(t.prototype),"clear",this).call(this),this._lastMuted=!0,this._lastVolume=0,this._isFullscreenFunction=null}},{key:"setup",value:function(e){var n=(e||{}).tag,r=i.createElement("video");return r.setAttribute("playsinline",""),r.setAttribute("muted",""),r.setAttribute("controlsList","nodownload noremoteplayback nofullscreen"),r.className="dac-ivt-video-player",r.style.display="block",r.style.position="static",r.style.width="100%",r.style.height="100%",r.style.margin="auto",r.style.overflow="hidden",r.style.cursor="pointer",r.style.objectFit="contain",r.style.zIndex="10",r.muted=!0,r.on("error",this),this.video=r,ti(ni(t.prototype),"setup",this).call(this,n||r),this._lastMuted=r.muted,this._lastvolume=r.volume,this._isFullscreenFunction=function(e){return"object"===Jr(document.fullscreenElement)?(e.log.debug("_makeIsFullscreenFunction(); document has fullscreenElement property."),function(){return null!==document.fullscreenElement}):"object"!==Jr(document.webkitFullscreenElement)?"object"!==Jr(document.msFullscreenElement)?"object"!==Jr(document.mozFullScreenElement)?"boolean"!=typeof e.player.webkitDisplayingFullscreen?"object"!==Jr(document.webkitCurrentFullScreenElement)?(e.log.debug("_makeIsFullscreenFunction(); document has not fullScreenElement property."),function(){return!1}):(e.log.debug("_makeIsFullscreenFunction(); document has webkitCurrentFullScreenElement property."),function(){return null!==document.webkitCurrentFullScreenElement}):(e.log.debug("_makeIsFullscreenFunction(); HTMLVideoElement has webkitDisplayingFullscreen property."),function(){return e.player.webkitDisplayingFullscreen}):(e.log.debug("_makeIsFullscreenFunction(); document has mozFullScreenElement property."),function(){return null!==document.mozFullScreenElement}):(e.log.debug("_makeIsFullscreenFunction(); document has msFullscreenElement property."),function(){return null!==document.msFullscreenElement}):(e.log.debug("_makeIsFullscreenFunction(); document has webkitFullscreenElement property."),function(){return null!==document.webkitFullscreenElement})}(this),this}},{key:"setVolume",value:function(e){this.videoElement&&(this.videoElement.volume=e)}},{key:"setMuted",value:function(e){this.videoElement&&(this.videoElement.muted=e)}},{key:"load",value:function(){this.log.debug("load();")}},{key:"unload",value:function(){this.log.debug("unload();")}},{key:"start",value:function(){this.log.debug("start();")}},{key:"stop",value:function(){this.log.debug("stop();")}},{key:"play",value:function(){this.log.debug("play();")}},{key:"pause",value:function(){this.log.debug("pause();")}},{key:"enterFullscreen",value:function(){this.log.debug("enterFullscreen();")}},{key:"replay",value:function(){this.log.debug("replay();")}},{key:"resize",value:function(e){ti(ni(t.prototype),"resize",this).call(this,e)}},{key:"handleEvent",value:function(e){switch(e.stopPropagation(),e.type){case"error":this.onVideoError()}}},{key:"onVideoLoad",value:function(){var e,t;this.log.debug("onVideoLoad();"),this._isLoaded=!0,null===(e=this.delegate)||void 0===e||null===(t=e.onVideoLoad)||void 0===t||t.call(e)}},{key:"onVideoEnded",value:function(){var e,t;this.log.debug("onVideoEnded();"),null===(e=this.delegate)||void 0===e||null===(t=e.onVideoEnded)||void 0===t||t.call(e)}},{key:"onVideoError",value:function(){var e,t;this.log.debug("onVideoError();"),this._isLoaded=!1,null===(e=this.delegate)||void 0===e||null===(t=e.onVideoError)||void 0===t||t.call(e)}},{key:"onVideoMuted",value:function(){var e,t;this.log.debug("onVideoMuted();"),null===(e=this.delegate)||void 0===e||null===(t=e.onVideoMuted)||void 0===t||t.call(e)}},{key:"onVideoUnmuted",value:function(){var e,t;this.log.debug("onVideoUnmuted();"),null===(e=this.delegate)||void 0===e||null===(t=e.onVideoUnmuted)||void 0===t||t.call(e)}},{key:"onVideoVolumeChange",value:function(){var e=this._lastMuted,t=this.isMuted;e!==t&&((this._lastMuted=t)?this.onVideoMuted():this.onVideoUnmuted());var n,r,i=this._lastVolume,o=this.volume;i!==o&&(this.log.debug("onVideoVolumeChange(); newVolume: ".concat(o,", oldVolume: ").concat(i,".")),this._lastVolume=o,null===(n=this.delegate)||void 0===n||null===(r=n.onVideoVolumeChange)||void 0===r||r.call(n,o))}},{key:"player",get:function(){return this.video}},{key:"videoElement",get:function(){return this.video}},{key:"canPlay",get:function(){return this._isLoaded}},{key:"isFullscreen",get:function(){var e;return null===(e=this._isFullscreenFunction)||void 0===e?void 0:e.call(this)}},{key:"progress",get:function(){var e;return Number(null===(e=this.player)||void 0===e?void 0:e.currentTime)}},{key:"duration",get:function(){var e;return Number(null===(e=this.player)||void 0===e?void 0:e.duration)}},{key:"ended",get:function(){var e;return Boolean(null===(e=this.player)||void 0===e?void 0:e.ended)}},{key:"isEnded",get:function(){var e;return Boolean(null===(e=this.video)||void 0===e?void 0:e.ended)}},{key:"volume",get:function(){var e;return Number(null===(e=this.player)||void 0===e?void 0:e.volume)}},{key:"paused",get:function(){var e;return m.a.toBoolIfExist(null===(e=this.video)||void 0===e?void 0:e.paused,!0)}},{key:"videoHeight",get:function(){var e;return Number(null===(e=this.player)||void 0===e?void 0:e.videoHeight)}},{key:"videoWidth",get:function(){var e;return Number(null===(e=this.player)||void 0===e?void 0:e.videoWidth)}},{key:"isPaused",get:function(){var e,t=m.a.toBoolIfExist(null===(e=this.video)||void 0===e?void 0:e.paused,!0),n=this.isEnded;return t||n}},{key:"isPlaying",get:function(){return!this.isPaused}},{key:"isMuted",get:function(){var e;return m.a.toBoolIfExist(null===(e=this.videoElement)||void 0===e?void 0:e.muted,!0)}}])&&$r(n.prototype,r),t}();function ai(e){return(ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ui(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function si(e,t,n){return(si="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=li(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function li(e){return(li=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ci(e,t){return(ci=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var di="loadedmetadata",fi=function(e){function t(){var e;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),(e=function(e,t){return!t||"object"!==ai(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,li(t).call(this)))._enterFullscreenFunction=null,e}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ci(e,t)}(t,oi),n=t,(r=[{key:"clear",value:function(){si(li(t.prototype),"clear",this).call(this),this._enterFullscreenFunction=null}},{key:"setup",value:function(e){return si(li(t.prototype),"setup",this).call(this,e),this.player.on("pause",this),this.player.on("play",this),this.player.on("timeupdate",this),this.player.on(di,this),this.player.on("ended",this),this.player.on("volumechange",this),this.player.on("fullscreenchange",this),this.player.on("webkitfullscreenchange",this),this.player.on("webkitbeginfullscreen",this),this.player.on("webkitendfullscreen",this),document.addEventListener("mozfullscreenchange",this),document.addEventListener("MSFullscreenChange",this),this._enterFullscreenFunction=function(e){return"function"!=typeof e.player.requestFullscreen?"function"!=typeof e.player.msRequestFullscreen?"function"!=typeof e.player.mozRequestFullScreen?"function"!=typeof e.player.webkitRequestFullscreen?"function"!=typeof e.player.webkitEnterFullscreen?(e.log.debug("makeEnterFullscreen: HTMLVideoElement has not toFullscreen method."),function(){}):(e.log.debug("makeEnterFullscreen: HTMLVideoElement has webkitEnterFullscreen method."),function(){e.player.webkitEnterFullscreen()}):(e.log.debug("makeEnterFullscreen: HTMLVideoElement has webkitRequestFullscreen method."),function(){e.player.webkitRequestFullscreen()}):(e.log.debug("makeEnterFullscreen: HTMLVideoElement has mozRequestFullScreen method."),function(){e.player.mozRequestFullScreen()}):(e.log.debug("makeEnterFullscreen: HTMLVideoElement has msRequestFullscreen method."),function(){e.player.msRequestFullscreen()}):(e.log.debug("makeEnterFullscreen: HTMLVideoElement has requestFullscreen method."),function(){e.player.requestFullscreen()})}(this),this}},{key:"load",value:function(){var e,n;si(li(t.prototype),"load",this).call(this);var r=null===(e=Fu.adStore.vast)||void 0===e?void 0:null===(n=e.media)||void 0===n?void 0:n.uri;this.log.debug("load(); url = ".concat(r,".")),r&&(this.player.src=r),this.player.load()}},{key:"unload",value:function(){si(li(t.prototype),"unload",this).call(this),this.clear()}},{key:"play",value:function(){this.canPlay&&this.isPaused&&(si(li(t.prototype),"play",this).call(this),this.player.play())}},{key:"pause",value:function(){this.canPlay&&this.isPlaying&&(si(li(t.prototype),"pause",this).call(this),this.player.pause())}},{key:"resize",value:function(e){si(li(t.prototype),"resize",this).call(this,e),this.dispatch(u.IvtAdNotification.didAdSizeChange)}},{key:"enterFullscreen",value:function(){si(li(t.prototype),"enterFullscreen",this).call(this),this._enterFullscreenFunction()}},{key:"onVideoPause",value:function(){var e,t;this.ended||(this.log.debug("onVideoPause()"),null===(e=this.delegate)||void 0===e||null===(t=e.onVideoPause)||void 0===t||t.call(e))}},{key:"onVideoPlay",value:function(){var e,t;this.log.debug("onVideoPlay()"),null===(e=this.delegate)||void 0===e||null===(t=e.onVideoPlay)||void 0===t||t.call(e)}},{key:"onVideoProgress",value:function(e){var t,n,r=e||this.progress;null===(t=this.delegate)||void 0===t||null===(n=t.onVideoProgress)||void 0===n||n.call(t,r)}},{key:"onVideoEnterFullscreen",value:function(){var e,t;this.log.debug("onVideoEnterFullscreen()"),null===(e=this.delegate)||void 0===e||null===(t=e.onVideoEnterFullscreen)||void 0===t||t.call(e)}},{key:"onVideoExitFullscreen",value:function(){var e,t;this.log.debug("onVideoExitFullscreen()"),null===(e=this.delegate)||void 0===e||null===(t=e.onVideoExitFullscreen)||void 0===t||t.call(e)}},{key:"onVideoFullscreenChange",value:function(e){var t=this.isFullscreen;this.log.debug("onVideoFullscreenChange isFullscreen: "+t),t?this.onVideoEnterFullscreen(e):this.onVideoExitFullscreen(e)}},{key:"handleEvent",value:function(e){switch(si(li(t.prototype),"handleEvent",this).call(this,e),e&&e.stopPropagation(),e.type){case di:this.onVideoLoad();break;case"ended":this.onVideoProgress(),this.onVideoEnded();break;case"pause":this.onVideoPause();break;case"play":this.onVideoPlay();break;case"timeupdate":this.isPlaying&&this.onVideoProgress();break;case"volumechange":this.onVideoVolumeChange();break;case"fullscreenchange":case"webkitfullscreenchange":case"webkitbeginfullscreen":case"webkitendfullscreen":case"mozfullscreenchange":case"MSFullscreenChange":this.onVideoFullscreenChange()}}}])&&ui(n.prototype,r),t}();function pi(e){return(pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yi(e,t,n){return(yi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=mi(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function mi(e){return(mi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gi(e,t){return(gi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bi=m.a.namespace(),wi=function(e){function t(){var e,n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,e=!(n=mi(t).call(this))||"object"!==pi(n)&&"function"!=typeof n?vi(this):n,bi(vi(e)).duration=0,e}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gi(e,t)}(t,Kt),n=t,(r=[{key:"setup",value:function(e){var n=e||{};yi(mi(t.prototype),"setup",this).call(this,n);var r=n.adContainerId;if(m.a.isEmpty(r))throw new Error("setup failed: Not declared adContainerId.");return this.adContainerId=r,this}},{key:"enterFullscreen",value:function(){yi(mi(t.prototype),"enterFullscreen",this).call(this),this.playerView.enterFullscreen()}},{key:"didAdLoad",value:function(){var e,t;null===(e=this.adView)||void 0===e||null===(t=e.loading)||void 0===t||t.call(e)}},{key:"didAdStart",value:function(){var e,t;null===(e=this.adView)||void 0===e||null===(t=e.playing)||void 0===t||t.call(e)}},{key:"didAdPlay",value:function(){var e,t;null===(e=this.adView)||void 0===e||null===(t=e.playing)||void 0===t||t.call(e)}},{key:"didAdPause",value:function(){var e,t;null===(e=this.adView)||void 0===e||null===(t=e.pause)||void 0===t||t.call(e)}},{key:"didAdStop",value:function(){var e,t;null===(e=(t=this.adView).ended)||void 0===e||e.call(t)}},{key:"didAdReplay",value:function(){var e,t;null===(e=this.adView)||void 0===e||null===(t=e.playing)||void 0===t||t.call(e)}},{key:"didAdMute",value:function(){var e,t,n,r;null===(e=this.adView)||void 0===e||null===(t=e.muted)||void 0===t||t.call(e),null===(n=this.adView)||void 0===n||null===(r=n.volumeChange)||void 0===r||r.call(n,0)}},{key:"didAdUnmute",value:function(){var e,t,n,r,i;null===(e=this.adView)||void 0===e||null===(t=e.unmuted)||void 0===t||t.call(e),null===(n=this.adView)||void 0===n||null===(r=n.volumeChange)||void 0===r||r.call(n,(null===(i=this.playerView)||void 0===i?void 0:i.volume)||0)}},{key:"didAdVolumeChange",value:function(e){var t,n,r=null==e?void 0:e.volume;null===(t=this.adView)||void 0===t||null===(n=t.volumeChange)||void 0===n||n.call(t,r)}},{key:"willAdUpdateLayout",value:function(){this.view.updateLayout()}},{key:"onUserClose",value:function(){Kl.userAction.close(this.adContainerId)}},{key:"onUserEnterFullscreen",value:function(){Kl.userAction.enterFullscreen()}},{key:"onUserOptout",value:function(){Kl.userAction.optout()}},{key:"onUserReplay",value:function(){Kl.userAction.replay()}},{key:"onUserVideoClick",value:function(){var e=this.config.videoClicksThrough;Kl.userAction.videoClick(e,!0)}},{key:"onUserVolumeSwitch",value:function(){Fu.adStore.isMuted?Kl.userAction.unmute():Kl.userAction.mute()}},{key:"onUserVolumeChange",value:function(e){Fu.adStore.isMuted?0<e&&Kl.userAction.unmute():e<=0&&Kl.userAction.mute(),Kl.userAction.volumeChange(e)}},{key:"adView",get:function(){return this.view}},{key:"playerView",get:function(){return Fu.adContainerStore.playerView}},{key:"playerSlot",get:function(){var e,t;return null===(e=this.adView)||void 0===e?void 0:null===(t=e.playerSlot)||void 0===t?void 0:t.element}},{key:"config",get:function(){return Fu.getConfig(this.adContainerId)}},{key:"duration",get:function(){var e=Fu.adStore.vast,t=bi(this);if(!t.duration){var n=Number.isFinite(e.duration)?e.duration:0;t.duration=Number.isFinite(this.playerView.duration)?this.playerView.duration:n}return t.duration}},{key:"hasEndCard",get:function(){var e;return(null===(e=this.adView)||void 0===e?void 0:e.hasEndCard)||!1}}])&&hi(n.prototype,r),t}();function Ai(e){return(Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ki(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function Si(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){ki(o,r,i,a,u,"next",e)}function u(e){ki(o,r,i,a,u,"throw",e)}a(void 0)})}}function Ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ci(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xi(e,t,n){return(xi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Vi(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Vi(e){return(Vi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oi(e,t){return(Oi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bi(e){return function(){return Si(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ri(n=t),n.element.appendChild(r),n._scriptLoaderFrame=r,n.config.isAddedIframeByDocumentWrite)return e.next=8,Pi(n);e.next=10;break;case 8:e.next=12;break;case 10:return e.next=12,Ii(n);case 12:case"end":return e.stop()}},e)})).apply(this,arguments)}.apply(this,arguments)}function Ri(e){var t=i.createElement("iframe");return t.width=0,t.height=0,t.frameBorder="0",t.scrolling="no",t.style.position="absolute",t.style.margin="auto",t.style.width="0px",t.style.height="0px",t}function Pi(e){return function(){return Si(regeneratorRuntime.mark(function e(t){var n,r,i,o,a,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t._scriptLoaderFrame,o=i.contentWindow?i.contentWindow.document:i.contentDocument,a=null===(n=Fu.adStore.vast)||void 0===n?void 0:null===(r=n.media)||void 0===r?void 0:r.uri,u="",u+='<body style="background:transparent;margin:0;">',u+="<script>inDapIF = true;<\/script>",u+='<script src="'.concat(a,'"><\/script>'),u+="</body>",o.open("text/html","replace"),o.write(u),o.close(),"complete"!==o.readyState)return s=function(){return new Promise(function(e){i.onload=function(t){e()}})},e.next=16,s();e.next=16;break;case 16:case"end":return e.stop()}},e)})).apply(this,arguments)}.apply(this,arguments)}function Ii(e){return function(){return Si(regeneratorRuntime.mark(function e(t){var n,r,i,o,a,u,s,l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(i=t)._scriptLoaderFrame,a=o.contentWindow?o.contentWindow.document:o.contentDocument,u=null===(n=Fu.adStore.vast)||void 0===n?void 0:null===(r=n.media)||void 0===r?void 0:r.uri,"complete"!==a.readyState)return s=function(){return new Promise(function(e){o.onload=function(t){e()}})},e.next=8,s();e.next=8;break;case 8:return(l=a.createElement("script")).src=u,a.body.appendChild(l),i._vpaidScript=l,c=function(){return new Promise(function(e){l.onload=function(t){e()}})},e.next=15,c();case 15:case"end":return e.stop()}},e)})).apply(this,arguments)}.apply(this,arguments)}function Fi(e){var t=e;if(t._creative)return t._creative;var n=t._scriptLoaderFrame.contentWindow.getVPAIDAd;if(!m.a.isFunction(n))return null;var r=n();if(!function(e,t){return!!(m.a.isFunction(t.handshakeVersion)&&m.a.isFunction(t.initAd)&&m.a.isFunction(t.startAd)&&m.a.isFunction(t.stopAd)&&m.a.isFunction(t.skipAd)&&m.a.isFunction(t.resizeAd)&&m.a.isFunction(t.pauseAd)&&m.a.isFunction(t.resumeAd)&&m.a.isFunction(t.expandAd)&&m.a.isFunction(t.collapseAd)&&m.a.isFunction(t.subscribe)&&m.a.isFunction(t.unsubscribe))}(0,r))return null;if(!r)throw new Error("VpaidFrame::initVpaid(); failed: can not get VPAID creative.");return t._creative=r}var Ti=function(e){function t(){var e,n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,_i(Ci(e=!(n=Vi(t).call(this))||"object"!==Ai(n)&&"function"!=typeof n?Ci(this):n),"_scriptLoaderFrame",null),_i(Ci(e),"_vpaidScript",null),_i(Ci(e),"_creative",null),_i(Ci(e),"_volumeButton",null),_i(Ci(e),"_closeButton",null),_i(Ci(e),"_admarkButton",null),e}var n,r,i,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oi(e,t)}(t,Mr),n=t,(r=[{key:"setup",value:function(e){return xi(Vi(t.prototype),"setup",this).call(this,e),function(e){var t,n,r,i,o,a,u=e;return u.config.isEnabledVolumeButton&&(t=u,((n=new Nn([{option:{bottom:"3px",left:"3px"}}])).delegate=t).videoView.isMuted?n.mute():n.unmute(),t.appendView(n),t._volumeButton=n),u.config.isEnabledCloseButton&&(r=u,((i=new Dn([{option:{top:"3px",right:"3px"}}])).delegate=r).appendView(i),r._closeButton=i),u.config.isEnabledAdmarkButton&&(o=u,((a=new Ln([{option:{top:"3px",left:"3px"}}])).delegate=o).appendView(a),o._admarkButton=a),u}(this)}},{key:"clear",value:function(){var e,n,r;(null===(e=(r=this)._vpaidScript)||void 0===e?void 0:e.parentElement)&&r._vpaidScript.parentElement.removeChild(r._vpaidScript),((r._vpaidScript=null)===(n=r._scriptLoaderFrame)||void 0===n?void 0:n.parentElement)&&r._scriptLoaderFrame.parentElement.removeChild(r._scriptLoaderFrame),r._scriptLoaderFrame=null,r._creative=null,r._volumeButton&&(r._volumeButton.clear(),r._volumeButton=null),r._closeButton&&(r._closeButton.clear(),r._closeButton=null),r._admarkButton&&(r._admarkButton.clear(),r._admarkButton=null),xi(Vi(t.prototype),"clear",this).call(this)}},{key:"create",value:(o=Si(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bi(this);case 2:r=Fi(this),null===(t=this.videoView)||void 0===t||null===(n=t.setCreative)||void 0===n||n.call(t,r);case 4:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"unload",value:(i=Si(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.clear();case 1:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"updateLayout",value:function(){var e,n=xi(Vi(t.prototype),"updateLayout",this).call(this),r=Math.floor(n.width),i=Math.floor(n.height);null===(e=this._creative)||void 0===e||e.resizeAd(r,i,"normal")}},{key:"muted",value:function(){var e;xi(Vi(t.prototype),"muted",this).call(this),null===(e=this._volumeButton)||void 0===e||e.mute()}},{key:"unmuted",value:function(){var e;xi(Vi(t.prototype),"unmuted",this).call(this),null===(e=this._volumeButton)||void 0===e||e.unmute()}},{key:"onUserVolumeSwitch",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onUserVolumeSwitch)||void 0===t||t.call(e)}},{key:"onUserClose",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onUserClose)||void 0===t||t.call(e)}}])&&Ei(n.prototype,r),t}();function ji(e){return(ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ui(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function zi(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){Ui(o,r,i,a,u,"next",e)}function u(e){Ui(o,r,i,a,u,"throw",e)}a(void 0)})}}function Li(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Di(e,t,n){return(Di="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Mi(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Mi(e){return(Mi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ni(e,t){return(Ni=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==ji(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,Mi(t).call(this))}var n,r,i,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ni(e,t)}(t,wi),n=t,(r=[{key:"clear",value:function(){Di(Mi(t.prototype),"clear",this).call(this)}},{key:"willAdCreate",value:(o=zi(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.vpaidFrame.create();case 2:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"willAdUnload",value:(i=zi(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.vpaidFrame.unload();case 2:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)})},{key:"vpaidFrame",get:function(){return this.view}}])&&Li(n.prototype,r),t}();function Hi(e){return(Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yi(e,t,n){return(Yi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ki(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ki(e){return(Ki=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gi(e,t){return(Gi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xi=function(e){function t(){var e,n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,Zi(qi(e=!(n=Ki(t).call(this))||"object"!==Hi(n)&&"function"!=typeof n?qi(this):n),"admarkButton",null),Zi(qi(e),"closeButton",null),Zi(qi(e),"detailButton",null),Zi(qi(e),"fullscreenButton",null),Zi(qi(e),"loadingButton",null),Zi(qi(e),"replayButton",null),Zi(qi(e),"optoutButton",null),Zi(qi(e),"volumeButton",null),Zi(qi(e),"endCard",null),Zi(qi(e),"headerFrame",null),Zi(qi(e),"mainFrame",null),Zi(qi(e),"footerFrame",null),Zi(qi(e),"leftSideFrame",null),Zi(qi(e),"rightSideFrame",null),e}var n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gi(e,t)}(t,Mr),n=t,(o=[{key:"clear",value:function(){var e,n,r,i,o,a,u,s,l,c,d,f,p,h;null===(e=this.admarkButton)||void 0===e||e.clear(),(this.admarkButton=null)===(n=this.closeButton)||void 0===n||n.clear(),(this.closeButton=null)===(r=this.detailButton)||void 0===r||r.clear(),(this.detailButton=null)===(i=this.fullscreenButton)||void 0===i||i.clear(),(this.fullscreenButton=null)===(o=this.loadingButton)||void 0===o||o.clear(),(this.loadingButton=null)===(a=this.replayButton)||void 0===a||a.clear(),(this.replayButton=null)===(u=this.optoutButton)||void 0===u||u.clear(),(this.optoutButton=null)===(s=this.volumeButton)||void 0===s||s.clear(),(this.volumeButton=null)===(l=this.endCard)||void 0===l||l.clear(),(this.endCard=null)===(c=this.headerFrame)||void 0===c||c.clear(),(this.headerFrame=null)===(d=this.mainFrame)||void 0===d||d.clear(),(this.mainFrame=null)===(f=this.footerFrame)||void 0===f||f.clear(),(this.footerFrame=null)===(p=this.leftSideFrame)||void 0===p||p.clear(),(this.leftSideFrame=null)===(h=this.rightSideFrame)||void 0===h||h.clear(),this.rightSideFrame=null,Yi(Ki(t.prototype),"clear",this).call(this)}},{key:"setup",value:function(e){if(!Yi(Ki(t.prototype),"setup",this).call(this,e))throw new Error("setup failed: super.setup failed.");var n;return(n=this).headerFrame=i.createElement("div"),n.mainFrame=i.createElement("div"),n.footerFrame=i.createElement("div"),n.leftSideFrame=i.createElement("div"),n.rightSideFrame=i.createElement("div"),n.headerFrame.id="dac-ivt-header-frame",n.headerFrame.style.width="100%",n.headerFrame.style.height="0px",n.mainFrame.id="dac-ivt-main-frame",n.mainFrame.style.width="100%",n.mainFrame.style.height="100%",n.footerFrame.id="dac-ivt-footer-frame",n.footerFrame.style.width="100%",n.footerFrame.style.height="0px",n.leftSideFrame.id="dac-ivt-left-side-frame",n.leftSideFrame.style.display="inline-block",n.leftSideFrame.style.verticalAlign="top",n.leftSideFrame.style.width="0px",n.leftSideFrame.style.height="100%",n.rightSideFrame.id="dac-ivt-right-side-frame",n.rightSideFrame.style.display="inline-block",n.rightSideFrame.style.verticalAlign="top",n.rightSideFrame.style.width="0px",n.rightSideFrame.style.height="100%",n.playerFrame.style.display="inline-block",n.playerFrame.style.verticalAlign="top",n.playerFrame.style.width="100%",n.playerFrame.style.height="100%",n.playerFrame.style.position="relative",n.element.setAttribute("role","wrapper"),n.element.appendChild(n.headerFrame),n.element.appendChild(n.mainFrame),n.element.appendChild(n.footerFrame),n.mainFrame.appendChild(n.leftSideFrame),n.mainFrame.appendChild(n.playerFrame.element),n.mainFrame.appendChild(n.rightSideFrame),function(e,t){e.config.isEnabledAdmarkButton&&(e.admarkButton=e.createAdmarkButton(),e.admarkButton.hide(),e.appendView(e.admarkButton)),e.config.isEnabledCloseButton&&(e.closeButton=e.createCloseButton(),e.closeButton.style.opacity=0,e.closeButton.hide(),e.appendView(e.closeButton)),e.config.isEnabledOptoutButton&&(e.optoutButton=e.createOptoutButton(),e.optoutButton.hide(),e.appendView(e.optoutButton)),e.config.isEnabledBorder&&(e.element.style.borderStyle="solid",e.element.style.borderWidth="1px 1px 1px 1px",e.element.style.borderColor="gray",e.element.style.boxSizing="border-box")}(this),function(e,t){(e.playerSlot.delegate=e).playerSlot.onClick=function(){e.config.isToFullscreenOnAdClick&&e.config.isInlineVideoSupport?e.onUserEnterFullscreen():e.onUserVideoClick()},e.config.endcardCompanion&&(e.endCard=e.createEndcardCompanion(e.config.endcardCompanion),e.endCard.hide(),e.playerSlot.appendView(e.endCard)),e.config.isEnabledFullscreenButton&&(e.fullscreenButton=e.createFullscreenButton(),e.fullscreenButton.style.opacity=0,e.fullscreenButton.hide(),e.playerSlot.appendView(e.fullscreenButton)),e.config.isEnabledVolumeButton&&(e.volumeButton=e.createVolumeButton(),e.volumeButton.style.opacity=0,e.volumeButton.hide(),e.playerSlot.appendView(e.volumeButton)),e.config.isEnabledReplayButton&&(e.replayButton=e.createReplaylButton(),e.replayButton.style.opacity=0,e.replayButton.hide(),e.playerSlot.appendView(e.replayButton)),e.config.isEnabledDetailButton&&(e.detailButton=e.createDetailButton(),e.detailButton.style.opacity=0,e.detailButton.hide(),e.playerSlot.appendView(e.detailButton)),e.loadingButton=e.createLoadingButton(),e.loadingButton.show(),e.playerSlot.appendView(e.loadingButton)}(this),this}},{key:"createAdmarkButton",value:function(){var e={option:{top:"3px",left:"3px",size:this.admarkButtonSize}};return new Ln(e)}},{key:"createCloseButton",value:function(){var e={option:{top:"3px",right:"3px",size:this.closeButtonSize}},t=new Dn(e);return t.delegate=this,t}},{key:"createDetailButton",value:function(){var e={option:{bottom:"3px",right:"3px",size:this.detailButtonSize}},t=new Wn(e);return t.delegate=this,t}},{key:"createFullscreenButton",value:function(){var e={option:{bottom:"3px",right:"3px",size:this.fullscreenButtonSize}},t=new Hn(e);return t.delegate=this,t}},{key:"createLoadingButton",value:function(){var e={style:{margin:"auto"},option:{top:"0",bottom:"0",left:"0",right:"0",size:this.loadingButtonSize}};return new Qn(e)}},{key:"createReplaylButton",value:function(){var e={option:{bottom:"3px",left:"3px",size:this.replayButtonSize}},t=new qn(e);return t.delegate=this,t}},{key:"createOptoutButton",value:function(){var e={option:{top:"0px",left:"1px",size:this.optoutButtonSize}},t=new Mn(e);return t.delegate=this,t}},{key:"createVolumeButton",value:function(){var e={option:{bottom:"3px",left:"3px",size:this.volumeButtonSize}},t=new Nn(e);return t.delegate=this,t}},{key:"createEndcardCompanion",value:function(e){var t=new Yn(e);return t.delegate=this,t}},{key:"loading",value:function(){var e,n,r,i,o,a,u,s,l;Yi(Ki(t.prototype),"loading",this).call(this),null===(e=this.admarkButton)||void 0===e||e.show(),null===(n=this.closeButton)||void 0===n||n.hide(),null===(r=this.detailButton)||void 0===r||r.hide(),null===(i=this.fullscreenButton)||void 0===i||i.hide(),null===(o=this.loadingButton)||void 0===o||o.show(),null===(a=this.optoutButton)||void 0===a||a.show(),null===(u=this.replayButton)||void 0===u||u.hide(),null===(s=this.volumeButton)||void 0===s||s.hide(),null===(l=this.endCard)||void 0===l||l.hide()}},{key:"playing",value:function(){var e,n,r,i=this;Yi(Ki(t.prototype),"playing",this).call(this),null===(e=this.loadingButton)||void 0===e||e.hide(),Promise.all([null===(n=this.detailButton)||void 0===n?void 0:n.fadeout(),null===(r=this.replayButton)||void 0===r?void 0:r.fadeout()]).then(function(){var e,t,n;null===(e=i.closeButton)||void 0===e||e.fadein(),null===(t=i.fullscreenButton)||void 0===t||t.fadein(),null===(n=i.volumeButton)||void 0===n||n.fadein(),i.endCard&&i.endCard.hide()})}},{key:"paused",value:function(){this.log.debug("paused.")}},{key:"ended",value:function(){var e,n,r=this;Yi(Ki(t.prototype),"ended",this).call(this),Promise.all([null===(e=this.fullscreenButton)||void 0===e?void 0:e.fadeout(),null===(n=this.volumeButton)||void 0===n?void 0:n.fadeout()]).then(function(){var e,t;null===(e=r.detailButton)||void 0===e||e.fadein(),null===(t=r.replayButton)||void 0===t||t.fadein(),r.endCard&&r.endCard.show()})}},{key:"muted",value:function(){var e;Yi(Ki(t.prototype),"muted",this).call(this),null===(e=this.volumeButton)||void 0===e||e.mute()}},{key:"unmuted",value:function(){var e;Yi(Ki(t.prototype),"unmuted",this).call(this),null===(e=this.volumeButton)||void 0===e||e.unmute()}},{key:"updateLayout",value:function(){var e,t,n,r,i,o,a,u,s,l,c,d,f,p,h,v,y,m,g,b,w,A,k,S,E,C;return n=(t=(e=this).element.getClientSize()).width,r=t.height,E=n/(S=(k=e).headerFrameDefaultSize).width||1,C=0<(C=S.height*E)?Math.floor(C):0,k.headerFrame.w="100%",i=k.headerFrame.h=C,w=n/(b=(g=e).footerFrameDefaultSize).width||1,A=0<(A=b.height*w)?Math.floor(A):0,g.footerFrame.w="100%",y=(o=function(e,t,n,r,i){var o=e,a=o.config.height;if(0<n){a=(n||0)-(r||0)-(i||0)}else{var u=o.leftSideFrameDefaultSize,s=o.rightSideFrameDefaultSize,l=o.playerFrameDefaultSize,c=u.width*(l.height/u.height)||0,d=s.width*(l.height/s.height)||0,f=l.width+c+d;a=l.height*(t/f)}return a=0<a?Math.floor(a):0,o.mainFrame.w="100%",o.mainFrame.h=a}(e,n,r,i,g.footerFrame.h=A))/(v=(h=e).leftSideFrameDefaultSize).height||1,m=0<(m=v.width*y)?Math.floor(m):0,h.leftSideFrame.w=m,h.leftSideFrame.h="100%",a=m,f=o/(d=(c=e).rightSideFrameDefaultSize).height||1,p=0<(p=d.width*f)?Math.floor(p):0,c.rightSideFrame.w=p,c.rightSideFrame.h="100%",u=p,s=Math.floor(n-a-u),l=Math.floor(o),e.playerFrame.element.w=s,e.playerFrame.element.h=l,e.videoCanvas.updateLayout(),e.videoCanvas.draw(),t}},{key:"onUserVideoClick",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserVideoClick(this)}},{key:"onUserClose",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserClose(this)}},{key:"onUserOptout",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserOptout(this)}},{key:"onUserVolumeSwitch",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserVolumeSwitch(this)}},{key:"onUserEnterFullscreen",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserEnterFullscreen(this)}},{key:"onUserReplay",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserReplay(this)}},{key:"hasEndCard",get:function(){return Boolean(this.endCard)}},{key:"admarkButtonSize",get:function(){return Ge.admarkButtonSize}},{key:"closeButtonSize",get:function(){return Ge.closeButtonSize}},{key:"detailButtonSize",get:function(){return Ge.detailButtonSize}},{key:"fullscreenButtonSize",get:function(){return Ge.fullscreenButtonSize}},{key:"loadingButtonSize",get:function(){return Ge.loadingButtonSize}},{key:"replayButtonSize",get:function(){return Ge.replayButtonSize}},{key:"optoutButtonSize",get:function(){return Ge.optoutButtonSize}},{key:"volumeButtonSize",get:function(){return Ge.volumeButtonSize}},{key:"headerFrameDefaultSize",get:function(){return new r.IvtSize(0,0)}},{key:"footerFrameDefaultSize",get:function(){return new r.IvtSize(0,0)}},{key:"leftSideFrameDefaultSize",get:function(){return new r.IvtSize(0,0)}},{key:"rightSideFrameDefaultSize",get:function(){return new r.IvtSize(0,0)}}])&&Qi(n.prototype,o),t}();function Ji(e){return(Ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function to(e,t){return!t||"object"!==Ji(t)&&"function"!=typeof t?no(e):t}function no(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ro(e,t,n){return(ro="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=io(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function io(e){return(io=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function ao(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}m.a.namespace();var uo=function(e){function t(){var e;return $i(this,t),ao(no(e=to(this,io(t).call(this))),"headerView",null),ao(no(e),"footerView",null),ao(no(e),"_headerFrameSize",new r.IvtSize(0,0)),ao(no(e),"_footerFrameSize",new r.IvtSize(0,0)),ao(no(e),"_bottomRightButton",null),e}var n,i;return oo(t,Xi),n=t,(i=[{key:"clear",value:function(){var e,n,r;null===(e=this._bottomRightButton)||void 0===e||e.clear(),this._bottomRightButton=null,this._headerFrameSize=null,(this._footerFrameSize=null)===(n=this.headerView)||void 0===n||n.clear(),(this.headerView=null)===(r=this.footerView)||void 0===r||r.clear(),this.footerView=null,ro(io(t.prototype),"clear",this).call(this)}},{key:"setup",value:function(e){var n=e||{};ro(io(t.prototype),"setup",this).call(this,n);var r=this.config.footerVastCompanion,i=this.config.headerImgUrl,o=this.config.headerSize,a=this.config.isToFullscreenOnAdClick,u=this.config.isEnabledDetailButton;return r&&(this.footerView=new lo(r),(this.footerView.delegate=this).footerFrame.appendChild(this.footerView.element),r.size&&(this._footerFrameSize.width=Number(r.size.width)||0,this._footerFrameSize.height=Number(r.size.height)||0)),i&&(this.headerView=new so(i),(this.headerView.delegate=this).headerFrame.appendChild(this.headerView.element),o&&(this._headerFrameSize.width=Number(o.width)||0,this._headerFrameSize.height=Number(o.height)||0)),a&&(this.fullscreenButton&&(this.fullscreenButton.clear(),this.fullscreenButton=null),u&&(this._bottomRightButton=this.createDetailButton(),this.playerSlot.appendView(this._bottomRightButton))),this}},{key:"loading",value:function(){var e;ro(io(t.prototype),"loading",this).call(this),null===(e=this._bottomRightButton)||void 0===e||e.hide()}},{key:"playing",value:function(){var e;ro(io(t.prototype),"playing",this).call(this),null===(e=this._bottomRightButton)||void 0===e||e.fadein()}},{key:"ended",value:function(){var e;ro(io(t.prototype),"ended",this).call(this),null===(e=this._bottomRightButton)||void 0===e||e.fadeout()}},{key:"headerFrameDefaultSize",get:function(){return this._headerFrameSize}},{key:"footerFrameDefaultSize",get:function(){return this._footerFrameSize}}])&&eo(n.prototype,i),t}(),so=function(e){function t(e,n){var r;$i(this,t);var i={attributes:{id:"dac-ivt-header"},style:{position:"relative"},option:{layout:"contain",size:{width:"100%",height:"100%"},sources:{normal:e}}};return(r=to(this,io(t).call(this))).setup([].concat(n,i)),r}return oo(t,hn),t}(),lo=function(e){function t(e,n){var r;return $i(this,t),(r=to(this,io(t).call(this))).setup(e,[].concat(n,{attributes:{id:"dac-ivt-footer"},option:{layout:"contain",size:{width:"100%",height:"100%"}}})),r}return oo(t,mn),t}(),co=uo;function fo(e){return(fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function po(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ho(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vo(e,t,n){return(vo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=yo(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function yo(e){return(yo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mo(e,t){return(mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function go(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}m.a.namespace();var bo=function(e){function t(){var e,n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,go(ho(e=!(n=yo(t).call(this))||"object"!==fo(n)&&"function"!=typeof n?ho(this):n),"_leftCompanionSize",new r.IvtSize(0,0)),go(ho(e),"_rightCompanionSize",new r.IvtSize(0,0)),e}var n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mo(e,t)}(t,co),n=t,(i=[{key:"clear",value:function(){this._leftCompanionSize=null,this._rightCompanionSize=null,vo(yo(t.prototype),"clear",this).call(this)}},{key:"setup",value:function(e){var n=e||{};vo(yo(t.prototype),"setup",this).call(this,n);var r=this.config.leftVastCompanion;r&&(this.leftCompanion=(new mn).setup(r,[{option:{size:{width:"100%",height:"100%"}}}]),(this.leftCompanion.delegate=this).leftSideFrame.appendChild(this.leftCompanion.element),this._leftCompanionSize=r.size.clone());var i=this.config.rightVastCompanion;return i&&(this.rightCompanion=(new mn).setup(i,[{option:{size:{width:"100%",height:"100%"}}}]),(this.rightCompanion.delegate=this).rightSideFrame.appendChild(this.rightCompanion.element),this._rightCompanionSize=i.size.clone()),this}},{key:"closeButtonSize",get:function(){return Ge.billboardCloseButtonSize}},{key:"detailButtonSize",get:function(){return Ge.billboardDetailButtonSize}},{key:"fullscreenButtonSize",get:function(){return Ge.billboardFullscreenButtonSize}},{key:"loadingButtonSize",get:function(){return Ge.billboardLoadingButtonSize}},{key:"replayButtonSize",get:function(){return Ge.billboardReplayButtonSize}},{key:"volumeButtonSize",get:function(){return Ge.billboardVolumeButtonSize}},{key:"leftSideFrameDefaultSize",get:function(){return this._leftCompanionSize}},{key:"rightSideFrameDefaultSize",get:function(){return this._rightCompanionSize}}])&&po(n.prototype,i),t}();function wo(e){return(wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ko(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function So(e,t,n){return(So="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Eo(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Eo(e){return(Eo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Co(e,t){return(Co=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vo(e){var t=e,n=new r.IvtSize(0,0),i=t.element.getClientSize(),o=i.width,a=i.height,u=t.playerFrameDefaultSize;if(u.height<=0)return n;if(t.element.parentElement.style.height.includes("auto")){var s=o-u.width;n.width=0<s?s:0,n.height=u.height}else{var l=o-(u.width*(a/u.height)||0);n.width=0<l?l:0,n.height=a}return n}function Oo(e){var t=e,n=new r.IvtSize(0,0),i=t.element.getClientSize(),o=i.width,a=i.height,u=t.playerFrameDefaultSize;if(u.width<=0)return n;var s=u.height*(o/u.width)||0;if(t.element.parentElement.style.height.includes("auto"))n.width=o,n.height=s;else{var l=a-s;n.width=o,n.height=0<l?l:0}return n}var _o=function(e){function t(){var e,n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,xo(ko(e=!(n=Eo(t).call(this))||"object"!==wo(n)&&"function"!=typeof n?ko(this):n),"_companionView",null),xo(ko(e),"_prButton",null),e}var n,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Co(e,t)}(t,co),n=t,(o=[{key:"clear",value:function(){this._companionView.clear(),this._companionView=null,this._prButton.clear(),this._prButton=null,So(Eo(t.prototype),"clear",this).call(this)}},{key:"setup",value:function(e){var n=e||{};So(Eo(t.prototype),"setup",this).call(this,n);var r=this.config.infeedStyle;if(m.a.isEmpty(r)||this.footerView)return this;var o=Fu.adStore.vast,a=o.adTitle,u=o.description,s=o.advertiser;this.log.debug("infeedStyle",r),this.log.debug("Vast.AdTitle: ".concat(a,".")),this.log.debug("Vast.Description: ".concat(u,".")),this.log.debug("Vast.Advertiser: ".concat(s,"."));var l=function(e){var t=e||{},n=t.infeedStyle||{};if(m.a.isEmpty(t.adTitle)||m.a.isEmpty(t.description)||m.a.isEmpty(t.advertiser))return null;var r={style:{cursor:"pointer"}};n.area&&m.a.deepMerge(r.style,n.area.style);var o=(new lt).setup("div",r);if(o.element.style.position="relative",o.element.style.width="100%",o.element.style.height="100%",n.text){if(n.text.adTitle){var a=i.createElement("span");a.textContent=t.adTitle,m.a.deepMerge(a.style,n.text.adTitle.style),o.element.appendChild(a)}if(n.text.description){var u=i.createElement("span");u.textContent=t.description,m.a.deepMerge(u.style,n.text.description.style),o.element.appendChild(u)}if(n.text.advertiser){var s=i.createElement("span");s.textContent=t.advertiser,m.a.deepMerge(s.style,n.text.advertiser.style),o.element.appendChild(s)}}return o}({infeedStyle:r,adTitle:a,description:u,advertiser:s});if(l&&m.a.isNotEmpty(r.area)&&m.a.isNotEmpty(r.area.position)){switch(r.area.position){case"left":this.leftSideFrame.appendChild(l.element);break;case"right":this.rightSideFrame.appendChild(l.element);break;case"top":this.headerFrame.appendChild(l.element);break;case"bottom":this.footerFrame.appendChild(l.element)}l.element.parentElement&&((l.delegate=this)._companionView=l)}var c=function(e){var t=(e||{}).infeedStyle||{};if(m.a.isEmpty(t.prButton))return null;var n={};if(t.prButton.style&&(n.style={},m.a.deepMerge(n.style,t.prButton.style)),m.a.isString(t.prButton.position)){switch(t.prButton.position.trim()){case"leftTop":n.option={top:"3px",left:"3px"};break;case"rightTop":n.option={top:"3px",right:"3px"};break;case"leftBottom":n.option={bottom:"3px",left:"3px"};break;case"rightBottom":n.option={bottom:"3px",right:"3px"}}n.option.size=Ge.infeedPrButtonSize}return new Kn([n])}({infeedStyle:r});return c&&((c.delegate=this).appendView(c),this._prButton=c),this}},{key:"onViewClick",value:function(e){e===this._companionView?this.onUserVideoClick():So(Eo(t.prototype),"onViewClick",this).call(this,e)}},{key:"closeButtonSize",get:function(){return Ge.infeedCloseButtonSize}},{key:"detailButtonSize",get:function(){return Ge.infeedDetailButtonSize}},{key:"fullscreenButtonSize",get:function(){return Ge.infeedFullscreenButtonSize}},{key:"loadingButtonSize",get:function(){return Ge.infeedLoadingButtonSize}},{key:"replayButtonSize",get:function(){return Ge.infeedReplayButtonSize}},{key:"volumeButtonSize",get:function(){return Ge.infeedVolumeButtonSize}},{key:"leftSideFrameDefaultSize",get:function(){var e,t;return this.leftSideFrame===(null===(e=this._companionView)||void 0===e?void 0:null===(t=e.element)||void 0===t?void 0:t.parentElement)?Vo(this):new r.IvtSize(0,0)}},{key:"rightSideFrameDefaultSize",get:function(){var e,t;return this.rightSideFrame===(null===(e=this._companionView)||void 0===e?void 0:null===(t=e.element)||void 0===t?void 0:t.parentElement)?Vo(this):new r.IvtSize(0,0)}},{key:"headerFrameDefaultSize",get:function(){var e,t;return this.headerFrame===(null===(e=this._companionView)||void 0===e?void 0:null===(t=e.element)||void 0===t?void 0:t.parentElement)?Oo(this):new r.IvtSize(0,0)}},{key:"footerFrameDefaultSize",get:function(){var e,n;return this.footerView?So(Eo(t.prototype),"footerFrameDefaultSize",this):this.footerFrame===(null===(e=this._companionView)||void 0===e?void 0:null===(n=e.element)||void 0===n?void 0:n.parentElement)?Oo(this):new r.IvtSize(0,0)}}])&&Ao(n.prototype,o),t}();function Bo(e){return(Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ro(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Po(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Io(e,t,n){return t&&Po(e.prototype,t),n&&Po(e,n),e}function Fo(e,t){return!t||"object"!==Bo(t)&&"function"!=typeof t?To(e):t}function To(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jo(e,t,n){return(jo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Uo(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Uo(e){return(Uo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}var Lo=m.a.namespace(),Do=Ge.inreadVolumeOffButtonSrc,Mo=Ge.inreadVolumeOnButtonSrc,No=Ge.inreadRTVolumeButtonSize,Wo=Ge.inreadTimeBarSize,Ho=Ge.inreadVolumeBarSize,Qo=Ge.inreadVolumeButtonSize,qo=Ge.inreadVolumeSliderSize,Yo=function(e){function t(){var e,n,r,i;Ro(this,t),i=void 0,(r="_requestId")in(n=To(e=Fo(this,Uo(t).call(this))))?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,e._requestId=null;var o=Lo(To(e));return o.volumeBar=null,o.volumeButtonOnBar=null,o.volumeSlider=null,o.timeBar=null,e}return zo(t,Xi),Io(t,[{key:"clear",value:function(){Ko(this);var e=Lo(this);e.volumeButtonOnBar&&e.volumeButtonOnBar.clear(),e.volumeButtonOnBar=null,delete e.volumeButtonOnBar,e.volumeSlider&&e.volumeSlider.clear(),e.volumeSlider=null,delete e.volumeSlider,e.volumeBar&&e.volumeBar.clear(),e.volumeBar=null,delete e.volumeBar,e.timeBar&&e.timeBar.clear(),e.timeBar=null,delete e.timeBar,jo(Uo(t.prototype),"clear",this).call(this)}},{key:"setup",value:function(e){var n,r,o;return jo(Uo(t.prototype),"setup",this).call(this,e),null===(n=this.closeButton)||void 0===n||n.clear(),(this.closeButton=null)===(r=this.fullscreenButton)||void 0===r||r.clear(),(this.fullscreenButton=null)===(o=this.detailButton)||void 0===o||o.clear(),this.detailButton=null,0<Fu.option.autoCloseDuration&&(this.replayButton.clear(),this.replayButton=null),function(e){var t,n,r,o,a,s,l,c=e,d=Lo(c);Pe.deviceType===u.IvtDeviceType.PC&&(Pe.browserType===u.IvtBrowserType.Safari&&11<=Pe.browserVersion&&Pe.browserVersion<13||(c.playerSlot.onMouseover=function(e){var t;(t=Lo(c)).volumeBar.show(),t.volumeSlider.show(),t.volumeButtonOnBar.show()},c.playerSlot.onMouseout=function(){var e;(e=Lo(c)).volumeBar.hide(),e.volumeSlider.hide(),e.volumeButtonOnBar.hide()})),d.timeBar=((l=i.createElement("timebar")).style.backgroundColor="#FFD700",l.style.position="absolute",l.style.left="0px",l.style.bottom="0px",l.size=Wo,l),c.playerSlot.element.appendChild(d.timeBar),d.volumeBar=((s=i.createElement("volumeBar")).style.backgroundColor="#999999",s.style.opacity="0.5",s.style.position="absolute",s.style.right="0px",s.style.top="0px",s.size=Ho,s),d.volumeBar.hide(),c.playerSlot.element.appendChild(d.volumeBar),d.volumeSlider=(r=c,o={},(a=(new Zo).setup(o)).delegate=r,a),d.volumeSlider.hide(),c.playerSlot.appendView(d.volumeSlider),d.volumeButtonOnBar=(t=c,(n=new Nn({option:{top:"5px",right:"110px",size:No,sources:{normal:Do}}})).volumeOffButtonSrc=Do,n.volumeOnButtonSrc=Mo,n.delegate=t,n),d.volumeButtonOnBar.hide(),c.playerSlot.appendView(d.volumeButtonOnBar)}(this),this}},{key:"createVolumeButton",value:function(){var e=new Nn({option:{bottom:"5px",right:"5px",size:Qo,sources:{normal:Do}}});return e.volumeOffButtonSrc=Do,e.volumeOnButtonSrc=Mo,e.delegate=this,e}},{key:"playing",value:function(){var e;jo(Uo(t.prototype),"playing",this).call(this),(e=this)._requestId||(e._requestId=window.requestAnimationFrame(function t(){Go(e),e._requestId=window.requestAnimationFrame(t)}))}},{key:"paused",value:function(){jo(Uo(t.prototype),"paused",this).call(this),Ko(this)}},{key:"ended",value:function(){jo(Uo(t.prototype),"ended",this).call(this),Ko(this);var e=Lo(this);e.timeBar&&(e.timeBar.w=0)}},{key:"muted",value:function(){jo(Uo(t.prototype),"muted",this).call(this);var e=Lo(this);e.volumeButtonOnBar&&e.volumeButtonOnBar.mute()}},{key:"unmuted",value:function(){jo(Uo(t.prototype),"unmuted",this).call(this);var e=Lo(this);e.volumeButtonOnBar&&e.volumeButtonOnBar.unmute(),e.volumeSlider.element.value=100*this.player.volume}},{key:"volumeChange",value:function(e){jo(Uo(t.prototype),"volumeChange",this).call(this,e);var n=Lo(this);0<e?n.volumeSlider&&(n.volumeSlider.element.value=100*e):0===e&&n.volumeSlider&&(n.volumeSlider.element.value=0)}},{key:"updateLayout",value:function(){var e=jo(Uo(t.prototype),"updateLayout",this).call(this),n=Lo(this),r=this.element.w;return n.volumeBar&&n.volumeBar.wh(r,32),e}},{key:"onUserVolumeChange",value:function(){var e=Lo(this).volumeSlider.element.value;if(e){var t,n=e/100;null===(t=this.delegate)||void 0===t||t.onUserVolumeChange(n)}}}]),t}();function Ko(e){var t=e;t._requestId&&(window.cancelAnimationFrame(t._requestId),t._requestId=null),Go(t)}function Go(e){var t=e,n=t.player;if(n){var r=Lo(t),i=n.duration,o=n.currentTime,a=t.element.w,u=r.timeBar.w;0<i&&(u=a*o/i),a<u&&(u=a),r.timeBar.w=u}}var Zo=function(e){function t(){return Ro(this,t),Fo(this,Uo(t).call(this))}return zo(t,yn),Io(t,[{key:"setup",value:function(e){var n={attributes:{className:"dac-ivt-volume-slider"},type:"range",value:0,style:{position:"absolute"},option:{top:"14px",right:"20px",size:qo}},r=e||{},i=m.a.deepMerge({},n,r);return jo(Uo(t.prototype),"setup",this).call(this,i),this}},{key:"onInput",value:function(e){var t,n;this.log.debug("onInput."),null===(t=this.delegate)||void 0===t||null===(n=t.onUserVolumeChange)||void 0===n||n.call(t)}},{key:"onChange",value:function(e){var t,n;this.log.debug("onInput."),null===(t=this.delegate)||void 0===t||null===(n=t.onUserVolumeChange)||void 0===n||n.call(t)}},{key:"onClick",value:function(e){var t,n;this.log.debug("onClick."),null===(t=this.delegate)||void 0===t||null===(n=t.onUserVolumeChange)||void 0===n||n.call(t)}}]),t}(),Xo=Yo;function Jo(e){return(Jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ea(e,t,n){return(ea="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ta(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ta(e){return(ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function na(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ra(e,t,n){return t&&na(e.prototype,t),n&&na(e,n),e}function ia(e,t){return(ia=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aa=Ge.closeButtonSize,ua=Ge.volumeButtonSize,sa=function(e){function t(){var e,n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,oa($o(e=!(n=ta(t).call(this))||"object"!==Jo(n)&&"function"!=typeof n?$o(this):n),"closeButton",null),oa($o(e),"volumeButton",null),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ia(e,t)}(t,lt),ra(t,[{key:"adContainerId",get:function(){return this._adContainerId}},{key:"config",get:function(){var e;return null===(e=Fu.getConfig(this.adContainerId))||void 0===e?void 0:e.toolbar}}]),ra(t,[{key:"clear",value:function(){var e,n;null===(e=this.closeButton)||void 0===e||e.clear(),(this.closeButton=null)===(n=this.volumeButton)||void 0===n||n.clear(),this.volumeButton=null,ea(ta(t.prototype),"clear",this).call(this)}},{key:"setup",value:function(e){if(!ea(ta(t.prototype),"setup",this).call(this,"div",e))throw new Error("setup failed: super.setup failed.");if(!e.adContainerId)throw new Error("setup failed: Not declared adContainerId.");var n;return this._adContainerId=e.adContainerId,(n=this).element.style.top="-26px",n.element.style.left="0px",n.element.style.width="100%",n.element.style.height="24px",n.element.style.position="absolute",n.closeButton=n.createCloseButton(),n.closeButton.style.opacity=0,n.closeButton.hide(),n.appendView(n.closeButton),n.volumeButton=n.createVolumeButton(),n.volumeButton.style.opacity=0,n.volumeButton.hide(),n.appendView(n.volumeButton),this}},{key:"createCloseButton",value:function(){var e=new Dn({option:{right:"3px",size:aa}});return e.delegate=this,e}},{key:"createVolumeButton",value:function(){var e=new Nn({option:{left:"3px",size:ua}});return e.delegate=this,e}},{key:"appear",value:function(){var e,t;null===(e=this.closeButton)||void 0===e||e.fadein(),null===(t=this.volumeButton)||void 0===t||t.fadein()}},{key:"disappear",value:function(){var e,t;null===(e=this.closeButton)||void 0===e||e.fadeout(),null===(t=this.volumeButton)||void 0===t||t.fadeout()}},{key:"loading",value:function(){}},{key:"playing",value:function(){var e,t;null===(e=this.closeButton)||void 0===e||e.fadein(),null===(t=this.volumeButton)||void 0===t||t.fadein()}},{key:"paused",value:function(){}},{key:"ended",value:function(){var e;null===(e=this.volumeButton)||void 0===e||e.fadeout()}},{key:"muted",value:function(){var e;null===(e=this.volumeButton)||void 0===e||e.mute()}},{key:"unmuted",value:function(){var e;null===(e=this.volumeButton)||void 0===e||e.unmute()}},{key:"onUserClose",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserClose(this)}},{key:"onUserVolumeSwitch",value:function(){var e;null===(e=this.delegate)||void 0===e||e.onUserVolumeSwitch(this)}}]),t}();function la(e){return(la="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ca(e,t,n){return(ca="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=da(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function da(e){return(da=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pa(e,t,n){return t&&fa(e.prototype,t),n&&fa(e,n),e}function ha(e,t){return(ha=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var va=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e=this,!(n=da(t).call(this))||"object"!==la(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n;var e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ha(e,t)}(t,Kt),pa(t,[{key:"didAdLoad",value:function(){this.toolbar.loading()}},{key:"didAdStart",value:function(){this.toolbar.playing()}},{key:"didAdPlay",value:function(){this.toolbar.playing()}},{key:"didAdPause",value:function(){this.toolbar.paused()}},{key:"didAdStop",value:function(){this.toolbar.ended()}},{key:"didAdReplay",value:function(){this.toolbar.playing()}},{key:"didAdMute",value:function(){this.toolbar.muted()}},{key:"didAdUnmute",value:function(){this.toolbar.unmuted()}},{key:"onUserClose",value:function(){Kl.userAction.close(this.adContainerId)}},{key:"onUserVolumeSwitch",value:function(){Fu.adStore.isMuted?Kl.userAction.unmute():Kl.userAction.mute()}},{key:"toolbar",get:function(){return this.view}},{key:"adContainerId",get:function(){return this.toolbar.adContainerId}}]),pa(t,[{key:"setup",value:function(e){var n=e||{};return ca(da(t.prototype),"setup",this).call(this,n),this}}]),t}();function ya(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ma(e){return(ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ba(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wa(e,t,n){return(wa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Aa(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Aa(e){return(Aa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ka(e,t){return(ka=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ea(e){var t=e,n=t._creative,r=t._callbacks;if(n&&r){for(var i=Object.entries(r),o=0;o<i.length;o++){var a=ya(i[o],2),u=a[0],s=a[1];n.unsubscribe(s,u)}t._callbacks=null}}var Ca=function(e){function t(){var e,n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,Sa(ba(e=!(n=Aa(t).call(this))||"object"!==ma(n)&&"function"!=typeof n?ba(this):n),"_callbacks",null),Sa(ba(e),"_creative",null),Sa(ba(e),"_isStarted",!1),Sa(ba(e),"_isEnded",!1),Sa(ba(e),"_isPaused",!0),Sa(ba(e),"_lastVpaidVolume",1),e}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ka(e,t)}(t,oi),n=t,(r=[{key:"setup",value:function(e){return wa(Aa(t.prototype),"setup",this).call(this,e),this._callbacks=null,this._creative=null,this._isStarted=!1,this._isEnded=!1,this._isPaused=!0,this._lastVpaidVolume=1,this}},{key:"clear",value:function(){Ea(this),this._creative&&(this._creative=null),this._isStarted=!1,this._isEnded=!1,this._isPaused=!0,this._lastVpaidVolume=0,wa(Aa(t.prototype),"clear",this).call(this)}},{key:"setCreative",value:function(e){this._creative=e}},{key:"setMuted",value:function(e){e!==this.isMuted&&(e?(this._lastVpaidVolume=this.volume,wa(Aa(t.prototype),"setMuted",this).call(this,!0),this.setVolume(0)):(wa(Aa(t.prototype),"setMuted",this).call(this,!1),this.setVolume(this._lastVpaidVolume)))}},{key:"setVolume",value:function(e){var t,n;null===(t=this._creative)||void 0===t||null===(n=t.setAdVolume)||void 0===n||n.call(t,e)}},{key:"load",value:function(){var e,t,n,r,i,o,a,u,s,l,c,d,f,p,h,v=function(e){for(var t=e,n=t._creative,r={AdLoaded:t.onVpaidLoad,AdStarted:t.onVpaidStart,AdStopped:t.onVpaidStop,AdPlaying:t.onVpaidPlay,AdPaused:t.onVpaidPause,AdVolumeChange:t.onVpaidVolumeChange,AdImpression:t.onVpaidImpression,AdClickThru:t.onVpaidClickThru,AdUserClose:t.onVpaidUserClose,AdError:t.onVpaidError,AdLog:t.onVpaidLog,AdUserAcceptInvitation:t.onVpaidUserAcceptInvitation,AdUserMinimize:t.onVpaidUserMinimize,AdVideoStart:t.onVpaidProgressStart,AdVideoFirstQuartile:t.onVpaidProgressFirstQuartile,AdVideoMidpoint:t.onVpaidProgressMidpoint,AdVideoThirdQuartile:t.onVpaidProgressThirdQuartile,AdVideoComplete:t.onVpaidProgressComplete,AdExpandedChange:t.onVpaidExpandedChange,AdInteraction:t.onVpaidInteraction,AdLinearChange:t.onVpaidLinearChange,AdSkipped:t.onVpaidSkip,AdRemainingTimeChange:t.onVpaidRemainingTimeChange,AdSizeChange:t.onVpaidSizeChange,AdDurationChange:t.onVpaidDurationChange,AdSkippableStateChange:t.onVpaidSkippableStateChange},i=Object.entries(r),o=0;o<i.length;o++){var a=ya(i[o],2),u=a[0],s=a[1];n.subscribe(s,u,t)}return r}(this);this._callbacks=v,o=null===(e=Fu.adStore.vast)||void 0===e?void 0:e.adParameters,u=null==(a=null===(t=Fu.adStore.vast)||void 0===t?void 0:t.media)?void 0:a.width,s=null==a?void 0:a.height,l=null==a?void 0:a.bitrate,c=isFinite(u)?u:640,d=isFinite(s)?s:360,f=l,p={AdParameters:o},h={slot:null===(n=Fu.primaryAdContainer.view)||void 0===n?void 0:null===(r=n.adView)||void 0===r?void 0:null===(i=r.playerSlot)||void 0===i?void 0:i.element,videoSlot:this.element,videoSlotCanAutoPlay:!0},this._creative.initAd(c,d,"normal",f,p,h)}},{key:"unload",value:function(){var e;Ea(this),null===(e=this._creative)||void 0===e||e.stopAd(),wa(Aa(t.prototype),"clear",this).call(this)}},{key:"play",value:function(){var e,t;this.isPlaying||(this._isStarted?null===(e=this._creative)||void 0===e||e.resumeAd():null===(t=this._creative)||void 0===t||t.startAd())}},{key:"pause",value:function(){var e;this.isPaused||null===(e=this._creative)||void 0===e||e.pauseAd()}},{key:"onVpaidLoad",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidLoad)||void 0===t||t.call(e)}},{key:"onVpaidStart",value:function(){var e,t;this._isStarted=!0,this._isEnded=!1,this._isPaused=!1,null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidStart)||void 0===t||t.call(e)}},{key:"onVpaidStop",value:function(){var e,t;this._isStarted=!0,this._isEnded=!0,this._isPaused=!0,null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidStop)||void 0===t||t.call(e)}},{key:"onVpaidPlay",value:function(){var e,t;this._isPaused=!1,null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidPlay)||void 0===t||t.call(e)}},{key:"onVpaidPause",value:function(){var e,t;this._isPaused=!0,null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidPause)||void 0===t||t.call(e)}},{key:"onVpaidVolumeChange",value:function(){this.onVideoVolumeChange()}},{key:"onVpaidImpression",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidImpression)||void 0===t||t.call(e)}},{key:"onVpaidClickThru",value:function(e,t,n){var r,i;null===(r=this.delegate)||void 0===r||null===(i=r.onVpaidClickThru)||void 0===i||i.call(r,e,t,n)}},{key:"onVpaidUserClose",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidUserClose)||void 0===t||t.call(e)}},{key:"onVpaidError",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidError)||void 0===t||t.call(e)}},{key:"onVpaidLog",value:function(e){var t,n;null===(t=this.delegate)||void 0===t||null===(n=t.onVpaidLog)||void 0===n||n.call(t,e)}},{key:"onVpaidUserAcceptInvitation",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidUserAcceptInvitation)||void 0===t||t.call(e)}},{key:"onVpaidUserMinimize",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidUserMinimize)||void 0===t||t.call(e)}},{key:"onVpaidProgressStart",value:function(){var e,t;this._isStarted||this.onVpaidStart(),this._isEnded=!1,null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidProgressStart)||void 0===t||t.call(e)}},{key:"onVpaidProgressFirstQuartile",value:function(){var e,t;this._isStarted=!0,this._isEnded=!1,null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidProgressFirstQuartile)||void 0===t||t.call(e)}},{key:"onVpaidProgressMidpoint",value:function(){var e,t;this._isStarted=!0,this._isEnded=!1,null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidProgressMidpoint)||void 0===t||t.call(e)}},{key:"onVpaidProgressThirdQuartile",value:function(){var e,t;this._isStarted=!0,this._isEnded=!1,null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidProgressThirdQuartile)||void 0===t||t.call(e)}},{key:"onVpaidProgressComplete",value:function(){var e,t;this._isStarted=!0,this._isEnded=!0,null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidProgressComplete)||void 0===t||t.call(e)}},{key:"onVpaidExpandedChange",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidExpandedChange)||void 0===t||t.call(e)}},{key:"onVpaidInteraction",value:function(e){var t,n;null===(t=this.delegate)||void 0===t||null===(n=t.onVpaidInteraction)||void 0===n||n.call(t,e)}},{key:"onVpaidLinearChange",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidLinearChange)||void 0===t||t.call(e)}},{key:"onVpaidSkip",value:function(){var e,t;this.isPaused=!0,null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidSkip)||void 0===t||t.call(e)}},{key:"onVpaidRemainingTimeChange",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidRemainingTimeChange)||void 0===t||t.call(e)}},{key:"onVpaidSizeChange",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidSizeChange)||void 0===t||t.call(e)}},{key:"onVpaidDurationChange",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidDurationChange)||void 0===t||t.call(e)}},{key:"onVpaidSkippableStateChange",value:function(){var e,t;null===(e=this.delegate)||void 0===e||null===(t=e.onVpaidSkippableStateChange)||void 0===t||t.call(e)}},{key:"progress",get:function(){var e=this.duration,t=this.adRemainingTime;if(0<e&&0<t){var n=e-t;return 0<n?n:0}return-1}},{key:"duration",get:function(){var e,n,r=null===(e=this._creative)||void 0===e?void 0:null===(n=e.getAdDuration)||void 0===n?void 0:n.call(e);if(0<r)return r;var i=0<wa(Aa(t.prototype),"duration",this);return 0<i?i:-1}},{key:"isMuted",get:function(){return!(0<this.volume)}},{key:"volume",get:function(){var e,t;return null===(e=this._creative)||void 0===e?void 0:null===(t=e.getAdVolume)||void 0===t?void 0:t.call(e)}},{key:"isPaused",get:function(){return this._isPaused||this._isEnded}},{key:"isPlaying",get:function(){return!this.isPaused}},{key:"adLinear",get:function(){var e;return null===(e=this._creative)||void 0===e?void 0:e.getAdLinear()}},{key:"adWidth",get:function(){var e;return null===(e=this._creative)||void 0===e?void 0:e.getAdWidth()}},{key:"adHeight",get:function(){var e;return null===(e=this._creative)||void 0===e?void 0:e.getAdHeight()}},{key:"adExpanded",get:function(){var e;return null===(e=this._creative)||void 0===e?void 0:e.getAdExpanded()}},{key:"adSkippableState",get:function(){var e;return null===(e=this._creative)||void 0===e?void 0:e.getAdSkippableState()}},{key:"adCompanions",get:function(){var e;return null===(e=this._creative)||void 0===e?void 0:e.getAdCompanions()}},{key:"adIcons",get:function(){var e;return null===(e=this._creative)||void 0===e?void 0:e.getAdIcons()}},{key:"adRemainingTime",get:function(){var e,t;return null===(e=this._creative)||void 0===e?void 0:null===(t=e.getAdRemainingTime)||void 0===t?void 0:t.call(e)}}])&&ga(n.prototype,r),t}();function xa(e){return(xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Va(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function Oa(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){Va(o,r,i,a,u,"next",e)}function u(e){Va(o,r,i,a,u,"throw",e)}a(void 0)})}}function _a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ba(e,t,n){return(Ba="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ra(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ra(e){return(Ra=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pa(e,t){return(Pa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ia=new p("VpaidViewController"),Fa=function(e){function t(){return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),e=this,!(n=Ra(t).call(this))||"object"!==xa(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):n;var e,n}var n,r,i,o,a,s,l,c,d,f,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pa(e,t)}(t,Xr),n=t,(r=[{key:"clear",value:function(){Ba(Ra(t.prototype),"clear",this).call(this)}},{key:"willAdLoad",value:(p=Oa(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ba(Ra(t.prototype),"willAdLoad",this).call(this));case 1:case"end":return e.stop()}},e,this)})),function(){return p.apply(this,arguments)})},{key:"willAdUnload",value:(f=Oa(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ba(Ra(t.prototype),"willAdUnload",this).call(this));case 1:case"end":return e.stop()}},e,this)})),function(){return f.apply(this,arguments)})},{key:"willAdStart",value:(d=Oa(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!0===this.videoView.isPlaying)return Ia.debug("willAdStart(); but video is already playing."),e.abrupt("return",Promise.resolve());e.next=3;break;case 3:return t=this._addTask("start"),this.videoView.play(),e.abrupt("return",t);case 6:case"end":return e.stop()}},e,this)})),function(){return d.apply(this,arguments)})},{key:"willAdStop",value:(c=Oa(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ba(Ra(t.prototype),"willAdStop",this).call(this));case 1:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)})},{key:"willAdPlay",value:(l=Oa(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ba(Ra(t.prototype),"willAdPlay",this).call(this));case 1:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)})},{key:"willAdPause",value:(s=Oa(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ba(Ra(t.prototype),"willAdPause",this).call(this));case 1:case"end":return e.stop()}},e,this)})),function(){return s.apply(this,arguments)})},{key:"willAdMute",value:(a=Oa(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ba(Ra(t.prototype),"willAdMute",this).call(this));case 1:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"willAdUnMute",value:(o=Oa(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ba(Ra(t.prototype),"willAdUnMute",this).call(this));case 1:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"willAdVolumeChange",value:(i=Oa(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ba(Ra(t.prototype),"willAdVolumeChange",this).call(this,n));case 1:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"onVpaidLoad",value:function(){var e=this._removeTask("load");return e?(Ia.debug("onVpaidLoad(); task is over."),void e.resolve(!0)):void Ia.debug("onVpaidLoad(); This callback is called from the VPAID.")}},{key:"onVpaidStart",value:function(){var e=this._removeTask("start");return e?(Ia.debug("onVpaidStart(); task is over."),void e.resolve(!0)):void Ia.debug("onVpaidStart(); This callback is called from the VPAID.")}},{key:"onVpaidStop",value:function(){Ia.debug("onVpaidStop();"),Kl.adAction.stop()}},{key:"onVpaidPlay",value:function(){var e=this._removeTask("play");return e?(Ia.debug("onVpaidPlay(); task is over."),void e.resolve(!0)):(Ia.debug("onVpaidPlay(); This callback is called from the VPAID."),void Kl.userAction.play(u.IvtPlayerPausedReason.vpaid))}},{key:"onVpaidPause",value:function(){var e=this._removeTask("pause");return e?(Ia.debug("onVpaidPause(); task is over."),void e.resolve(!0)):(Ia.debug("onVpaidPause(); This callback is called from the VPAID."),void Kl.userAction.pause(u.IvtPlayerPausedReason.vpaid))}},{key:"onVpaidUserClose",value:function(){Ia.debug("onVpaidUserClose();"),Kl.userAction.close()}},{key:"onVpaidClickThru",value:function(e,t,n){Ia.debug("onVpaidClickThru(url: ".concat(e,", id: ").concat(t,", playerHandles: ").concat(n,");")),Kl.userAction.videoClick(e,n)}},{key:"onVpaidImpression",value:function(){Ia.debug("onVpaidImpression();"),Kl.adAction.impression()}},{key:"onVpaidError",value:function(e){Ia.debug("onVpaidError(message: ".concat(e,");")),Kl.action.raiseError(u.vpaid,e)}},{key:"onVpaidLog",value:function(e){Ia.debug("onVpaidLog(Id: ".concat(e,");"))}},{key:"onVpaidUserAcceptInvitation",value:function(){Ia.debug("onVpaidUserAcceptInvitation()"),Kl.userAction.acceptInvitation()}},{key:"onVpaidUserMinimize",value:function(){Ia.debug("onVpaidUserMinimize()"),Kl.userAction.collapse()}},{key:"onVpaidProgressStart",value:function(){Ia.debug("onVpaidProgressStart()");var e=this.videoView.progress,n=this.videoView.duration;Ba(Ra(t.prototype),"onVideoProgressStart",this).call(this,e,n)}},{key:"onVpaidProgressFirstQuartile",value:function(){Ia.debug("onVpaidProgressFirstQuartile()");var e=this.videoView.progress,n=this.videoView.duration;Ba(Ra(t.prototype),"onVideoProgressFirstQuartile",this).call(this,e,n)}},{key:"onVpaidProgressMidpoint",value:function(){Ia.debug("onVpaidProgressMidpoint()");var e=this.videoView.progress,n=this.videoView.duration;Ba(Ra(t.prototype),"onVideoProgressMidpoint",this).call(this,e,n)}},{key:"onVpaidProgressThirdQuartile",value:function(){Ia.debug("onVpaidProgressThirdQuartile()");var e=this.videoView.progress,n=this.videoView.duration;Ba(Ra(t.prototype),"onVideoProgressThirdQuartile",this).call(this,e,n)}},{key:"onVpaidProgressComplete",value:function(){Ia.debug("onVpaidProgressComplete()");var e=this.videoView.duration;Ba(Ra(t.prototype),"onVideoProgressComplete",this).call(this,e,e),Kl.adAction.videoEndedChange(!0)}},{key:"onVpaidDurationChange",value:function(){Ia.debug("onVpaidDurationChange(); duration = ".concat(this.duration,"."))}},{key:"onVpaidExpandedChange",value:function(){Ia.debug("onVpaidExpandedChange(); adExpanded = ".concat(this.adExpanded,";"))}},{key:"onVpaidInteraction",value:function(e){Ia.debug("onVpaidInteraction(id: ".concat(e,");"))}},{key:"onVpaidLinearChange",value:function(){Ia.debug("onVpaidLinearChange(); adLinear = ".concat(this.adLinear,";"))}},{key:"onVpaidRemainingTimeChange",value:function(){}},{key:"onVpaidSizeChange",value:function(){Ia.debug("onVpaidSizeChange(); adWidth = ".concat(this.adWidth,", adHeight = ").concat(this.adHeight,"."))}},{key:"onVpaidSkip",value:function(){Ia.debug("onVpaidSkip();")}},{key:"onVpaidSkippableStateChange",value:function(){Ia.debug("onVpaidSkippableStateChange(); adSkippableState = ".concat(this.adSkippableState,"."))}},{key:"vpaidView",get:function(){return this.view}}])&&_a(n.prototype,r),t}();function Ta(e){return(Ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ja(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ua(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function za(e,t,n){return(za="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=La(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function La(e){return(La=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Da(e,t){return(Da=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Na=new p(Wa),Wa=function(e){function t(){var e,n;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,Ma(Ua(e=!(n=La(t).call(this))||"object"!==Ta(n)&&"function"!=typeof n?Ua(this):n),"_styleElement",null),Ma(Ua(e),"_timeoutId",null),Ma(Ua(e),"_ended",!0),e}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Da(e,t)}(t,fi),n=t,(r=[{key:"clear",value:function(){var e;Ha(this),(null===(e=this._styleElement)||void 0===e?void 0:e.parentElement)&&(this._styleElement.parentElement.removeChild(this._styleElement),this._styleElement=null),za(La(t.prototype),"clear",this).call(this)}},{key:"setup",value:function(e){var n=e||{};return za(La(t.prototype),"setup",this).call(this,n),this._ended=!0,this.videoElement.className="dac-ivt-video-animation-view",this}},{key:"load",value:function(){za(La(t.prototype),"load",this).call(this),this._ended=!1}},{key:"play",value:function(){var e=this;0<this.player.readyState&&this.isPaused&&(Na.debug("play();"),function(e){var t=e;t.isPlaying||function e(t){var n=t,r=n.videoElement,i=r.duration,o=i-.2,a=r.currentTime+.2;a<o?(n._ended=!1,r.currentTime=a,n._timeoutId=window.setTimeout(function(t){e(n)},200)):(n._ended=!0,r.currentTime=o,Ha(t),n.onVideoProgress(i),n.onVideoEnded())}(t)}(this),window.setTimeout(function(){e.onVideoPlay()},200))}},{key:"pause",value:function(){var e=this;0<this.player.readyState&&!this.isPaused&&(Na.debug("pause();"),Ha(this),window.setTimeout(function(){e.onVideoPause()},200))}},{key:"onVideoEnterFullscreen",value:function(){Ha(this),this.videoElement.ended||this.videoElement.play(),za(La(t.prototype),"onVideoEnterFullscreen",this).call(this)}},{key:"onVideoExitFullscreen",value:function(){this.videoElement.ended||this.play(),za(La(t.prototype),"onVideoExitFullscreen",this).call(this)}},{key:"isPaused",get:function(){return!m.a.isExist(this._timeoutId)}},{key:"ended",get:function(){return this._ended}}])&&ja(n.prototype,r),t}();function Ha(e){var t=e;t.isPlaying&&(window.clearTimeout(t._timeoutId),t._timeoutId=null)}var Qa=Wa;function qa(e){return(qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ya(e,t){return!t||"object"!==qa(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Ka(e){return(Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ga(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function Za(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ja(e,t,n){return t&&Xa(e.prototype,t),n&&Xa(e,n),e}var $a,eu,tu=function(){function e(t){Za(this,e),this.config=t}return Ja(e,[{key:"createAdView",value:function(){return null}},{key:"createAdViewController",value:function(){return new wi}},{key:"_createPlayerView",value:function(){var e=this.config,t=(Pe.mediaType,null);return e.isVpaid?(t=(new Ca).setup(),(new Fa).setup({view:t})):(t=e.isInlineVideoSupport?(new fi).setup():(new Qa).setup(),(new Xr).setup({view:t})),t.hide(),t}},{key:"build",value:function(){var e=this.config,t=e.id,n=null;Fu.primaryConfig===e&&(n=this._createPlayerView());var r=this.createAdView();r.setup({adContainerId:t,playerView:n});var i=this.createAdViewController();i.setup({adContainerId:t,view:r});var o=void 0,a=void 0;e.toolbar&&(o=(new sa).setup({adContainerId:t}),a=(new va).setup({view:o}));var u=null,s={id:t,adView:r,adToolbar:o};switch(e.type){case"interstitial":u=(new Ot).setup(s);break;case"adhesion":u=(new _t).setup(s);break;case"overlay":u=(new Bt).setup(s);break;case"wipe":u=(new Rt).setup(s);break;default:u=(new Vt).setup(s)}return{adView:r,adViewController:i,adToolbar:o,adToolbarController:a,containerView:u,containerViewController:(new rn).setup({view:u})}}},{key:"playerVolume",get:function(){return 1}}]),e}(),nu=function(e){function t(e){return Za(this,t),Ya(this,Ka(t).call(this,e))}return Ga(t,tu),Ja(t,[{key:"createAdView",value:function(){return new Mr}}]),t}(),ru=function(e){function t(e){return Za(this,t),Ya(this,Ka(t).call(this,e))}return Ga(t,tu),Ja(t,[{key:"createAdView",value:function(){return new co}}]),t}(),iu=function(e){function t(e){return Za(this,t),Ya(this,Ka(t).call(this,e))}return Ga(t,tu),Ja(t,[{key:"createAdView",value:function(){return new bo}}]),t}(),ou=function(e){function t(e){return Za(this,t),Ya(this,Ka(t).call(this,e))}return Ga(t,tu),Ja(t,[{key:"createAdView",value:function(){return new _o}}]),t}(),au=function(e){function t(e){return Za(this,t),Ya(this,Ka(t).call(this,e))}return Ga(t,tu),Ja(t,[{key:"createAdView",value:function(){return new Xo}},{key:"playerVolume",get:function(){return.5}}]),t}(),uu=function(e){function t(e){return Za(this,t),Ya(this,Ka(t).call(this,e))}return Ga(t,tu),Ja(t,[{key:"createAdView",value:function(){return new Ti}},{key:"createAdViewController",value:function(){return new Wi}}]),t}(),su=function(e){function t(e){return Za(this,t),Ya(this,Ka(t).call(this,e))}return Ga(t,tu),Ja(t,[{key:"createAdView",value:function(){return this.config.isEnabledTextReminder?new lr:new nr}},{key:"createAdViewController",value:function(){return new yr}}]),t}(),lu=function(){function e(){Za(this,e)}return Ja(e,null,[{key:"create",value:function(t){if(t.isVpaid)return new uu(t);var n=t.adInterface;switch(e.log.debug("create: interface = ".concat(n,".")),n){case"blank":return new nu(t);case"infeed":return new ou(t);case"inread":return new au(t);case"billboard":return new iu(t);case"reminder":return new su(t);default:return new ru(t)}}}]),e}();$a=lu,eu=new p("FormatFactory"),"log"in $a?Object.defineProperty($a,"log",{value:eu,enumerable:!0,configurable:!0,writable:!0}):$a.log=eu;var cu=lu;function du(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pu=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),fu(this,"rootAdContainer",null),fu(this,"adContainers",[]),fu(this,"presentedAdContainerStack",[]),fu(this,"currentAdViewController",null),fu(this,"_playerView",null),fu(this,"_hasSubAdContainer",!1),fu(this,"_hasReminder",!1),fu(this,"_currentWidth",null),fu(this,"_styleElement",null)}var t,n;return t=e,(n=[{key:"init",value:function(){var e=this;Fu.adContainerStore.setCurrentWidth(m.a.viewportWidth),function(e){var t=e,n=Fu.configStore.config,r="dac-ivt-root-container",i="dac-adcontainer-root";m.a.isExist(n.placementId)&&(i+="-".concat(n.placementId));var o=(new xt).setup({id:i,adView:null});if(t.rootAdContainer=(new rn).setup({view:o}),n.targetElement.parentElement.insertBefore(t.rootAdContainer.view.element,n.targetElement),!Pe.isEnabledVideoPlayer){var a=function(e){var t,n,r=e,i=null===(t=r.rootAdContainer)||void 0===t?void 0:null===(n=t.view)||void 0===n?void 0:n.element;if(!r._styleElement&&i){var o=document.createElement("style");o.type="text/css",o.appendChild(document.createTextNode("")),i.insertBefore(o,i.firstChild),r._styleElement=o}return r._styleElement}(e);a.sheet.insertRule(".".concat(r," *::-webkit-media-controls-panel {\n        display: none!important;\n        -webkit-appearance: none;\n      }"),0),a.sheet.insertRule(".".concat(r," *::-webkit-media-controls-play-button {\n        display: none!important;\n        -webkit-appearance: none;\n      }"),0),a.sheet.insertRule(".".concat(r," *::-webkit-media-controls-start-playback-button {\n        display: none!important;\n        -webkit-appearance: none;\n      }"),0)}}(this),Fu.configStore.adContainerConfigs.forEach(function(t){"normal"!==t.type&&(e._hasSubAdContainer=!0),"reminder"===t.adInterface&&(e._hasReminder=!0);var n,r=(n=t,cu.create(n).build().containerViewController);r.view.type=t.type,e.addAdContainer(r)})}},{key:"clear",value:function(){}},{key:"addAdContainer",value:function(e){this.rootAdContainer.view.appendView(e.view),this.adContainers.push(e)}},{key:"remove",value:function(e){var t=this,n=this.getAdContainer(e);n&&(this.presentedAdContainerStack=this.presentedAdContainerStack.filter(function(e){return e!==n}),this.adContainers=this.adContainers.filter(function(e){return e!==n}),this.rootAdContainer.view.removeView(n.view),this._hasSubAdContainer&&(this._hasSubAdContainer=!1,this.adContainers.forEach(function(e){"normal"!==e.view.type&&(t._hasSubAdContainer=!0)})))}},{key:"isPrimary",value:function(e){return e===this.adContainers[0].id}},{key:"getAdContainer",value:function(e){return this.adContainers.find(function(t){return t.id===e})}},{key:"setCurrentWidth",value:function(e){this._currentWidth=e}},{key:"currentAdContainer",get:function(){return this.presentedAdContainerStack[this.presentedAdContainerStack.length-1]}},{key:"primaryAdContainer",get:function(){return this.adContainers[0]}},{key:"hasSubAdContainer",get:function(){return this._hasSubAdContainer}},{key:"hasReminder",get:function(){return this._hasReminder}},{key:"playerView",get:function(){var e;return null===(e=this.primaryAdContainer.view.adView)||void 0===e?void 0:e.playerView}},{key:"currentWidth",get:function(){return this._currentWidth}}])&&du(t.prototype,n),e}();function hu(){var e=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}([";s*","s*:"],[";\\s*","\\s*:"]);return hu=function(){return e},e}function vu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mu(e,t,n){return t&&yu(e.prototype,t),n&&yu(e,n),e}function gu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(154),n(155),n(72);var bu=["moatads.com","adsafeprotected"],wu=["moatads.com","adsafeprotected"],Au=["moatads.com"],ku=[],Su=["ulizassp"],Eu=function(){function e(t){var n=this;vu(this,e),gu(this,"targetElement",null),gu(this,"index",null),gu(this,"id",null),gu(this,"placementId",null),gu(this,"type","normal"),gu(this,"isVpaid",!1),gu(this,"adInterface","blank"),gu(this,"width","300px"),gu(this,"height","auto"),gu(this,"zIndex",null),gu(this,"backgroundColor","rgb(0, 0, 0)"),gu(this,"css",{}),gu(this,"cssRules",{}),gu(this,"infeedStyle",null),gu(this,"toolbar",null),gu(this,"isEnabledBorder",!1),gu(this,"isEnabledUnderBlankLine",!1),gu(this,"isEnabledTextReminder",!1),gu(this,"isEnabledButton",!0),gu(this,"isEnabledCloseButton",!0),gu(this,"isEnabledFullscreenButton",!0),gu(this,"isEnabledVolumeButton",!0),gu(this,"isEnabledReplayButton",!0),gu(this,"isEnabledDetailButton",!0),gu(this,"isEnabledAdmarkButton",!0),gu(this,"isEnabledOptoutButton",!1),gu(this,"headerImgUrl",""),gu(this,"headerSize",null),gu(this,"footerVastCompanion",null),gu(this,"leftVastCompanion",null),gu(this,"rightVastCompanion",null),gu(this,"endcardCompanion",null),gu(this,"reminderVastCompanion",null),gu(this,"reminderSize",null),gu(this,"contentHeaderHeight",null),gu(this,"contentFooterHeight",null),gu(this,"videoClicksThrough",null),gu(this,"impressionOffset",2),gu(this,"inviewPercentage",50),gu(this,"autoCloseDuration",NaN),gu(this,"autoReplayTimes",0),gu(this,"isToFullscreenOnAdClick",!1),gu(this,"isSkipDidOutview",!1),gu(this,"isEnabledUnsupportedBrowsers",!0),gu(this,"isInlineVideoSupport",!0),gu(this,"isForceStartEnabled",!1),gu(this,"isInviewCheckEnabled",!0),gu(this,"isForcePlayOnInView",!1),gu(this,"isForceCloseOnAdStop",!1),gu(this,"isAddedIframeByDocumentWrite",null),gu(this,"isDebug",!1),Object.keys(this).forEach(function(e){m.a.isUndefined(t[e])||(n[e]=t[e])})}return mu(e,[{key:"fix",value:function(){var e=Cu(this);this.width=e.width,this.height=e.height}}]),e}();function Cu(e){var t,n=e.width,r=e.height,i=n,o=Number(n);Number.isFinite(o)&&(i="".concat(o,"px"));var a=r,u=Number(r);Number.isFinite(u)&&(a="".concat(u,"px"));var s,l,c,d=i,f=a,p=null===(t=e.css)||void 0===t?void 0:t.base;p&&(d=(null===(s=/;\s*(width)\s*:\s*([^\s]+)\s*;/.exec(p))||void 0===s?void 0:s[2])||d,f=(null===(l=/;\s*(padding-top)\s*:\s*([^\s]+)\s*;/.exec(p))||void 0===l?void 0:l[2])||(null===(c=/;\s*(height)\s*:\s*([^\s]+)\s*;/.exec(p))||void 0===c?void 0:c[2])||f);return{width:d,height:f}}var xu=function(){function e(){vu(this,e),gu(this,"config",{}),gu(this,"adContainerConfigs",[]),gu(this,"adActions",[])}return mu(e,[{key:"clear",value:function(){}},{key:"init",value:function(e,t){return function(e,t,n){var r=e,o=[],a=Vu.create(t,n);if(t.adContainers.forEach(function(e,t){var r=Vu.create(e,n,t),i=m.a.deepMerge({},a,r);o.push(i)}),r.config=new Eu(a),m.a.isEmpty(o)){var u=Vu.create(t,n,0),s=m.a.deepMerge({},r.config,u);o.push(s)}else o.forEach(function(e){var t=Cu(e);e.width=t.width,e.height=t.height});o.forEach(function(e){r.adContainerConfigs.push(new Eu(e))});var l=function(e,t){var n=e,r=n.adContainerConfigs,o=n.config,a=n.primaryConfig;if("normal"!==a.type)return null;if(a.isVpaid)return null;var u=a.isEnabledTextReminder,s=a.reminderVastCompanion;if(!u&&!s)return null;if(r.some(function(e){return"reminder"===e.adInterface}))return null;var l=r.length,c=a.reminderSize.width,d=a.reminderSize.height,f=i.translateToStyleLength(c),p=i.translateToStyleLength(d),h=m.a.exist(a.zIndex,void 0),v=m.a.deepMerge({},o);v.index=l,v.id=Vu._getID(t,l),v.type="normal",v.adInterface="reminder",v.width=c,v.height=d,v.backgroundColor="transparent",v.zIndex=h,v.css={base:Ou._styleCommonBase(f,p),load:Ou._styleLoadWithSlideUpDown(),appear:Ou._styleAppearWithSlideUpDown(d),disappear:Ou._styleDisappearWithSlideUpDown()};var y=Cu(a);return t.noSlideDown||a.css.load||(a.css.load=Ou._styleLoadWithSlideUpDown()),a.css.appear||(a.css.appear=Ou._styleAppearWithSlideUpDown(y.height)),a.css.disappear||(a.css.disappear=Ou._styleDisappearWithSlideUpDown()),v}(r,t);l&&r.adContainerConfigs.push(new Eu(l)),r.adContainerConfigs.forEach(function(e){e.fix()}),r.adActions=_u.create(r.adContainerConfigs)}(this,e,t),this}},{key:"initCss",value:function(e,t,n){var r,i,o,a;return r=e,i=t,o=n,a=Ou.create(r,i,o),r.cssRules=a.cssRules,r.width=a.width,r.height=a.height,this}},{key:"setSize",value:function(e,t){var n,r,i,o=null==t?void 0:t.width;o&&((null===(n=e.css)||void 0===n?void 0:n.base)&&(e.css.base=Ou._replaceWidth(e.css.base,o)),(null===(r=e.cssRules)||void 0===r?void 0:null===(i=r.base)||void 0===i?void 0:i.style)&&(e.cssRules.base.style=Ou._replaceWidth(e.cssRules.base.style,o)),e.width=o);var a,u,s,l=null==t?void 0:t.height;l&&((null===(a=e.css)||void 0===a?void 0:a.base)&&(e.css.base=Ou._replaceHeight(e.css.base,l)),(null===(u=e.cssRules)||void 0===u?void 0:null===(s=u.base)||void 0===s?void 0:s.style)&&(e.cssRules.base.style=Ou._replaceHeight(e.cssRules.base.style,l)),e.height=l)}},{key:"findConfig",value:function(e){return m.a.isExist(e)?this.adContainerConfigs.find(function(t){return t.id===e}):this.config}},{key:"remove",value:function(e){this.adContainerConfigs=this.adContainerConfigs.filter(function(t){return t.id!==e}),this.adActions=this.adActions.filter(function(t){return t.subject!==e||t.target!==e})}},{key:"filterAdActions",value:function(e,t){return this.adActions.filter(function(n){return n.subject===e&&n.state===t})}},{key:"primaryConfig",get:function(){return this.adContainerConfigs[0]}}]),e}(),Vu=function(){function e(){vu(this,e)}return mu(e,null,[{key:"create",value:function(e,t,n){var r=this._convert(e,t,n);return r.isVpaid?this._fixVpaid(r,e,t):this._fixVideo(r,e,t),this._fixCss(r),this._fixOther(r,t),Object.keys(r).forEach(function(e){m.a.isUndefined(r[e])&&delete r[e]}),r}},{key:"_convert",value:function(e,t,n){var r,i=m.a.isNotEmpty(e.id)?e.id:void 0,o=this._getID(e,n),a=this._getSize(e),u=m.a.exist(e.adInterface,e.interface,void 0),s=m.a.isNotEmpty(e.css)?m.a.deepMerge({},e.css):void 0;return{targetElement:m.a.exist(e.targetElement,void 0),index:n,id:o,placementId:i,type:m.a.exist(e.type,void 0),width:m.a.exist(a.width,void 0),height:m.a.exist(a.height,void 0),isVpaid:m.a.exist(null===(r=t.media)||void 0===r?void 0:r.isVpaid,!1),adInterface:u,infeedStyle:"infeed"===u?m.a.exist(e.infeedStyle,void 0):void 0,zIndex:m.a.exist(e.zIndex,e.wrapperZindex,void 0),backgroundColor:m.a.exist(e.backgroundColor,void 0),css:s,isEnabledBorder:m.a.toBoolIfExist(e.wrapperBorder,void 0),isEnabledUnderBlankLine:m.a.toBoolIfExist(e.underBlankLine,void 0),isEnabledTextReminder:m.a.toBoolIfExist(e.isTextReminder,void 0),headerImgUrl:m.a.exist(e.headerImgUrl,void 0),headerSize:m.a.exist(e.headerSize,void 0),footerVastCompanion:m.a.exist(this._getFooterVastCompanion(e,t),void 0),leftVastCompanion:m.a.exist(this._getLeftVastCompanion(e,t),void 0),rightVastCompanion:m.a.exist(this._getRightVastCompanion(e,t),void 0),endcardCompanion:m.a.exist(this._getEndcardVastCompanion(e,t),void 0),reminderVastCompanion:m.a.exist(this._getReminderVastCompanion(e,t),void 0),reminderSize:m.a.exist(e.reminderSize,void 0),contentHeaderHeight:m.a.exist(e.contentHeaderHeight,void 0),contentFooterHeight:m.a.exist(e.contentFooterHeight,void 0),videoClicksThrough:t.tracks.videoClicksThrough,impressionOffset:m.a.exist(e.impressionOffset,void 0),inviewPercentage:m.a.exist(e.inviewPercentage,void 0),autoCloseDuration:m.a.exist(e.autoCloseDuration,void 0),autoReplayTimes:m.a.exist(e.autoReplayTimes,void 0),isToFullscreenOnAdClick:this._getIsToFullscreenOnAdClick(e,t),isSkipDidOutview:m.a.toBoolIfExist(e.outviewSkip,void 0),isEnabledUnsupportedBrowsers:m.a.toBoolIfExist(e.unsupportedBrowsers,void 0),isForceStartEnabled:m.a.toBoolIfExist(e.isForceStartEnabled,void 0),isInviewCheckEnabled:m.a.toBoolIfExist(e.isInviewCheckEnabled,void 0),isInlineVideoSupport:m.a.toBoolIfExist(e.isInlineVideoSupport,void 0),isForcePlayOnInView:m.a.toBoolIfExist(e.isForcePlayOnInView,void 0),isForceCloseOnAdStop:m.a.toBoolIfExist(e.isForceCloseOnAdStop,void 0),isDebug:m.a.exist(e.debug,void 0)}}},{key:"_fixButton",value:function(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=m.a.toBoolIfExist(t.noButton,void 0);if(!1===n||!0===r)e.isEnabledCloseButton=!1,e.isEnabledFullscreenButton=!1,e.isEnabledVolumeButton=!1,e.isEnabledReplayButton=!1,e.isEnabledDetailButton=!1,e.isEnabledAdmarkButton=!1,e.isEnabledOptoutButton=!1;else{var i=m.a.toBoolIfExist(t.noCloseButton,void 0);m.a.isExist(i)&&(e.isEnabledCloseButton=!i);var o=m.a.toBoolIfExist(t.noFullscreenButton,void 0);m.a.isExist(o)&&(e.isEnabledFullscreenButton=!o);var a=m.a.toBoolIfExist(t.noVolumeButton,void 0);m.a.isExist(a)&&(e.isEnabledVolumeButton=!a);var u=m.a.toBoolIfExist(t.noReplayButton,void 0);m.a.isExist(u)&&(e.isEnabledReplayButton=!u);var s=m.a.toBoolIfExist(t.noDetailButton,void 0);m.a.isExist(s)&&(e.isEnabledDetailButton=!s),e.isEnabledAdmarkButton=m.a.toBoolIfExist(t.adMark,void 0),e.isEnabledOptoutButton=m.a.toBoolIfExist(t.optout,void 0),e.toolbar=m.a.toBoolIfExist(t.toolbar,void 0)}}},{key:"_fixVideo",value:function(e,t,n){return this._fixButton(e,t,!0),e}},{key:"_fixVpaid",value:function(e,t,n){var r;if(!e.isVpaid)return e;var i=m.a.toBoolIfExist(e.isInviewCheckEnabled,void 0),o=m.a.toBoolIfExist(e.isForcePlayOnInView,void 0),a=m.a.toBoolIfExist(e.isForceCloseOnAdStop,void 0);e.autoCloseDuration=NaN,e.autoReplayTimes=0;var u=null===(r=n.media)||void 0===r?void 0:r.uri,s=document.createElement("a");s.href=u;var l,c,d,f,p=s.hostname,h=(l=p,bu.some(function(e){return 0<=l.indexOf(e)}));this._fixButton(e,t,h),m.a.isNotExist(i)&&(e.isInviewCheckEnabled=(c=p,!ku.some(function(e){return 0<=c.indexOf(e)}))),m.a.isNotExist(o)&&(e.isForcePlayOnInView=(d=p,Au.some(function(e){return 0<=d.indexOf(e)}))),m.a.isNotExist(a)&&(e.isForceCloseOnAdStop=(f=p,wu.some(function(e){return 0<=f.indexOf(e)})));var v,y=(v=u,!Su.some(function(e){return 0<=v.indexOf(e)}));return e.isAddedIframeByDocumentWrite=y,e}},{key:"_fixCss",value:function(e){var t,n,r,i,o=null===(t=e.css)||void 0===t?void 0:t.base;o&&(e.css.base="; "+o.trim());var a=null===(n=e.css)||void 0===n?void 0:n.load;a&&(e.css.load="; "+a.trim());var u=null===(r=e.css)||void 0===r?void 0:r.appear;u&&(e.css.appear="; "+u.trim());var s=null===(i=e.css)||void 0===i?void 0:i.disappear;s&&(e.css.disappear="; "+s.trim())}},{key:"_fixOther",value:function(e,t){var n,r,i,o,a,s;return"inread"!==e.adInterface||e.isVpaid||(e.isEnabledVolumeButton=!0,e.isEnabledTextReminder=!0),!0===e.isEnabledTextReminder&&(e.reminderSize={},e.reminderSize.width="100%",e.reminderSize.height="22px",e.reminderVastCompanion=void 0),!1===Pe.isEnabledVideoPlayer&&(e.isInlineVideoSupport=!1),!1===e.isInlineVideoSupport&&(e.isEnabledFullscreenButton=!1,e.isEnabledVolumeButton=!1),!0===e.isEnabledFullscreenButton&&Pe.osType===u.IvtOsType.iOS&&Pe.browserType!==u.IvtBrowserType.Safari&&(e.isEnabledFullscreenButton=!1),o=m.a.toBoolIfExist(null===(n=t.adConfig)||void 0===n?void 0:n.isInviewCheckEnabled,void 0),a=m.a.exist(null===(r=t.adConfig)||void 0===r?void 0:r.inviewPercentage,void 0),s=m.a.exist(null===(i=t.adConfig)||void 0===i?void 0:i.impressionOffset,void 0),m.a.isExist(o)&&(e.isInviewCheckEnabled=o),m.a.isExist(a)&&(e.inviewPercentage=a),m.a.isExist(s)&&(e.impressionOffset=s),e}},{key:"_getID",value:function(e,t){var n,r=m.a.isNotEmpty(e.id)?e.id:void 0;return m.a.isExist(t)&&(n="dac-adcontainer-".concat(t),m.a.isExist(r)&&(n+="-".concat(r))),n}},{key:"_getSize",value:function(e,t){var n,r=m.a.exist(e.wrapperWidth,e.width,void 0),i=m.a.exist(e.wrapperHeight,e.height,void 0);return(null===(n=i)||void 0===n?void 0:n.includes("autoTate"))&&(i="auto"),e.wrapperAutoTateyoko&&"vertical"===t.media.layoutType&&(i="auto"),new y(r,i)}},{key:"_getIsToFullscreenOnAdClick",value:function(e,t){var n=m.a.toBool(t.companion(1,1));return Boolean(n||e.fullscreenOnAdClick)}},{key:"_getFooterVastCompanion",value:function(e,t){var n,r,i=t.companion(null===(n=e.companionSize)||void 0===n?void 0:n.width,null===(r=e.companionSize)||void 0===r?void 0:r.height);return i&&(i.size=new y(e.companionSize.width,e.companionSize.height)),i}},{key:"_getLeftVastCompanion",value:function(e,t){var n=null;return(n=t.companionFromId("left"))?(n.size=new y(n.width,n.height),n):(n=t.companion(11,11))?(n.size=new y(e.leftCompanionSize.width,e.leftCompanionSize.height),n):null}},{key:"_getRightVastCompanion",value:function(e,t){var n=null;return(n=t.companionFromId("right"))?(n.size=new y(n.width,n.height),n):(n=t.companion(22,22))?(n.size=new y(e.rightCompanionSize.width,e.rightCompanionSize.height),n):null}},{key:"_getEndcardVastCompanion",value:function(e,t){var n,r,i=null===(n=e.tomeSize)||void 0===n?void 0:n.width,o=null===(r=e.tomeSize)||void 0===r?void 0:r.height;if(0<i&&0<o){var a=t.companion(i,o);return a&&(a.size=new y(i,o)),a}return null}},{key:"_getReminderVastCompanion",value:function(e,t){var n,r,i=e.isTextReminder,o=null===(n=e.reminderSize)||void 0===n?void 0:n.width,a=null===(r=e.reminderSize)||void 0===r?void 0:r.height;if(i)return null;if(0<o&&0<a){var u=t.companion(o,a);return u&&(u.size=new y(o,a)),u}return null}}]),e}(),Ou=function(){function e(){vu(this,e)}return mu(e,null,[{key:"create",value:function(e,t,n){e.index;var r,o,a,u,s=e.id,l=Cu(e),c="normal"===e.type?"relative":"fixed",d="normal"===e.type?Ge.defaultContainerZIndex:Ge.defaultDialogZIndex,f=m.a.exist(e.zIndex,d),p=(e.backgroundColor,null===(r=e.css)||void 0===r?void 0:r.base),h=null===(o=e.css)||void 0===o?void 0:o.load,v=null===(a=e.css)||void 0===a?void 0:a.appear,y=null===(u=e.css)||void 0===u?void 0:u.disappear;p||(p=this._styleCommonBase(l.width,l.height,c,f)),h||(h=this._styleLoad()),v||(v=this._styleAppear()),y||(y=this._styleDisappear()),p=this._appendStyle(p,"z-index",f),p=this._appendStyle(p,"opacity",1),h=this._appendStyle(h,"opacity",.99),v=this._appendStyle(v,"opacity",1),y=this._appendStyle(y,"opacity",0);var g=i.translateToStyleLength(n);return p=this._replaceHeight(p,g),h=this._replaceHeight(h,g),v=this._replaceHeight(v,g),y=this._replaceHeight(y,g),{cssRules:{base:{selector:"base",style:"#".concat(s,".base {").concat(p,"}")},load:h?{selector:"load",style:"#".concat(s,".load {").concat(h,"}")}:null,appear:v?{selector:"appear",style:"#".concat(s,".appear {").concat(v,"}")}:null,disappear:{selector:"disappear",style:"#".concat(s,".disappear {").concat(y,"}")}},width:l.width,height:l.height}}},{key:"_appendStyle",value:function(e,t,n){if(m.a.isEmpty(e))return null;var r=e;return m.a.isEmpty(t)||m.a.isEmpty(n)?r:new RegExp(String.raw(hu(),t),"i").test(e)?r:r+=" ".concat(t,": ").concat(n,";")}},{key:"_replaceWidth",value:function(e,t){if(m.a.isEmpty(e))return null;var n=e;return n.replace(/;\s*(width)\s*:\s*([^;]+)\s*;/,"; width: ".concat(t,";"))}},{key:"_replaceHeight",value:function(e,t){if(m.a.isEmpty(e))return null;var n=e;return(n=n.replace(/;\s*(height)\s*:\s*([^;]+)\s*;/,"; padding-top: ".concat(t,";"))).replace(/;\s*(padding-top)\s*:\s*(auto)\s*;/,"; padding-top: ".concat(t,";"))}},{key:"_styleCommonBase",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"relative",r=3<arguments.length?arguments[3]:void 0,i="; width: ".concat(e,"; padding-top: ").concat(t,"; position: ").concat(n,"; overflow: hidden;");return r&&(i+=" z-index: ".concat(r,";")),i}},{key:"_styleLoadWithSlideUpDown",value:function(){return"; padding-top: 0px;"}},{key:"_styleLoad",value:function(){return"; "}},{key:"_styleAppearWithSlideUpDown",value:function(e,t){var n=m.a.exist(t,this.transitionDuration);return"; padding-top: ".concat(e,"; transition: ").concat(n,"s linear;")}},{key:"_styleAppear",value:function(){return"; "}},{key:"_styleDisappearWithSlideUpDown",value:function(e){var t=m.a.exist(e,this.transitionDuration);return"; padding-top: 0px; transition: ".concat(t,"s linear;")}},{key:"_styleDisappear",value:function(e){var t=m.a.exist(e,this.transitionDuration);return"; padding-top: 0px; transition: ".concat(t,"s linear;")}}]),e}();gu(Ou,"transitionDuration",.75);var _u=function(){function e(){vu(this,e)}return mu(e,null,[{key:"create",value:function(e){var t,n,r=e[0].id,i=null===(t=e.find(function(e){return e.id!==r&&"normal"!==e.type}))||void 0===t?void 0:t.id,o=null===(n=e.find(function(e){return e.id!==r&&"reminder"===e.adInterface}))||void 0===n?void 0:n.id,a=[{subject:r,state:"didInview",target:r,action:"present",times:1}];return o&&(a.push({subject:r,state:"didDisappear",target:o,action:"appear"}),a.push({subject:o,state:"didDisappear",target:r,action:"appear"})),i&&(a.push({subject:r,state:"didInview",target:i,action:"disappear"}),a.push({subject:r,state:"didOutview",target:i,action:"appear"})),a}}]),e}(),Bu=xu;function Ru(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Iu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"init",value:function(e){var t=e||{};return t.dataset=t.dataset||{},t.target=t.target||null,this.adStore=new zt,this.adContainerStore=new pu,this.option=new Je(t),this.configStore=new Bu,this}},{key:"deinit",value:function(){try{var e,t,n;null===(e=this.adContainerStore)||void 0===e||e.clear(),null===(t=this.configStore)||void 0===t||t.clear(),null===(n=this.adStore)||void 0===n||n.clear()}catch(e){}}},{key:"validate",value:function(){if(!this.option)throw new Error("[Store]: setup failed: Not declared opt.");if(!this.option.targetElement)throw new Error("[Store]: setup failed: Not declared targetNode.")}},{key:"getConfig",value:function(e){return this.configStore.findConfig(e)}},{key:"getAdContainer",value:function(e){return this.adContainerStore.getAdContainer(e)}},{key:"videoElement",get:function(){var t;return null===(t=e.adContainerStore.playerView)||void 0===t?void 0:t.player}},{key:"videoView",get:function(){return e.adContainerStore.playerView}},{key:"rootAdContainer",get:function(){return this.adContainerStore.rootAdContainer}},{key:"primaryConfig",get:function(){return this.configStore.primaryConfig}},{key:"primaryAdContainer",get:function(){return this.adContainerStore.getAdContainer(this.primaryConfig.id)}}],null&&Ru(t.prototype,null),n&&Ru(t,n),e}();Pu(Iu,"option",null),Pu(Iu,"adContainerStore",null),Pu(Iu,"adStore",null),Pu(Iu,"configStore",null);var Fu=Iu;function Tu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ju(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Uu=Ge.containerCloseButtonSize,zu=new p("IvtPassbackAction");function Lu(e,t){var n=t.width;if("string"==typeof n&&0<=n.indexOf("%")){var i=function e(t){var n,r=null==t?void 0:null===(n=t.parentElement)||void 0===n?void 0:n.clientWidth;return 0<r?r:m.a.isExist(null==t?void 0:t.parentElement)?e(null==t?void 0:t.parentElement):document.documentElement.clientWidth||document.body.clientWidth||window.innerWidth}(e),o=parseInt(n,10)/100;n=parseInt(i*o,10)}var a=t.height;return"auto"===a&&(a=parseInt(n/16*9,10)),zu.debug("_computedIframeSize(width: ".concat(t.width,", height: ").concat(t.height,") => {width: ").concat(n,", height: ").concat(a,"}")),new r.IvtSize(n,a)}var Du=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ju(this,"_closeButton",null),ju(this,"_containerElement",null)}var t,n;return t=e,(n=[{key:"clear",value:function(){var e;this._closeButton&&(this._closeButton.clear(),this._closeButton=null),this._containerElement&&(null===(e=this._containerElement.parentElement)||void 0===e||e.removeChild(this._containerElement),this._containerElement=null)}},{key:"open",value:function(e){try{var t,n=e||{},o=n.placementId,a=n.targetElement,u=n.isEnabledPassbackIframe||!0,s=new r.IvtSize(n.size),l=n.type||"normal",c=n.zIndex||0,d=a.querySelector("adsense"),f=a.querySelector("noscript");this._containerElement=function(e){zu.debug("_createContainerElement();");var t="dac-ivt-passback-container";m.a.isNotEmpty(e)&&(t+="-".concat(e));var n=i.createElement("div");return n.className="dac-ivt-passback-container",n.id=t,n.style.position="relative",n.style.margin="auto",n}(o),a.parentElement.insertBefore(this._containerElement,a),"normal"!==l&&(this._closeButton=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:50;return zu.debug("_createCloseButton();"),new Dn([{style:{zIndex:e},option:{top:"3px",right:"3px",size:Uu}}])}(c),this._closeButton&&(this._closeButton.delegate=this)._containerElement.appendChild(this._closeButton.element)),m.a.isExist(d)&&function(e,t,n){zu.debug("_showAdsense(width: ".concat(n.width,", height: ").concat(n.height,");"));var r=i.createElement("script");r.src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",e.appendChild(r);var o=i.createElement("ins");o.setAttribute("class","adsbygoogle"),o.style.display="inline-block",o.size=Lu(n),o.dataset.adClient=t.dataset.adClient,o.dataset.adSlot=t.dataset.adSlot,e.appendChild(o);var a=i.createElement("script");a.innerHTML="  (adsbygoogle = window.adsbygoogle || []).push({});",e.appendChild(a),e.w=o.w,e.h=o.h}(this._containerElement,d,s),0<(null==f?void 0:null===(t=f.innerText)||void 0===t?void 0:t.trim().length)&&(u?function(e,t,n){zu.debug("_showPassbackWithIframe(width: ".concat(n.width,", height: ").concat(n.height,");"));var r=i.createElement("iframe");r.style.position="absolute",r.style.left=0,r.style.top=0,r.style.margin="0 auto",e.appendChild(r);var o=r.contentWindow.document,a="<body><script>inDapIF = true;<\/script>"+t.innerText+"</body>";o.open(),o.write(a),o.write("<style> body {margin:0} </style>"),o.close();var u=Lu(e,n);r.width=u.width,r.height=u.height,e.w=u.width,e.h=u.height}(this._containerElement,f,s):function(e,t,n){zu.debug("_showPassbackWithoutIframe(width: ".concat(n.width,", height: ").concat(n.height,");"));var r=JSON.parse(t.innerText),i=r.parent,o=document.createElement(i.dom);if("script"===i.dom)for(var a=Object.keys(i.property),u=0;u<a.length;u++){var s=a[u];"src"===s?o.src=i.property.src:"async"===s&&(o.async=!0)}else if("div"===i.dom)for(var l=Object.keys(i.property),c=0;c<l.length;c++){"id"===l[c]&&(o.id=i.property.id)}var d=r.child,f=!0,p=!1,h=void 0;try{for(var v,y=d[Symbol.iterator]();!(f=(v=y.next()).done);f=!0){var m=v.value,g=document.createElement(m.dom);if("script"===m.dom)for(var b=Object.keys(m.property),w=0;w<b.length;w++){var A=b[w];"src"===A?g.src=m.property.src:"async"===A&&(g.async=!0)}else if("div"===m.dom)for(var k=Object.keys(m.property),S=0;S<k.length;S++){"id"===k[S]&&(g.id=m.property.id)}o.appendChild(g)}}catch(e){p=!0,h=e}finally{try{f||null==y.return||y.return()}finally{if(p)throw h}}e.appendChild(o)}(this._containerElement,f,s))}catch(e){zu.error("open(); failed. error: ".concat(e.message,".")),this.close()}}},{key:"close",value:function(){try{this.clear()}catch(e){zu.error("close(); failed. error: ".concat(e.message,"."))}}},{key:"onUserClose",value:function(){this.close(),Kl.userAction.close()}}])&&Tu(t.prototype,n),e}();function Mu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(156),n(101);var Nu=new p("IvtVastUtil"),Wu=function(){function e(){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}var t,n;return t=e,n=[{key:"queryAll",value:function(e,t){return e&&e.querySelectorAll(t)||[]}},{key:"queryOne",value:function(e,t,n){var r=n||0,i=this.queryAll(e,t,r);return m.a.isNotEmpty(i)?i[r]:null}},{key:"queryOneWithFilter",value:function(e,t,n,r){var i=t;for(var o in n)n.hasOwnProperty(o)&&(i=i+"["+o+'="'+n[o]+'"]');return Nu.debug("vast query:"+i),this.queryOne(e,i,r)}},{key:"elementContent",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(m.a.isEmpty(e)||!m.a.isElement(e))return t;var n=e.textContent;return m.a.isString(n)?n.trim():t}},{key:"elementAttribute",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(m.a.isEmpty(e)||!m.a.isElement(e)||m.a.isEmpty(t))return n;var r=e.getAttribute(t);return m.a.isString(r)?r.trim():n}},{key:"elementSubElements",value:function(t,n,r){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[];if(m.a.isEmpty(t)||!m.a.isElement(t)||m.a.isEmpty(n))return i;var o=e.queryAll(t,n,0),a=Array.prototype.slice.call(o,0).map(function(e){return Reflect.construct(r,[e])});return m.a.isEmpty(a)?i:a}},{key:"toSec",value:function(e){if(m.a.isEmpty(e))return NaN;var t=e.split(":");return 3600*parseInt(t[0],10)+60*parseInt(t[1],10)+parseInt(t[2],10)}},{key:"popSmaller",value:function(e,t){var n=[];for(var r in e)e.hasOwnProperty(r)&&r<=t&&(n=n.concat(e[r]),delete e[r]);return n}}],null&&Mu(t.prototype,null),n&&Mu(t,n),e}();function Hu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qu=m.a,Yu=new p("VastAdConfig"),Ku=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Qu(this,"_isInviewCheckEnabled",void 0),Qu(this,"_inviewPercentage",void 0),Qu(this,"_impressionOffset",void 0)}var t,n;return t=e,(n=[{key:"init",value:function(e){return function(e,t){try{Yu.debug("init();"),Gu(e);var n=null==t?void 0:t.adSubElement;if(qu.isEmpty(n))return;var r=Wu.queryOne(n,"Extensions>Extension>RenderID"),i=Wu.elementContent(r);if(qu.isEmpty(i))return;var o=JSON.parse(i),a=qu.toBoolIfExist(null==o?void 0:o.isInviewCheckEnabled,void 0);qu.isExist(a)&&(e._isInviewCheckEnabled=a);var u=qu.toNumber(null==o?void 0:o.inviewPercentage,void 0);qu.isExist(u)&&(e._inviewPercentage=u);var s=qu.toNumber(null==o?void 0:o.impressionOffset,void 0);return qu.isExist(s)&&(e._impressionOffset=s),e}catch(e){return void Yu.debug("init(); failed: error: ".concat(e.message,";"))}}(this,e)}},{key:"deinit",value:function(){Yu.debug("deinit();"),Gu(this)}},{key:"isInviewCheckEnabled",get:function(){return this._isInviewCheckEnabled}},{key:"inviewPercentage",get:function(){return this._inviewPercentage}},{key:"impressionOffset",get:function(){return this._impressionOffset}}])&&Hu(t.prototype,n),e}();function Gu(e){e._isInviewCheckEnabled=void 0,e._inviewPercentage=void 0,e._impressionOffset=void 0}function Zu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Xu=m.a.namespace(),Ju=function(){var e,t;function n(e){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(m.a.isEmpty(t))throw new TypeError("IvtVastElementCompanionClickThrough.constructor argment is undefined or null.");e.content=Wu.elementContent(t),e.creativeType=Wu.elementAttribute(t,"creativeType")}(Xu(this),e)}return e=n,(t=[{key:"content",get:function(){return Xu(this).content}},{key:"uri",get:function(){return Xu(this).content}}])&&Zu(e.prototype,t),n}();function $u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var es=m.a.namespace(),ts=function(){var e,t;function n(e){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(m.a.isEmpty(t))throw new TypeError("IvtVastElementHtmlResource.constructor argment is undefined or null.");e.content=Wu.elementContent(t),e.creativeType=Wu.elementAttribute(t,"creativeType")}(es(this),e)}return e=n,(t=[{key:"content",get:function(){return es(this).content}},{key:"uri",get:function(){return es(this).content}}])&&$u(e.prototype,t),n}();function ns(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var rs=m.a.namespace(),is=function(){var e,t;function n(e){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(m.a.isEmpty(t))throw new TypeError("IvtVastElementIframeResource.constructor argment is undefined or null.");e.content=Wu.elementContent(t),e.creativeType=Wu.elementAttribute(t,"creativeType")}(rs(this),e)}return e=n,(t=[{key:"content",get:function(){return rs(this).content}},{key:"uri",get:function(){return rs(this).content}}])&&ns(e.prototype,t),n}();function os(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var as=m.a.namespace(),us=function(){var e,t;function n(e){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(m.a.isEmpty(t))throw new TypeError("IvtVastElementStaticResource.constructor argment is undefined or null.");e.content=Wu.elementContent(t),e.creativeType=Wu.elementAttribute(t,"creativeType")}(as(this),e)}return e=n,(t=[{key:"content",get:function(){return as(this).content}},{key:"uri",get:function(){return as(this).content}},{key:"creativeType",get:function(){return as(this).creativeType}}])&&os(e.prototype,t),n}();function ss(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ls=m.a.namespace(),cs=function(){var e,t;function n(e){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(m.a.isEmpty(t))throw new TypeError("IvtVastElementCompanion.constructor argment is undefined or null.");e.staticResources=Wu.elementSubElements(t,"StaticResource",us),e.iframeResources=Wu.elementSubElements(t,"IFrameResource",is),e.htmlResources=Wu.elementSubElements(t,"HTMLResource",ts),e.companionClickThrough=Wu.elementSubElements(t,"CompanionClickThrough",Ju)[0]||null,e.width=parseInt(Wu.elementAttribute(t,"width"),10),e.height=parseInt(Wu.elementAttribute(t,"height"),10),e.id=Wu.elementAttribute(t,"id"),e.assetWidth=parseInt(Wu.elementAttribute(t,"assetWidth"),10),e.assetHeight=parseInt(Wu.elementAttribute(t,"assetHeight"),10),e.expandedWidth=parseInt(Wu.elementAttribute(t,"expandedWidth"),10),e.expandedHeight=parseInt(Wu.elementAttribute(t,"expandedHeight"),10),e.apiFramework=Wu.elementAttribute(t,"apiFramework"),e.adslotID=Wu.elementAttribute(t,"adslotID"),e.pxratio=parseFloat(Wu.elementAttribute(t,"pxratio",1)),e.staticResourceUri=e.staticResources[0]?e.staticResources[0].uri:null,e.iframeResourceUri=e.iframeResources[0]?e.iframeResources[0].uri:null,e.htmlResourceUri=e.htmlResources[0]?e.htmlResources[0].uri:null,e.clickThroughUri=e.companionClickThrough?e.companionClickThrough.uri:null}(ls(this),e)}return e=n,(t=[{key:"isClass",get:function(){return!0}},{key:"staticResources",get:function(){return ls(this).staticResources}},{key:"iframeResources",get:function(){return ls(this).iframeResources}},{key:"htmlResources",get:function(){return ls(this).htmlResources}},{key:"companionClickThrough",get:function(){return ls(this).companionClickThrough}},{key:"width",get:function(){return ls(this).width}},{key:"height",get:function(){return ls(this).height}},{key:"id",get:function(){return ls(this).id}},{key:"assetWidth",get:function(){return ls(this).assetWidth}},{key:"assetHeight",get:function(){return ls(this).assetHeight}},{key:"expandedWidth",get:function(){return ls(this).expandedWidth}},{key:"expandedHeight",get:function(){return ls(this).expandedHeight}},{key:"apiFramework",get:function(){return ls(this).apiFramework}},{key:"adslotID",get:function(){return ls(this).adslotID}},{key:"pxratio",get:function(){return ls(this).pxratio}},{key:"staticResourceUri",get:function(){return ls(this).staticResourceUri}},{key:"iframeResourceUri",get:function(){return ls(this).iframeResourceUri}},{key:"htmlResourceUri",get:function(){return ls(this).htmlResourceUri}},{key:"clickThroughUri",get:function(){return ls(this).clickThroughUri}}])&&ss(e.prototype,t),n}();function ds(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var fs=m.a.namespace(),ps=function(){var e,t;function n(e){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(m.a.isEmpty(t))throw new TypeError("IvtVastElementCompanionAds.constructor argment is undefined or null.");e.companions=Wu.elementSubElements(t,"Companion",cs),e.required=Wu.elementAttribute(t,"required")}(fs(this),e)}return e=n,(t=[{key:"companions",get:function(){return fs(this).companions}},{key:"required",get:function(){return fs(this).required}}])&&ds(e.prototype,t),n}();function hs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var vs=m.a.namespace(),ys=function(){var e,t;function n(e){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(m.a.isEmpty(t))throw new TypeError("IvtVastElementMediaFile.constructor argment is undefined or null.");var n=vs(e);n._content=Wu.elementContent(t),n._delivery=Wu.elementAttribute(t,"delivery"),n._type=Wu.elementAttribute(t,"type"),n._width=parseInt(Wu.elementAttribute(t,"width"),10),n._height=parseInt(Wu.elementAttribute(t,"height"),10),n._codec=Wu.elementAttribute(t,"codec"),n._id=Wu.elementAttribute(t,"id"),n._bitrate=parseInt(Wu.elementAttribute(t,"bitrate"),10),n._minBitrate=parseInt(Wu.elementAttribute(t,"minBitrate"),10),n._maxBitrate=parseInt(Wu.elementAttribute(t,"maxBitrate"),10),n._scalable=m.a.stringToBool(Wu.elementAttribute(t,"scalable"),!0),n._maintainAspectRatio=m.a.stringToBool(Wu.elementAttribute(t,"maintainAspectRatio"),!0),n._apiFramework=Wu.elementAttribute(t,"apiFramework"),n._isVpaid="application/javascript"===n._type&&"VPAID"===n._apiFramework,n._layoutType=n._height>=n._width?"vertical":"horizontal"}(this,e)}return e=n,(t=[{key:"content",get:function(){return vs(this)._content}},{key:"uri",get:function(){return vs(this)._content}},{key:"delivery",get:function(){return vs(this)._delivery}},{key:"type",get:function(){return vs(this)._type}},{key:"width",get:function(){return vs(this)._width}},{key:"height",get:function(){return vs(this)._height}},{key:"codec",get:function(){return vs(this)._codec}},{key:"id",get:function(){return vs(this)._id}},{key:"bitrate",get:function(){return vs(this)._bitrate}},{key:"minBitrate",get:function(){return vs(this)._minBitrate}},{key:"maxBitrate",get:function(){return vs(this)._maxBitrate}},{key:"scalable",get:function(){return vs(this)._scalable}},{key:"maintainAspectRatio",get:function(){return vs(this)._maintainAspectRatio}},{key:"apiFramework",get:function(){return vs(this)._apiFramework}},{key:"isVpaid",get:function(){return vs(this)._isVpaid}},{key:"layoutType",get:function(){return vs(this)._layoutType}}])&&hs(e.prototype,t),n}();function ms(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var gs=m.a.namespace(),bs=function(){var e,t;function n(e){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){var n=gs(e);if(m.a.isEmpty(t))throw new TypeError("IvtVastElementMediaFiles.constructor argment is undefined or null.");n._mediaFiles=Wu.elementSubElements(t,"MediaFile",ys)}(this,e)}return e=n,(t=[{key:"findOptimalMediaFile",value:function(){return 0<arguments.length&&void 0!==arguments[0]&&arguments[0],function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1500,n=e.filter(function(e){return m.a.isEmpty(e.delivery)||"progressive"===e.delivery}),r=[];return r=n.filter(function(e){return"video/mp4"===e.type&&!e.apiFramework}),m.a.isEmpty(r)&&(r=n.filter(function(e){return"application/javascript"===e.type&&"VPAID"===e.apiFramework})),m.a.isEmpty(r)?null:r.sort(function(e,n){return e.bitrate<=t&&n.bitrate<=t?n.bitrate-e.bitrate:e.bitrate-n.bitrate})[0]}(this.mediaFiles)}},{key:"mediaFiles",get:function(){return gs(this)._mediaFiles}}])&&ms(e.prototype,t),n}();function ws(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function As(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){ws(o,r,i,a,u,"next",e)}function u(e){ws(o,r,i,a,u,"throw",e)}a(void 0)})}}function ks(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ss(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Es=new p("Vast"),Cs=m.a.namespace();function xs(e,t){return function(){return As(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Es.debug("_loadVast()."),i=r=null,e.prev=3,!n.includes("<")){e.next=8;break}r=Vs(t,n),e.next=12;break;case 8:return e.next=10,Ps(t,n);case 10:r=e.sent,i=n;case 12:return e.next=14,Os(t,r,i);case 14:e.next=20;break;case 16:throw e.prev=16,e.t0=e.catch(3),Es.debug("_loadVast failed. message = ".concat(e.t0.message,".")),e.t0;case 20:case"end":return e.stop()}},e,null,[[3,16]])})).apply(this,arguments)}.apply(this,arguments)}function Vs(e,t){return Es.debug("_parseXML()."),(new DOMParser).parseFromString(t,"text/xml")}function Os(e,t){return function(){return As(regeneratorRuntime.mark(function e(t,n){var r,i,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=2<a.length&&void 0!==a[2]?a[2]:null,Es.debug("_parseVast(urlStr: ".concat(r,").")),e.prev=2,i=Wu.queryOne(n,"VAST>Ad>InLine"))return e.next=7,_s(t,i,r);e.next=10;break;case 7:if(e.sent)return e.abrupt("return");e.next=10;break;case 10:if(o=Wu.queryOne(n,"VAST>Ad>Wrapper"))return e.next=14,Bs(t,o,r);e.next=17;break;case 14:if(e.sent)return e.abrupt("return");e.next=17;break;case 17:Us(t,n),e.next=24;break;case 20:throw e.prev=20,e.t0=e.catch(2),Es.debug("_parseVast failed. message = ".concat(e.t0.message,".")),e.t0;case 24:case"end":return e.stop()}},e,null,[[2,20]])})).apply(this,arguments)}.apply(this,arguments)}function _s(e,t){return function(){return As(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,u,s,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=2<l.length&&void 0!==l[2]?l[2]:null,e.prev=1,Es.debug("_parseInline(); begin."),(i=(new Ku).init({adSubElement:n}))&&(t.adConfig=i),o=Wu.queryOne(n,"Creatives>Creative>Linear>MediaFiles"),m.a.isEmpty(o))return Es.debug("_parseInline(); failed: MediaFiles is Empty."),e.abrupt("return",!1);e.next=9;break;case 9:if(a=new bs(o),(u=null==a?void 0:a.findOptimalMediaFile()).isVpaid)return e.next=14,Rs(t,u);e.next=14;break;case 14:return m.a.isEmpty(t.vastUrl)&&(t.vastUrl=r),m.a.isEmpty(t.ads)&&(t.ads=[n.parentNode]),m.a.isEmpty(t.ad1)&&(t.ad1=n),s=Cs(t),m.a.isEmpty(s._mediaFilesObject)&&(s._mediaFilesObject=a),m.a.isEmpty(s._media)&&(s._media=u),zs(t,n),e.abrupt("return",!0);case 22:return e.prev=22,Es.debug("_parseInline(); end."),e.finish(22);case 25:case"end":return e.stop()}},e,null,[[1,,22,25]])})).apply(this,arguments)}.apply(this,arguments)}function Bs(e,t){return function(){return As(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(2<u.length&&void 0!==u[2]&&u[2],e.prev=1,Es.debug("_parseWrapper(); begin."),(r=(new Ku).init({adSubElement:n}))&&(t.adConfig=r),zs(t,n),i=Wu.elementContent(Wu.queryOne(n,"VASTAdTagURI")),m.a.isEmpty(i))return e.abrupt("return",!1);e.next=9;break;case 9:return e.next=11,Is(t,i);case 11:if(o=e.sent,m.a.isEmpty(o))return e.abrupt("return",!1);e.next=14;break;case 14:return e.next=16,Os(t,o,i);case 16:return a=e.sent,e.abrupt("return",a);case 18:return e.prev=18,Es.debug("_parseWrapper(); end."),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[1,,18,21]])})).apply(this,arguments)}.apply(this,arguments)}function Rs(e,t){return function(){return As(regeneratorRuntime.mark(function e(t,n){var r,i,o,a,u,s,l,c,d,f,p,h,v,y,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Es.debug("_parseIasVpaidIfNeeded(); begin."),i=RegExp("IASVideo.js$","i"),o="originalvast=",a=n.uri,(u=document.createElement("a")).href=a,s=i.test(u.pathname),l=u.search,c=null==l?void 0:null===(r=l.toLowerCase())||void 0===r?void 0:r.indexOf(o),d=l.slice(c+o.length),!s||m.a.isEmpty(d))return Es.debug("_parseIasVpaidIfNeeded(); failed. the VAST is general VPAID. url: ".concat(a,".")),e.abrupt("return",!1);e.next=14;break;case 14:return e.next=16,Is(t,d);case 16:if(f=e.sent,p=Wu.queryOne(f,"VAST>Ad>InLine"),!(h=Wu.queryOne(p,"Creatives>Creative>Linear>MediaFiles"))){e.next=32;break}if(new bs(h).findOptimalMediaFile().isVpaid){e.next=25;break}return Es.debug("_parseIasVpaidIfNeeded(); failed. the VAST is normal IAS VPAID. url: ".concat(a,".")),e.abrupt("return",!1);case 25:return Es.debug("_parseIasVpaidIfNeeded(); the VAST is IAS VPAID in VPAID. url: ".concat(a,".")),e.next=28,Os(t,f,d);case 28:return v=e.sent,e.abrupt("return",v);case 32:return Es.debug("_parseIasVpaidIfNeeded(); the VAST is normal IAS VPAID. but originalVast is Wrapper AD or No Ad. url: ".concat(a,".")),y=Wu.queryOne(f,"VAST>Ad>Wrapper"),e.next=36,Bs(t,y,d);case 36:return g=e.sent,e.abrupt("return",g);case 38:return e.prev=38,Es.debug("_parseIasVpaidIfNeeded(); end."),e.finish(38);case 41:case"end":return e.stop()}},e,null,[[0,,38,41]])})).apply(this,arguments)}.apply(this,arguments)}function Ps(e,t){return function(){return As(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Es.debug("_requestVast(urlStr: ".concat(n,").")),e.prev=1,m.a.isEmpty(n))throw new Error("vast url is empty.");e.next=4;break;case 4:if(r=Ts(n),Es.debug("request url:"+r),r.includes("//img.ak.impact-ad.jp/ic/pone/VAST/VAST.xml"))throw new Error("m1 empty vast error");e.next=8;break;case 8:return e.next=10,Fs(r);case 10:if(i=e.sent){e.next=13;break}throw new Error("vast format error");case 13:return e.abrupt("return",i);case 16:throw e.prev=16,e.t0=e.catch(1),Es.debug("requestVast failed. message = ".concat(e.t0.message,".")),e.t0;case 20:case"end":return e.stop()}},e,null,[[1,16]])})).apply(this,arguments)}.apply(this,arguments)}function Is(e,t){return function(){return As(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Es.debug("_requestVastWrapper(urlStr: ".concat(n,").")),e.prev=1,m.a.isEmpty(n))throw new Error("vast url is empty.");e.next=4;break;case 4:if(n.includes("//img.ak.impact-ad.jp/ic/pone/VAST/VAST.xml"))throw new Error("m1 empty vast error");e.next=6;break;case 6:return e.next=8,Ps(t,n);case 8:return r=e.sent,e.abrupt("return",r);case 12:throw e.prev=12,e.t0=e.catch(1),Es.debug("_requestVastWrapper failed. message = ".concat(e.t0.message,".")),e.t0;case 16:case"end":return e.stop()}},e,null,[[1,12]])})).apply(this,arguments)}.apply(this,arguments)}function Fs(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.addEventListener("load",function(){200===r.status?t(r.response):n(new Error("invalid url :"+e))},!1),r.addEventListener("error",function(e){n(e)},!1),r.open("GET",e,!0),r.responseType="document",r.withCredentials=Ie.filter(function(t){return 0<=e.indexOf(t)}).length<=0,r.send()})}function Ts(e){var t=e;return(t=(t=(t=(t=t.replace("$rand$",Math.random(Date.now()))).replace(/{IMPRESSION_ID}/g,m.a.randomNum())).replace(/{REFERER_ESC}/g,encodeURIComponent(m.a.getReferrer()))).replace(/{WIDTH}/g,m.a.getWidth())).replace(/{HEIGHT}/g,m.a.getHeight())}function js(e,t,n){var r=e.tracks[t];return new Promise(function(i,o){if(m.a.isEmpty(r))return Es.debug("event not found:"+t),void i();var a,u,s,l,c,d,f,p=[],h=!0,v=!1,y=void 0;try{for(var g,b=r[Symbol.iterator]();!(h=(g=b.next()).done);h=!0){var w=g.value,A=w;if("errors"===t){var k=n&&n.code;a=w,u=k,s=e.vastUrl,l=u||"900",c=m.a.randomNum(),d=encodeURIComponent(s)||"",f=function(e){function t(e){return e<10?"0"+e:e}var n=e.getFullYear(),r=t(e.getMonth()+1),i=t(e.getDate()),o=t(e.getHours()),a=e.getMinutes(),u=e.getSeconds(),s=(e.getMilliseconds()/1e3).toFixed(3).slice(2,5),l=t(e.getTimezoneOffset()/-60);return"".concat(n,"-").concat(r,"-").concat(i,"T").concat(o,":").concat(a,":").concat(u,":").concat(s,"+").concat(l)}(new Date),A=a.replace(/\[ERRORCODE\]/g,l).replace(/\[CONTENTPLAYHEAD\]/g,"00:00:00.000").replace(/\[CACHEBUSTING\]/g,c).replace(/\[ASSETURI\]/g,d).replace(/\[TIMESTAMP\]/g,f)}p.push(Ls(e,A))}}catch(o){v=!0,y=o}finally{try{h||null==b.return||b.return()}finally{if(v)throw y}}Promise.all(p).then(function(){i()},function(e){i()})})}function Us(e,t){var n=e.tracks,r=Wu.queryAll(t,"VAST>Error"),i=!0,o=!1,a=void 0;try{for(var u,s=r[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var l=u.value;n.errors.push(Wu.elementContent(l))}}catch(e){o=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}}function zs(e,t){var n=e.tracks,r=Wu.queryAll(t,"Error"),i=!0,o=!1,a=void 0;try{for(var u,s=r[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var l=u.value;n.errors.push(Wu.elementContent(l))}}catch(e){o=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}var c=Wu.queryAll(t,"Impression"),d=!0,f=!1,p=void 0;try{for(var h,v=c[Symbol.iterator]();!(d=(h=v.next()).done);d=!0){var y=h.value;n.impressions.push(Wu.elementContent(y))}}catch(e){f=!0,p=e}finally{try{d||null==v.return||v.return()}finally{if(f)throw p}}var g=Wu.queryAll(t,"Creatives Creative Linear VideoClicks ClickTracking"),b=!0,w=!1,A=void 0;try{for(var k,S=g[Symbol.iterator]();!(b=(k=S.next()).done);b=!0){var E=k.value;n.videoClicksTracking.push(Wu.elementContent(E))}}catch(e){w=!0,A=e}finally{try{b||null==S.return||S.return()}finally{if(w)throw A}}var C=Wu.queryAll(t,"Creatives Creative Linear VideoClicks ClickThrough");m.a.isNotEmpty(C)&&(n.videoClicksThrough=Wu.elementContent(C[0]));var x=Wu.queryAll(t,"Creatives Creative Linear TrackingEvents Tracking",0),V=!0,O=!1,_=void 0;try{for(var B,R=x[Symbol.iterator]();!(V=(B=R.next()).done);V=!0){var P=B.value,I=P.getAttribute("event"),F=Wu.elementContent(P);if("progress"===I){var T=Wu.toSec(P.getAttribute("offset"));n.progresses[T]=n.progresses[T]?n.progresses[T]:[],n.progresses[T].push(F)}else"start"===I?n.percents[0].push(F):"firstQuartile"===I?n.percents[25].push(F):"midpoint"===I?n.percents[50].push(F):"thirdQuartile"===I?n.percents[75].push(F):"complete"===I?n.percents[100].push(F):(n[I]=n[I]?n[I]:[],n[I].push(F))}}catch(e){O=!0,_=e}finally{try{V||null==R.return||R.return()}finally{if(O)throw _}}Es.debug("VAST Events",n)}function Ls(e,t){return new Promise(function(n){var r=R("img");r.style.display="none",r.on("load",function(){Es.debug("beacon on load: url = ".concat(t)),e.trackeds.push(t),r&&r.parentNode&&r.parentNode.removeChild(r),n()}),r.on("error",function(i){Es.debug("beacon on error: url = ".concat(t)),e.trackeds.push(t),r&&r.parentNode&&r.parentNode.removeChild(r),n()}),r.src=t,document.body.appendChild(r)})}function Ds(e,t){return function(){return As(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Es.debug("load"),e.next=3,xs(t,n);case 3:case"end":return e.stop()}},e)})).apply(this,arguments)}.apply(this,arguments)}function Ms(){return(Ms=As(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Es.debug("loadAndLocate"),e.next=3,Ds(t,n);case 3:if(Ns(t,0)){e.next=5;break}throw new Error("ERROR: no ad");case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ns(e,t){var n=e.ads[t];if(m.a.isNotExist(n))return!1;var r=e.ad1;return!m.a.isNotExist(r)&&(e.adId=n.getAttribute("id"),e.creativeId=Wu.queryOne(r,"Creatives Creative ",0).getAttribute("id"),e.adSystem=Wu.elementContent(Wu.queryOne(r,"AdSystem",0)).replace(/\s+/g,""),e.duration=Wu.toSec(Wu.elementContent(Wu.queryOne(r,"Creatives Creative Linear Duration",0))),e.adTitle=Wu.elementContent(Wu.queryOne(r,"AdTitle",0)),e.description=Wu.elementContent(Wu.queryOne(r,"Description",0)),e.advertiser=Wu.elementContent(Wu.queryOne(r,"Advertiser",0)),m.a.isEmpty(e.advertiser)&&(e.advertiser=Wu.elementContent(Wu.queryOne(r,"Extensions Extension Advertiser",0))),!0)}function Ws(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;try{return e.companionAdsObject.companions.filter(t)[n]}catch(e){return null}}var Hs=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ss(this,"ads",[]),Ss(this,"ad1",null),Ss(this,"duration",0),Ss(this,"isEnabledTracking",!0),Ss(this,"trackeds",[]),Ss(this,"tracks",{videoClicksThrough:null,errors:[],impressions:[],videoClicksTracking:[],progresses:{},percents:{0:[],25:[],50:[],75:[],100:[]}}),Ss(this,"duration",NaN),Ss(this,"adTitle",null),Ss(this,"advertiser",null),Ss(this,"description",null),Ss(this,"adConfig",null),Ss(this,"adId",null),Ss(this,"adSystem",null),Ss(this,"creativeId",null),Ss(this,"vastUrl",null);var t=Cs(this);t._media=void 0,t._mediaFilesObject=null,t._companionAdsObject=null}var t,n;return t=e,(n=[{key:"clear",value:function(){var e=Cs(this);e._media=null,delete e._media,e._mediaFilesObject=null,delete e._mediaFilesObject,e._companionAdsObject=null,delete e._companionAdsObject,this.ads=null,this.ad1=null,this.duration=null,this.isEnabledTracking=null,this.trackeds=null,this.tracks=null,this.duration=null,this.adTitle=null,this.advertiser=null,this.description=null,this.adId=null,this.adSystem=null,this.creativeId=null,this.vastUrl=null}},{key:"load",value:function(e){return Ds(this,e)}},{key:"loadAndLocate",value:function(e){return function(e,t){return Ms.apply(this,arguments)}(this,e)}},{key:"locateAd",value:function(e){Ns(this,e)}},{key:"dispatchVastEvent",value:function(e){return js(this,e)}},{key:"dispatchVastError",value:function(e){return js(this,"errors",e)}},{key:"companion",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=Number(e),i=Number(t);return r&&i?(r=parseInt(r,10),i=parseInt(i,10),Ws(this,function(e){return e.width===r&&e.height===i},n)):null}},{key:"companionFromId",value:function(e){return Ws(this,function(t){return t.id===e},1<arguments.length&&void 0!==arguments[1]?arguments[1]:0)}},{key:"onTimeupdate",value:function(e,t){return n=this,r=e,i=t,new Promise(function(e,t){if(n.isEnabledTracking){var o=r/i*100,a=Wu.popSmaller(n.tracks.percents,o);if((a=a.concat(Wu.popSmaller(n.tracks.progresses,r))).length){var u=[],s=!0,l=!1,c=void 0;try{for(var d,f=a[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var p=d.value;u.push(Ls(n,p))}}catch(e){l=!0,c=e}finally{try{s||null==f.return||f.return()}finally{if(l)throw c}}Promise.all(u).then(function(){Es.debug("resloved onTimeupdate(time: ".concat(r,", duration: ").concat(i,", urls: [").concat(a,"]);")),e()},function(e){Es.debug("reject onTimeupdate(time: ".concat(r,", duration: ").concat(i,", urls: [").concat(a,"]);")),t(e)})}else e()}else e()});var n,r,i}},{key:"numAds",get:function(){return this.ads.length}},{key:"adParameters",get:function(){return Wu.elementContent(Wu.queryOne(this.ad1,"Creatives Creative Linear AdParameters",0))}},{key:"media",get:function(){return t=Cs(e=this),m.a.isUndefined(t._media)&&(t._media=e.mediaFilesObject.findOptimalMediaFile()),t._media;var e,t}},{key:"mediaFilesObject",get:function(){return function(e){try{var t=Cs(e);if(t._mediaFilesObject)return t._mediaFilesObject;var n=Wu.queryOne(e.ad1,"Creatives Creative Linear MediaFiles");return t._mediaFilesObject=new bs(n),t._mediaFilesObject}catch(e){return null}}(this)}},{key:"companionAdsObject",get:function(){return function(e){try{var t=Cs(e);if(t._companionAdsObject)return t._companionAdsObject;var n=Wu.queryOne(e.ad1,"Creatives CompanionAds");return t._companionAdsObject=new ps(n),t._companionAdsObject}catch(e){return null}}(this)}}])&&ks(t.prototype,n),e}();function Qs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function qs(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function Ys(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ks(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gs={Succeeded:"Succeeded",Failed:"Failed"},Zs={None:0,Loading:1,Timedout:2,Finished:3},Xs=new p("VastLoader");function Js(e,t){return new Promise(function(n){t.loadAndLocate(t.url).then(function(){var r;Xs.debug("loadVast(); succeeded; url: ".concat(t.url,";")),null===(r=e._loadedVasts)||void 0===r||r.push(t);var i={vast:t,status:Gs.Succeeded,error:null};n(i)},function(e){Xs.debug("loadVast(); failed; url: ".concat(t.url,";")),e.errorCode=u.IvtErrorCode.noAd;var r={vast:t,status:Gs.Failed,error:e};n(r)})})}function $s(e,t){t.status===Gs.Failed?function(e,t,n){null==t||t.dispatchVastError(n.errorCode),m.a.isNotExist(e._loadStatus)||Zs.Finished<=e._loadStatus||Xs.debug("didFail(); error name: ".concat(n.name,", message: ").concat(n.message))}(e,t.vast,t.error):el(e,t.vast)}function el(e,t){var n;if(!(m.a.isNotExist(e._loadStatus)||Zs.Finished<=e._loadStatus)){Xs.debug("didSucceed(); url: ".concat(t.url,";")),e._loadedVasts=e._loadedVasts.filter(function(e){return e!==t}),e._succeededVasts.push(t);var r=e._promiseFunctions.shift();null==r||null===(n=r.resolve)||void 0===n||n.call(r,t)}}function tl(e){if(!(m.a.isNotExist(e._loadStatus)||Zs.Finished<=e._loadStatus)){Xs.debug("didFinish(); loadVast() is finished;"),m.a.isExist(e._timeoutId)&&(window.clearTimeout(e._timeoutId),e._timeoutId=void 0),e._loadStatus=Zs.Finished;var t=new te("no ad",u.IvtErrorCode.noAd),n=!0,r=!1,i=void 0;try{for(var o,a=e._promiseFunctions[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s,l=o.value;null==l||null===(s=l.reject)||void 0===s||s.call(l,t)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}e._promiseFunctions=[],e._loadedVasts=[]}}var nl=function(){function e(t,n){!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),Ks(this,"_vastUrls",[]),Ks(this,"_timeout",1),Ks(this,"_currentIndex",0),Ks(this,"_loadStatus",Zs.None),Ks(this,"_loadedVasts",[]),Ks(this,"_promiseFunctions",[]),Ks(this,"_succeededVasts",[]),Ks(this,"_timeoutId",void 0),this._vastUrls=t||this._vastUrls,this._timeout=n||this._timeout}var t,n;return t=e,(n=[{key:"clear",value:function(){window.clearTimeout(this._timeoutId),this._vastUrls=void 0,this._timeout=void 0,this._currentIndex=void 0,this._loadStatus=void 0,this._loadedVasts=void 0,this._promiseFunctions=void 0,this._succeededVasts=void 0,this._timeoutId=void 0}},{key:"loadVasts",value:function(){var e=this;if(Zs.Loading<=this._loadStatus)Xs.debug("loadVasts failed: loadStatus = ".concat(this._loadStatus,"."));else{this._loadStatus=Zs.Loading,Xs.debug("loadVasts().");for(var t,n=this._vastUrls,r=[],i=[],o=Object.entries(n),a=0;a<o.length;a++){var u=Qs(o[a],2),s=u[0],l=u[1],c=new Hs;c.priority=s,c.url=l,r.push(Js(this,c))}t=regeneratorRuntime.mark(function t(){var n,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=0;case 1:if(n<r.length)return o=r[n],t.next=5,o;t.next=10;break;case 5:a=t.sent,$s(e,a);case 7:n++,t.next=1;break;case 10:return t.next=12,Promise.all(i);case 12:tl(e);case 13:case"end":return t.stop()}},t)}),function(){var e=this,n=arguments;new Promise(function(r,i){var o=t.apply(e,n);function a(e){qs(o,r,i,a,u,"next",e)}function u(e){qs(o,r,i,a,u,"throw",e)}a(void 0)})}(),1<n.length&&(this._timeoutId=window.setTimeout(function(){!function(e){if(!(m.a.isNotExist(e._loadStatus)||Zs.Timedout<=e._loadStatus)){Xs.debug("didTimeout(); loadVast() is timedout;"),e._timeoutId&&(window.clearTimeout(e._timeoutId),e._timeoutId=null),e._loadStatus=Zs.Timedout,e._loadedVasts.sort(function(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0});var t=!0,n=!1,r=void 0;try{for(var i,o=e._loadedVasts[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){el(e,i.value)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}tl(e)}}(e)},this._timeout))}}},{key:"next",value:function(){var e=this,t=this._currentIndex;return this._currentIndex+=1,new Promise(function(n,r){if(t<e._succeededVasts.length)n(e._succeededVasts[t]);else if(Zs.Timedout<=e._loadStatus){e._currentIndex=NaN;var i=Zs.Finished<=e._loadStatus?u.IvtErrorCode.noAd:u.IvtErrorCode.timeout;r(new te("no ad",i))}else{var o={resolve:n,reject:r};e._promiseFunctions.push(o)}})}}])&&Ys(t.prototype,n),e}();function rl(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function il(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){rl(o,r,i,a,u,"next",e)}function u(e){rl(o,r,i,a,u,"throw",e)}a(void 0)})}}function ol(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function al(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ul=new p("AdAction");function sl(){try{var e=Fu.primaryConfig,t=Fu.adStore.vast;if(m.a.isEmpty(null==t?void 0:t.ad1))throw new te("reason = 'no ad'. code = ".concat(ve.noAd,"."),ve.noAd);var n=null==t?void 0:t.media;if(m.a.isEmpty(null==n?void 0:n.uri))throw new te("eason = 'no ad'. code = ".concat(ve.noAd,"."),ve.noAd);if(null==n?void 0:n.isVpaid){if("normal"!==(null==e?void 0:e.type)&&"wipe"!==(null==e?void 0:e.type))throw new te("reason = 'not supported Ad Interface'. code = ".concat(ve.vpaid,"."),ve.vpaid);if(!e.isInlineVideoSupport)throw new te("reason = 'not supported inline video on vpaid'. code = ".concat(ve.vpaid,"."),ve.vpaid)}}catch(e){return ul.debug("_validate(); failed.);"),void cl(e)}}function ll(e){window.open(e,"_blank")}function cl(e){return function(){return il(regeneratorRuntime.mark(function e(t){var n,r,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=null==t?void 0:t.errorCode,r=null==t?void 0:t.message,i={errorCode:n,message:r},ul.debug("_didAdError(errorCode: ".concat(n,", message: ").concat(r,"); begin.")),e.next=7,Fu.adStore.setLastEvent({name:Ae.didAdError,detail:i});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ul.debug("_didAdError(); failed; errorCode: ".concat(e.t0.errorCode,", message: ").concat(e.t0.message,");"));case 12:return e.prev=12,ul.debug("_didAdError(); end."),e.finish(12);case 15:return o=Fu.option,a={placementId:o.id,targetElement:o.targetElement,isEnabledPassbackIframe:o.passbackIframe,size:new $e(o.passbackIframeSize),type:o.type,zIndex:o.wrapperZindex},e.next=19,Kl.adAction.unload();case 19:return e.next=21,Fu.deinit();case 21:return e.next=23,Kl.deinit();case 23:(new Du).open(a);case 24:case"end":return e.stop()}},e,null,[[0,9,12,15]])})).apply(this,arguments)}.apply(this,arguments)}var dl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),al(this,"_isStarting",void 0),al(this,"_isPlaying",void 0),al(this,"_isPausing",void 0),al(this,"_mutedOnInline",void 0),ul.debug("constructor();")}var t,n,r,i,o,u,s,l,c,d,f,p,h,v,y,g,b,w,A,k,S,E,C,x,V,O,_,B,R,P;return t=e,(n=[{key:"init",value:function(){ul.debug("begin();"),this._isStarting=!1,this._isPlaying=!1,this._isPausing=!1,this._mutedOnInline=!0}},{key:"deinit",value:function(){ul.debug("deinit();"),this._isStarting=!1,this._isPlaying=!1,this._isPausing=!1,this._mutedOnInline=!0}},{key:"request",value:(P=il(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(function(e){return m.a.isFlag(e,null,ke.request)}(Fu.adStore.status)){e.next=4;break}return ul.debug("request(); can not begin."),e.abrupt("return");case 4:if(e.prev=4,n=Pe.isSupport(null===(t=Fu.option)||void 0===t?void 0:t.unsupportedBrowsers),ul.debug("request(); prepared. isSupport = ".concat(n,".")),n){e.next=11;break}return ul.error("request(); failed. not supported os or browser."),cl(new Error("not supported os or browser.")),e.abrupt("return");case 11:return ul.debug("request(); begin."),e.next=14,Fu.adStore.setLastEvent({name:Ae.willVastRequest});case 14:return e.next=16,Fu.adStore.addState(ke.request);case 16:return e.next=18,Fu.adStore.setLastEvent({name:Ae.didVastRequest});case 18:e.next=25;break;case 20:return e.prev=20,e.t0=e.catch(4),ul.error("request(); failed."),cl(e.t0),e.abrupt("return");case 25:return e.prev=25,ul.debug("request(); end."),e.finish(25);case 28:this.create();case 29:case"end":return e.stop()}},e,this,[[4,20,25,28]])})),function(){return P.apply(this,arguments)})},{key:"create",value:(R=il(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(function(e){return m.a.isFlag(e,ke.request,ke.create)}(Fu.adStore.status)){e.next=4;break}return ul.debug("create(); can not begin."),e.abrupt("return");case 4:return e.prev=4,ul.debug("create(); prepared."),Fu.configStore.init(Fu.option,Fu.adStore.vast),Fu.adContainerStore.init(),sl(),ul.debug("create(); begin."),e.next=12,Fu.adStore.setLastEvent({name:Ae.willAdCreate});case 12:return e.next=14,Fu.adStore.addState(ke.create);case 14:return e.next=16,Fu.adStore.setLastEvent({name:Ae.didAdCreate});case 16:e.next=23;break;case 18:return e.prev=18,e.t0=e.catch(4),ul.error("create(); failed."),cl(e.t0),e.abrupt("return");case 23:return e.prev=23,ul.debug("create(); end."),e.finish(23);case 26:this.load();case 27:case"end":return e.stop()}},e,this,[[4,18,23,26]])})),function(){return R.apply(this,arguments)})},{key:"load",value:(B=il(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(function(e){return m.a.isFlag(e,ke.create,ke.load)}(Fu.adStore.status)){e.next=4;break}return ul.debug("load(); can not begin."),e.abrupt("return");case 4:return e.prev=4,ul.debug("load(); begin."),e.next=8,Fu.adStore.setLastEvent({name:Ae.willAdLoad});case 8:return e.next=10,Fu.adStore.addState(ke.load);case 10:return e.next=12,Fu.adStore.setLastEvent({name:Ae.didAdLoad});case 12:e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(4),ul.error("load(); failed."),cl(e.t0),e.abrupt("return");case 19:return e.prev=19,ul.debug("load(); end."),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[4,14,19,22]])})),function(){return B.apply(this,arguments)})},{key:"unload",value:(_=il(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(function(e){return m.a.isFlag(e,ke.load)}(Fu.adStore.status)){e.next=4;break}return ul.debug("unload(); can not begin."),e.abrupt("return");case 4:return e.prev=4,ul.debug("unload(); begin."),e.next=8,Fu.adStore.setLastEvent({name:Ae.willAdUnload});case 8:return e.next=10,Fu.adStore.removeState(ke.load);case 10:return e.next=12,Fu.adStore.setLastEvent({name:Ae.didAdUnload});case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(4),ul.error("unload(); failed. error: ${error.message}"),e.abrupt("return");case 18:return e.prev=18,ul.debug("unload(); end."),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[4,14,18,21]])})),function(){return _.apply(this,arguments)})},{key:"start",value:(O=il(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(function(e){return!t._isStarting&&m.a.isFlag(e,ke.load,ke.start)}(Fu.adStore.status)){e.next=4;break}return ul.debug("start(); can not begin."),e.abrupt("return");case 4:return e.prev=4,ul.debug("start(); begin."),this._isStarting=!0,e.next=9,Fu.adStore.setLastEvent({name:Ae.willAdStart});case 9:return e.next=11,Fu.adStore.addState(ke.start|ke.play);case 11:return e.next=13,Fu.adStore.setLastEvent({name:Ae.didAdStart});case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(4),ul.error("start(); failed."),cl(e.t0),e.abrupt("return");case 20:return e.prev=20,ul.debug("start(); end."),this._isStarting=!1,e.finish(20);case 24:case"end":return e.stop()}},e,this,[[4,15,20,24]])})),function(){return O.apply(this,arguments)})},{key:"stop",value:(V=il(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(function(e){return m.a.isFlag(e,ke.start)}(Fu.adStore.status)){e.next=4;break}return ul.debug("stop(); can not begin."),e.abrupt("return");case 4:return e.prev=4,ul.debug("stop(); begin."),e.next=8,Fu.adStore.setLastEvent({name:Ae.willAdStop});case 8:return e.next=10,Fu.adStore.removeState(ke.start);case 10:return e.next=12,Fu.adStore.setLastEvent({name:Ae.didAdStop});case 12:e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(4),ul.error("stop(); failed."),cl(e.t0),e.abrupt("return");case 19:return e.prev=19,ul.debug("stop(); end."),e.finish(19);case 22:if(Fu.getConfig().isForceCloseOnAdStop)return Kl.adAction.close(),e.abrupt("return");e.next=25;break;case 25:if(Fu.adStore.isEnded&&Fu.adStore.replayTimes<Fu.option.autoReplayTimes)return e.prev=26,Kl.adAction.replay(),Fu.adStore.incrementReplayTimes(),e.abrupt("return");e.next=34;break;case 32:e.prev=32,e.t1=e.catch(26);case 34:0<Fu.option.autoCloseDuration&&window.setTimeout(function(){Kl.adContainerAction.close()},1e3*Fu.option.autoCloseDuration);case 35:case"end":return e.stop()}},e,null,[[4,14,19,22],[26,32]])})),function(){return V.apply(this,arguments)})},{key:"play",value:(x=il(regeneratorRuntime.mark(function e(){var t,n,r=this,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0<i.length&&void 0!==i[0]?i[0]:ye.userInteraction,n=function(e){return!r._isPlaying&&m.a.isFlag(e,ke.start,ke.play)&&Fu.adStore.isEmptyPausedReason&&!Fu.adStore.isEnded},Fu.adStore.removePausedReason(t),n(Fu.adStore.status)){e.next=6;break}return ul.debug("play(pausedReason: ".concat(t,"); can not begin. adPausedReason: ").concat(Fu.adStore.pausedReason,", adStatus: ").concat(Fu.adStore.status,".")),e.abrupt("return");case 6:return e.prev=6,ul.debug("play(pausedReason: ".concat(t,"); begin;")),this._isPlaying=!0,e.next=11,Fu.adStore.setLastEvent({name:Ae.willAdPlay,timeout:500});case 11:return e.next=13,Fu.adStore.addState(ke.play);case 13:return e.next=15,Fu.adStore.setLastEvent({name:Ae.didAdPlay});case 15:e.next=23;break;case 17:if(e.prev=17,e.t0=e.catch(6),ul.error("play(); failed."),e.t0 instanceof a.TimeoutError){e.next=23;break}return cl(e.t0),e.abrupt("return");case 23:return e.prev=23,ul.debug("play(); end."),this._isPlaying=!1,e.finish(23);case 27:case"end":return e.stop()}},e,this,[[6,17,23,27]])})),function(){return x.apply(this,arguments)})},{key:"pause",value:(C=il(regeneratorRuntime.mark(function e(){var t,n,r=this,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0<i.length&&void 0!==i[0]?i[0]:ye.userInteraction,n=function(e){return!r._isPausing&&m.a.isFlag(e,ke.play)&&!Fu.adStore.isEnded},Fu.adStore.addPausedReason(t),n(Fu.adStore.status)){e.next=6;break}return ul.debug("pause(pausedReason: ".concat(t,"); can not begin. adPausedReason: ").concat(Fu.adStore.pausedReason,", adStatus: ").concat(Fu.adStore.status,".")),e.abrupt("return");case 6:return e.prev=6,ul.debug("pause(pausedReason: ".concat(t,"); begin;")),this._isPausing=!0,e.next=11,Fu.adStore.setLastEvent({name:Ae.willAdPause,timeout:500});case 11:return e.next=13,Fu.adStore.removeState(ke.play);case 13:return e.next=15,Fu.adStore.setLastEvent({name:Ae.didAdPause});case 15:e.next=23;break;case 17:if(e.prev=17,e.t0=e.catch(6),ul.error("pause(); failed."),e.t0 instanceof a.TimeoutError){e.next=23;break}return cl(e.t0),e.abrupt("return");case 23:return e.prev=23,ul.debug("pause(); end."),this._isPausing=!1,e.finish(23);case 27:case"end":return e.stop()}},e,this,[[6,17,23,27]])})),function(){return C.apply(this,arguments)})},{key:"replay",value:(E=il(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(function(e){return!t._isStarting&&m.a.isFlag(e,ke.load)}(Fu.adStore.status)){e.next=4;break}return ul.debug("replay(); can not begin."),e.abrupt("return");case 4:return e.prev=4,ul.debug("replay(); begin."),this._isStarting=!0,e.next=9,Fu.adStore.setLastEvent({name:Ae.willAdReplay});case 9:return e.next=11,Fu.adStore.addState(ke.start|ke.play);case 11:return e.next=13,Fu.adStore.setLastEvent({name:Ae.didAdReplay});case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(4),ul.error("replay(); failed."),cl(e.t0),e.abrupt("return");case 20:return e.prev=20,ul.debug("replay(); end."),this._isStarting=!1,e.finish(20);case 24:case"end":return e.stop()}},e,this,[[4,15,20,24]])})),function(){return E.apply(this,arguments)})},{key:"close",value:(S=il(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stop();case 2:return e.prev=2,ul.debug("close(); begin."),e.next=6,Fu.adStore.setLastEvent({name:Ae.willAdClose});case 6:return e.next=8,Promise.all(Fu.adContainerStore.adContainers.map(function(){var e=il(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.view.disappear();case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 8:return e.next=10,Fu.adStore.setLastEvent({name:Ae.didAdClose});case 10:e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(2),ul.error("close(); failed."),cl(e.t0),e.abrupt("return");case 17:return e.prev=17,ul.debug("close(); end."),e.finish(17);case 20:this.unload();case 21:case"end":return e.stop()}},e,this,[[2,12,17,20]])})),function(){return S.apply(this,arguments)})},{key:"enterFullscreen",value:(k=il(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!0===Fu.adStore.isFullscreened)return ul.debug("enterFullscreen(); can not begin. isFullscreened = true"),e.abrupt("return");e.next=3;break;case 3:return this._mutedOnInline=null===(t=Fu.adStore)||void 0===t?void 0:t.isMuted,this.unmute(),e.prev=5,ul.debug("enterFullscreen(); begin."),e.next=9,Fu.adStore.setLastEvent({name:Ae.willAdEnterFullscreen});case 9:return e.next=11,Fu.adStore.setIsFullscreened(!0);case 11:return e.next=13,Fu.adStore.setLastEvent({name:Ae.didAdEnterFullscreen});case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(5),ul.error("enterFullscreen(); failed."),cl(e.t0),e.abrupt("return");case 20:return e.prev=20,ul.debug("enterFullscreen(); end."),e.finish(20);case 23:case"end":return e.stop()}},e,this,[[5,15,20,23]])})),function(){return k.apply(this,arguments)})},{key:"exitFullscreen",value:(A=il(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1===Fu.adStore.isFullscreened)return ul.debug("exitFullscreen(); can not begin. isFullscreened = false"),e.abrupt("return");e.next=3;break;case 3:if(e.prev=3,this._mutedOnInline)return e.next=7,this.mute();e.next=9;break;case 7:e.next=11;break;case 9:return e.next=11,this.unmute();case 11:return ul.debug("exifFullscreen() begin."),e.next=14,Fu.adStore.setIsFullscreened(!1);case 14:return e.next=16,Fu.adStore.setLastEvent({name:Ae.didAdExitFullscreen});case 16:e.next=23;break;case 18:return e.prev=18,e.t0=e.catch(3),ul.error("exitFullscreen(); failed."),cl(e.t0),e.abrupt("return");case 23:return e.prev=23,ul.debug("exifFullscreen(); end."),e.finish(23);case 26:Fu.adStore.isEnded&&this.stop();case 27:case"end":return e.stop()}},e,this,[[3,18,23,26]])})),function(){return A.apply(this,arguments)})},{key:"mute",value:(w=il(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!0===Fu.adStore.isMuted)return ul.debug("mute(); can not begin. isMuted = true"),e.abrupt("return");e.next=3;break;case 3:return e.prev=3,ul.debug("mute(); begin."),e.next=7,Fu.adStore.setLastEvent({name:Ae.willAdMute});case 7:return e.next=9,Fu.adStore.setIsMuted(!0);case 9:return e.next=11,Fu.adStore.setLastEvent({name:Ae.didAdMute});case 11:e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(3),ul.error("mute(); failed."),cl(e.t0),e.abrupt("return");case 18:return e.prev=18,ul.debug("mute(); end."),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[3,13,18,21]])})),function(){return w.apply(this,arguments)})},{key:"unmute",value:(b=il(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1===Fu.adStore.isMuted)return ul.debug("unmute(); can not begin. isMuted = false."),e.abrupt("return");e.next=3;break;case 3:return e.prev=3,ul.debug("unmute(); begin."),e.next=7,Fu.adStore.setLastEvent({name:Ae.willAdUnmute});case 7:return e.next=9,Fu.adStore.setIsMuted(!1);case 9:return e.next=11,Fu.adStore.setLastEvent({name:Ae.didAdUnmute});case 11:e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(3),ul.error("unmute(); failed."),cl(e.t0),e.abrupt("return");case 18:return e.prev=18,ul.debug("unmute(); end."),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[3,13,18,21]])})),function(){return b.apply(this,arguments)})},{key:"volumeChange",value:(g=il(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Fu.adStore.volume===t)return ul.debug("volumeChange(volume: ".concat(t,"); can not begin. it is already the same volume.")),e.abrupt("return");e.next=3;break;case 3:return e.prev=3,ul.debug("volumeChange(); begin."),n={volume:t},e.next=8,Fu.adStore.setLastEvent({name:Ae.willAdVolumeChange,detail:n});case 8:return e.next=10,Fu.adStore.setVolume(t);case 10:return e.next=12,Fu.adStore.setLastEvent({name:Ae.didAdVolumeChange,detail:n});case 12:e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(3),ul.error("volumeChange(); failed."),cl(e.t0),e.abrupt("return");case 19:return e.prev=19,ul.debug("volumeChange(); end."),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[3,14,19,22]])})),function(e){return g.apply(this,arguments)})},{key:"videoClick",value:(y=il(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Fu.adStore.isFullscreened)return ul.debug("videoClick() can not begin. ad is fullscreened."),e.abrupt("return");e.next=3;break;case 3:return this.pause(ye.visible),e.prev=4,n=m.a.exist(t,Fu.getConfig().videoClicksThrough),r={url:n},ul.debug("videoClick(url: ".concat(t,"); begin.")),e.next=10,Fu.adStore.setLastEvent({name:Ae.willAdClick,detail:r});case 10:return ll(n),e.next=13,Fu.adStore.setLastEvent({name:Ae.didAdClick,detail:r});case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(4),ul.error("videoClick(); failed."),cl(e.t0),e.abrupt("return");case 20:return e.prev=20,ul.debug("videoClick(); end."),e.finish(20);case 23:case"end":return e.stop()}},e,this,[[4,15,20,23]])})),function(e){return y.apply(this,arguments)})},{key:"optout",value:(v=il(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.pause(ye.visible),e.prev=1,n=m.a.exist(t,"//feedback.impact-ad.jp/optout"),r={url:n},ul.debug("optout(url: ".concat(n,"); begin.")),e.next=7,Fu.adStore.setLastEvent({name:Ae.willAdOptout,detail:r});case 7:return ll(n),e.next=10,Fu.adStore.setLastEvent({name:Ae.didAdOptout,detail:r});case 10:e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(1),ul.error("optout(); failed."),cl(e.t0),e.abrupt("return");case 17:return e.prev=17,ul.debug("optout(); end."),e.finish(17);case 20:case"end":return e.stop()}},e,this,[[1,12,17,20]])})),function(e){return v.apply(this,arguments)})},{key:"impression",value:(h=il(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.impression=function(){},e.prev=1,ul.debug("impression(); begin."),e.next=5,Fu.adStore.setLastEvent({name:Ae.willAdImpression});case 5:return e.next=7,Fu.adStore.setLastEvent({name:Ae.didAdImpression});case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(1),ul.error("impression(); failed."),e.abrupt("return");case 13:return e.prev=13,ul.debug("impression(); end."),e.finish(13);case 16:case"end":return e.stop()}},e,this,[[1,9,13,16]])})),function(){return h.apply(this,arguments)})},{key:"viewable",value:(p=il(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.viewable=function(){},e.prev=1,ul.debug("viewable(); begin."),e.next=5,Fu.adStore.setLastEvent({name:Ae.willAdViewable});case 5:return e.next=7,Fu.adStore.setLastEvent({name:Ae.didAdViewable});case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(1),ul.error("viewable(); failed."),e.abrupt("return");case 13:return e.prev=13,ul.debug("viewable(); end."),e.finish(13);case 16:case"end":return e.stop()}},e,this,[[1,9,13,16]])})),function(){return p.apply(this,arguments)})},{key:"videoProgress",value:(f=il(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t<n&&this.videoEndedChange(!1),r={time:t,duration:n},e.next=5,Fu.adStore.setLastEvent({name:Ae.didVideoProgress,detail:r});case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(0),ul.error("videoProgress(); failed."),cl(e.t0),e.abrupt("return");case 12:Fu.getConfig().impressionOffset<=t&&this.impression(),Fu.option.viewableOffset<=t&&this.viewable();case 14:case"end":return e.stop()}},e,this,[[0,7]])})),function(e,t){return f.apply(this,arguments)})},{key:"videoStart",value:(d=il(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.videoEndedChange(!1),ul.debug("videoStart(); begin. time: ".concat(t,", duration: ").concat(n,".")),r={time:t,duration:n},e.next=6,Fu.adStore.setLastEvent({name:Ae.didVideoStart,detail:r});case 6:e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(0),ul.error("videoStart(); failed."),cl(e.t0),e.abrupt("return");case 13:return e.prev=13,ul.debug("videoStart(); end."),e.finish(13);case 16:case"end":return e.stop()}},e,this,[[0,8,13,16]])})),function(e,t){return d.apply(this,arguments)})},{key:"videoFirstQuartile",value:(c=il(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ul.debug("videoFirstQuartile(); begin. time: ".concat(t,", duration: ").concat(n,".")),r={time:t,duration:n},e.next=5,Fu.adStore.setLastEvent({name:Ae.didVideoFirstQuartile,detail:r});case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(0),ul.error("videoFirstQuartile(); failed."),cl(e.t0),e.abrupt("return");case 12:return e.prev=12,ul.debug("videoFirstQuartile(); end."),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,7,12,15]])})),function(e,t){return c.apply(this,arguments)})},{key:"videoMidpoint",value:(l=il(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ul.debug("videoMidpoint(); begin. time: ".concat(t,", duration: ").concat(n,".")),r={time:t,duration:n},e.next=5,Fu.adStore.setLastEvent({name:Ae.didVideoMidpoint,detail:r});case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(0),ul.error("videoMidpoint(); failed."),cl(e.t0),e.abrupt("return");case 12:return e.prev=12,ul.debug("videoMidpoint(); end."),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,7,12,15]])})),function(e,t){return l.apply(this,arguments)})},{key:"videoThirdQuartile",value:(s=il(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ul.debug("videoThirdQuartile(); begin. time: ".concat(t,", duration: ").concat(n,".")),r={time:t,duration:n},e.next=5,Fu.adStore.setLastEvent({name:Ae.didVideoThirdQuartile,detail:r});case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(0),ul.error("videoThirdQuartile(); failed."),cl(e.t0),e.abrupt("return");case 12:return e.prev=12,ul.debug("videoThirdQuartile(); end."),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,7,12,15]])})),function(e,t){return s.apply(this,arguments)})},{key:"videoComplete",value:(u=il(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ul.debug("videoComplete(); begin. time: ".concat(t,", duration: ").concat(n,".")),r={time:t,duration:n},e.next=5,Fu.adStore.setLastEvent({name:Ae.didVideoComplete,detail:r});case 5:e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(0),ul.error("videoComplete(); failed."),cl(e.t0),e.abrupt("return");case 12:return e.prev=12,ul.debug("videoComplete(); end."),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,7,12,15]])})),function(e,t){return u.apply(this,arguments)})},{key:"videoEndedChange",value:(o=il(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((n=Boolean(t))===Fu.adStore.isEnded)return e.abrupt("return");e.next=3;break;case 3:return e.prev=3,ul.debug("videoEndedChange(); begin. value: ".concat(t,".")),Fu.adStore.setIsEnded(n),e.next=8,Fu.adStore.setLastEvent({name:Ae.didVideoEndedChange,detail:{isEnded:n}});case 8:e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(3),ul.error("videoEndedChange(); failed."),cl(e.t0),e.abrupt("return");case 15:return e.prev=15,ul.debug("videoEndedChange(); end."),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[3,10,15,18]])})),function(e){return o.apply(this,arguments)})},{key:"updateLayout",value:(i=il(regeneratorRuntime.mark(function e(){var t,n,r,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(0<i.length&&void 0!==i[0])||i[0],n=m.a.viewportWidth,r=Fu.adContainerStore.currentWidth,!t){e.next=6;break}if(r===n)return e.abrupt("return");e.next=6;break;case 6:return e.prev=6,ul.debug("updateLayout(); begin. currentWidth: ".concat(r)),e.next=10,Fu.adStore.setLastEvent({name:Ae.willAdUpdateLayout});case 10:return Fu.adContainerStore.setCurrentWidth(n),e.next=13,Fu.adStore.setLastEvent({name:Ae.didAdUpdateLayout});case 13:e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(6),ul.error("updateLayout(); failed."),cl(e.t0),e.abrupt("return");case 20:return e.prev=20,ul.debug("updateLayout(); end."),e.finish(20);case 23:case"end":return e.stop()}},e,null,[[6,15,20,23]])})),function(){return i.apply(this,arguments)})},{key:"raiseError",value:(r=il(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:cl({errorCode:t,message:n});case 1:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)})}])&&ol(t.prototype,n),e}();function fl(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function pl(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){fl(o,r,i,a,u,"next",e)}function u(e){fl(o,r,i,a,u,"throw",e)}a(void 0)})}}function hl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var vl=new p("AdContainerAction");function yl(e,t){return function(){return pl(regeneratorRuntime.mark(function e(t,n){var r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.id,e.next=4,null===(r=(i=n.view).unload)||void 0===r?void 0:r.call(i);case 4:Fu.adContainerStore.remove(o),Fu.configStore.remove(o);case 6:case"end":return e.stop()}},e)})).apply(this,arguments)}.apply(this,arguments)}function ml(e,t){Fu.configStore.filterAdActions(e,t).forEach(function(e){var t,n;if(m.a.isFinite(e.times)){if(e.times<1)return;e.times-=1}var r=e.target,i=e.action;null===(t=(n=Kl.adContainerAction)[i])||void 0===t||t.call(n,r)})}function gl(){return function(){return pl(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Fu.adContainerStore.hasReminder)return Kl.adAction.stop(),t=Fu.adContainerStore.primaryAdContainer.id,e.next=6,Kl.adContainerAction.disappear(t);e.next=9;break;case 6:return e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(0),vl.error("_showReminderIfPossible(); failed."),e.t0;case 16:case"end":return e.stop()}},e,null,[[0,12]])})).apply(this,arguments)}.apply(this,arguments)}var bl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,i,o,a,u,s,l;return t=e,(n=[{key:"clear",value:function(){}},{key:"inview",value:(l=pl(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:ml(t,"didInview");case 1:case"end":return e.stop()}},e)})),function(e){return l.apply(this,arguments)})},{key:"outview",value:(s=pl(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:ml(t,"didOutview");case 1:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})},{key:"appear",value:(u=pl(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Fu.adContainerStore.getAdContainer(t)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,n.view.appear();case 5:if(!e.sent){e.next=7;break}ml(t,"didAppear");case 7:case"end":return e.stop()}},e)})),function(e){return u.apply(this,arguments)})},{key:"disappear",value:(a=pl(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Fu.adContainerStore.getAdContainer(t)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,n.view.disappear();case 5:if(!e.sent){e.next=7;break}ml(t,"didDisappear");case 7:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)})},{key:"present",value:(o=pl(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(vl.debug("present(): begin."),n=Fu.adContainerStore,r=n.getAdContainer(t),n.currentAdContainer,r){e.next=7;break}return vl.debug("present() failed. not adContainer;"),e.abrupt("return");case 7:n.presentedAdContainerStack.includes(r)||n.presentedAdContainerStack.push(r),this.appear(t);case 9:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"dismiss",value:(i=pl(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Fu.adContainerStore,r=n.getAdContainer(t)){e.next=5;break}return vl.debug("dismiss() failed. not adContainer;"),e.abrupt("return");case 5:n.presentedAdContainerStack=n.presentedAdContainerStack.filter(function(e){return e!==r}),n.currentAdContainer,this.disappear(t);case 8:case"end":return e.stop()}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"close",value:(r=pl(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Fu.adContainerStore,r=n.getAdContainer(t),m.a.isEmpty(r)||r===n.primaryAdContainer)return e.next=5,gl();e.next=13;break;case 5:if(e.sent)return e.abrupt("return");e.next=9;break;case 9:return e.next=11,Kl.adAction.close();case 11:e.next=14;break;case 13:r&&yl(this,r);case 14:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)})}])&&hl(t.prototype,n),e}();function wl(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function Al(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){wl(o,r,i,a,u,"next",e)}function u(e){wl(o,r,i,a,u,"throw",e)}a(void 0)})}}function kl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var El=function(){var e=function(){return!1};return void 0!==document.hidden?e=function(){return document.hidden}:void 0!==document.webkitHidden?e=function(){return document.webkitHidden}:void 0!==document.msHidden&&(e=function(){return document.msHidden}),e}();function Cl(e,t){var n=e;t?Vl(n):xl(n)}function xl(e){var t=e;t._inviewCheckTimer&&(window.clearTimeout(t._inviewCheckTimer),t._inviewCheckTimer=void 0)}function Vl(e){var t=e;t._inviewCheckTimer||(t._inviewCheckTimer=window.setTimeout(function(){!function(e){(function(){return Al(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Ol(n=t))return e.next=5,n._action();e.next=7;break;case 5:e.next=7;break;case 7:n._inviewCheckTimer&&(n._inviewCheckTimer=void 0,Vl(n));case 8:case"end":return e.stop()}},e)})).apply(this,arguments)}).apply(this,arguments)}(t)},100))}function Ol(e){return!Fu.adContainerStore.playerView.isFullscreen}function _l(e){return function(){return Al(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,Fu.getConfig().isForceStartEnabled)return n._action=Al(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bl(n));case 1:case"end":return e.stop()}},e)})),e.next=5,Kl.userAction.start();e.next=10;break;case 5:return r=Fu.primaryAdContainer.id,e.next=8,Kl.adContainerAction.inview(r);case 8:e.next=15;break;case 10:if(Rl(n))return n._action=Al(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bl(n));case 1:case"end":return e.stop()}},e)})),e.next=15,Kl.userAction.start();e.next=15;break;case 15:case"end":return e.stop()}},e)})).apply(this,arguments)}.apply(this,arguments)}function Bl(e){return function(){return Al(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rl(n=t),(i=Fu.primaryConfig).isInviewCheckEnabled){e.next=6;break}return xl(n),e.abrupt("return");case 6:if(!r){e.next=18;break}if(!i.isForcePlayOnInView){e.next=13;break}if(Fu.adStore.isPaused)return e.next=11,Kl.userAction.play(ye.pausing);e.next=11;break;case 11:e.next=16;break;case 13:if(Fu.adStore.isPausedReason(ye.outview))return e.next=16,Kl.userAction.play(ye.outview);e.next=16;break;case 16:e.next=29;break;case 18:if(i.isSkipDidOutview&&i.endcardCompanion)return e.next=21,Kl.adAction.stop();e.next=23;break;case 21:e.next=29;break;case 23:if(Fu.adStore.isPausedReason(ye.outview)){e.next=29;break}if(!Fu.adContainerStore.hasSubAdContainer){e.next=27;break}e.next=29;break;case 27:return e.next=29,Kl.userAction.pause(ye.outview);case 29:case"end":return e.stop()}},e)})).apply(this,arguments)}.apply(this,arguments)}function Rl(e){if(El())return!1;var t=Fu.adContainerStore.primaryAdContainer;return t&&t.view.updateInviewStatus()||!1}var Pl=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Sl(this,"_adStoreChangedFunc",void 0),Sl(this,"_inviewCheckTimer",void 0),Sl(this,"_action",void 0),this._action=Al(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_l(t));case 1:case"end":return e.stop()}},e)})),this._adStoreChangedFunc=zt.changed.bind(void 0,this),Fu.adStore.addObsever(this._adStoreChangedFunc)}var t,n;return t=e,(n=[{key:"clear",value:function(){xl(this),Fu.adStore.removeObsever(this._adStoreChangedFunc),this._adStoreChangedFunc=void 0,this._action=void 0}},{key:"enable",value:function(){Fu.adStore.isStopped||Cl(this,!0)}},{key:"disable",value:function(){Cl(this,!1)}},{key:"didAdLoad",value:function(){Cl(this,!0)}},{key:"willAdUnload",value:function(){this.clear()}},{key:"didAdReplay",value:function(){Cl(this,!0)}},{key:"didAdStart",value:function(){Cl(this,!0)}},{key:"didAdStop",value:function(){Cl(this,!1)}},{key:"didVideoEndedChange",value:function(e){Cl(this,!(null==e?void 0:e.isEnded))}},{key:"isEnabled",get:function(){return Boolean(this._inviewCheckTimer)}}])&&kl(t.prototype,n),e}();function Il(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function Fl(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){Il(o,r,i,a,u,"next",e)}function u(e){Il(o,r,i,a,u,"throw",e)}a(void 0)})}}function Tl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var jl=new p("UserAction"),Ul=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,i,o,a,u,s,l,c,d,f,p,h,v,y;return t=e,(n=[{key:"deinit",value:function(){}},{key:"start",value:(y=Fl(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={pausedReason:ye.userInteraction},n={name:Ae.didUserPlay,detail:t},e.next=4,Fu.adStore.setLastEvent(n);case 4:return e.next=6,Kl.adAction.start();case 6:case"end":return e.stop()}},e)})),function(){return y.apply(this,arguments)})},{key:"play",value:(v=Fl(regeneratorRuntime.mark(function e(){var t,n,r,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<i.length&&void 0!==i[0]?i[0]:ye.userInteraction,n={pausedReason:t},r={name:Ae.didUserPlay,detail:n},e.next=5,Fu.adStore.setLastEvent(r);case 5:return e.next=7,Kl.adAction.play(t);case 7:case"end":return e.stop()}},e)})),function(){return v.apply(this,arguments)})},{key:"pause",value:(h=Fl(regeneratorRuntime.mark(function e(){var t,n,r,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<i.length&&void 0!==i[0]?i[0]:ye.userInteraction,n={pausedReason:t},r={name:Ae.didUserPause,detail:n},e.next=5,Fu.adStore.setLastEvent(r);case 5:return e.next=7,Kl.adAction.pause(t);case 7:case"end":return e.stop()}},e)})),function(){return h.apply(this,arguments)})},{key:"replay",value:(p=Fl(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:Ae.didUserReplay},e.next=3,Fu.adStore.setLastEvent(t);case 3:return e.next=5,Kl.adAction.replay();case 5:case"end":return e.stop()}},e)})),function(){return p.apply(this,arguments)})},{key:"close",value:(f=Fl(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={adContainerId:t},r={name:Ae.didUserClose,detail:n},e.next=4,Fu.adStore.setLastEvent(r);case 4:return e.next=6,Kl.adContainerAction.close(t);case 6:case"end":return e.stop()}},e)})),function(e){return f.apply(this,arguments)})},{key:"enterFullscreen",value:(d=Fl(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:Ae.didUserEnterFullscreen},e.next=3,Fu.adStore.setLastEvent(t);case 3:return e.next=5,Kl.adAction.enterFullscreen();case 5:case"end":return e.stop()}},e)})),function(){return d.apply(this,arguments)})},{key:"mute",value:(c=Fl(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:Ae.didUserMute},e.next=3,Fu.adStore.setLastEvent(t);case 3:return e.next=5,Kl.adAction.mute();case 5:case"end":return e.stop()}},e)})),function(){return c.apply(this,arguments)})},{key:"unmute",value:(l=Fl(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={name:Ae.didUserUnmute},e.next=3,Fu.adStore.setLastEvent(t);case 3:return e.next=5,Kl.adAction.unmute();case 5:case"end":return e.stop()}},e)})),function(){return l.apply(this,arguments)})},{key:"volumeChange",value:(s=Fl(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1===m.a.isFinite(t))return e.abrupt("return");e.next=2;break;case 2:return n={volume:t},r={name:Ae.didUserVolumeChange,detail:n},e.next=6,Fu.adStore.setLastEvent(r);case 6:return e.next=8,Kl.adAction.volumeChange(t);case 8:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})},{key:"videoClick",value:(u=Fl(regeneratorRuntime.mark(function e(t){var n,r,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(1<i.length&&void 0!==i[1])||i[1],r={url:t,playerHandles:n},jl.debug("videoClick(url: ".concat(t,", playerHandles: ").concat(n,");")),e.next=5,Fu.adStore.setLastEvent({name:Ae.didUserVideoClick,detail:r});case 5:if(n)return e.next=8,Kl.adAction.videoClick(t);e.next=8;break;case 8:case"end":return e.stop()}},e)})),function(e){return u.apply(this,arguments)})},{key:"optout",value:(a=Fl(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return jl.debug("optout(url: ".concat(t,");")),n={url:t},r={name:Ae.didUserOptout,detail:n},e.next=5,Fu.adStore.setLastEvent(r);case 5:return e.next=7,Kl.adAction.optout(t);case 7:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)})},{key:"acceptInvitation",value:(o=Fl(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return jl.debug("acceptInvitation();"),t={},n={name:Ae.didUserAcceptInvitation,detail:t},e.next=5,Fu.adStore.setLastEvent(n);case 5:case"end":return e.stop()}},e)})),function(){return o.apply(this,arguments)})},{key:"collapse",value:(i=Fl(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return jl.debug("collapse();"),t={},n={name:Ae.didUserCollapse,detail:t},e.next=5,Fu.adStore.setLastEvent(n);case 5:case"end":return e.stop()}},e)})),function(){return i.apply(this,arguments)})},{key:"expand",value:(r=Fl(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return jl.debug("expand();"),t={},n={name:Ae.didUserExpand,detail:t},e.next=5,Fu.adStore.setLastEvent(n);case 5:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)})}])&&Tl(t.prototype,n),e}();function zl(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function Ll(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){zl(o,r,i,a,u,"next",e)}function u(e){zl(o,r,i,a,u,"throw",e)}a(void 0)})}}function Dl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ml=new p("VastAction");function Nl(){return function(){return Ll(regeneratorRuntime.mark(function e(){var t,n,r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Fu.option,n=null==t?void 0:t.urls,r=null==t?void 0:t.multiVastTimeout,e.prev=3,Ml.debug("_requestVast(); begin. url = ${urls}, timeout = ${timeout}."),(i=new nl(n,r)).loadVasts(),e.next=9,i.next();case 9:o=e.sent,i.clear(),Fu.adStore.setVast(o),e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(3),Ml.error("_requestVast(); failed."),e.t0;case 18:return e.prev=18,Ml.debug("_requestVast(); end."),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[3,14,18,21]])})).apply(this,arguments)}.apply(this,arguments)}var Wl=function(){function e(){var t,n;!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),n=void 0,(t="_adStoreChangedFunc")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}var t,n,r;return t=e,(n=[{key:"init",value:function(){return this._adStoreChangedFunc=zt.changed.bind(null,this),Fu.adStore.addObsever(this._adStoreChangedFunc),this}},{key:"deinit",value:function(){Fu.adStore.removeObsever(this._adStoreChangedFunc),this._adStoreChangedFunc=null}},{key:"willVastRequest",value:(r=Ll(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nl();case 2:case"end":return e.stop()}},e)})),function(){return r.apply(this,arguments)})}])&&Dl(t.prototype,n),e}();function Hl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ql(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ql=new p("Action"),Yl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"init",value:function(){try{var e=Pe.mediaType,t=Pe.browserType,n=Pe.browserVersion,r=Pe.osType,i=Pe.osVersion;ql.debug("init();\n        mediaType = ".concat(e,",\n        browserType = ").concat(t,", browserVersion = ").concat(n,",\n        osType = ").concat(r,", osVersion = ").concat(i,".")),this._adAction=new dl,this._adContainerAction=new bl,this._inviewCheckAction=new Pl,this._userAction=new Ul,this._vastAction=(new Wl).init()}catch(e){ql.error("init(); failed. error = ".concat(e.message,"."))}return this}},{key:"deinit",value:function(){try{var e,t,n,r,i;null===(e=this._adAction)||void 0===e||e.deinit(),null===(t=this._adContainerAction)||void 0===t||t.clear(),null===(n=this._inviewCheckAction)||void 0===n||n.clear(),null===(r=this._userAction)||void 0===r||r.deinit(),null===(i=this._vastAction)||void 0===i||i.deinit()}catch(e){ql.error("deinit(); failed. error = ".concat(e.message,"."))}}},{key:"adAction",get:function(){return this._adAction}},{key:"adContainerAction",get:function(){return this._adContainerAction}},{key:"inviewCheckAction",get:function(){return this._inviewCheckAction}},{key:"userAction",get:function(){return this._userAction}},{key:"vastAction",get:function(){return this._vastAction}}],null&&Hl(t.prototype,null),n&&Hl(t,n),e}();Ql(Yl,"_adAction",null),Ql(Yl,"_adContainerAction",null),Ql(Yl,"_inviewCheckAction",null),Ql(Yl,"_userAction",null),Ql(Yl,"_vastAction",null);var Kl=Yl;function Gl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}m.a.namespace();var Zl=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"clear",value:function(){}},{key:"loadAd",value:function(){Kl.adAction.load()}},{key:"startAd",value:function(){Kl.adAction.start()}},{key:"finishAd",value:function(){Kl.adAction.unload()}},{key:"resumeAd",value:function(){Kl.adAction.play()}},{key:"pauseAd",value:function(){Kl.adAction.pause()}},{key:"replayAd",value:function(){Kl.adAction.replay()}},{key:"muteAd",value:function(){Kl.adAction.mute()}},{key:"unmuteAd",value:function(){Kl.adAction.unmute()}},{key:"resizeAd",value:function(e,t){}},{key:"adUserInteraction",value:function(e){var t=Array.prototype.slice.call(arguments,1);switch(e){case u.IvtAdUIType.click:Kl.userAction.videoClick();break;case u.IvtAdUIType.mute:Kl.userAction.mute();break;case u.IvtAdUIType.unmute:Kl.userAction.unmute();break;case u.IvtAdUIType.volumeChange:var n=t[0];Kl.userAction.volumeChange(n);break;case u.IvtAdUIType.pause:var r=t[0];Kl.userAction.pause(r);break;case u.IvtAdUIType.resume:var i=t[0];Kl.userAction.play(i);break;case u.IvtAdUIType.rewind:Kl.userAction.replay();break;case u.IvtAdUIType.fullscreen:Kl.userAction.enterFullscreen();break;case u.IvtAdUIType.close:Kl.userAction.close();break;case u.IvtAdUIType.optout:Kl.userAction.optout();break;case u.IvtAdUIType.acceptInvitation:Kl.userAction.acceptInvitation()}}},{key:"adPlayer",get:function(){return Fu.videoElement}},{key:"adPlayerSlot",get:function(){var e,t;return null===(e=Fu.primaryAdContainer)||void 0===e?void 0:null===(t=e.adView)||void 0===t?void 0:t.playerSlot}},{key:"adPlayerState",get:function(){var e;return(null===(e=Fu.videoView)||void 0===e?void 0:e.isFullscreen)?u.IvtAdPlayerState.fullscreen:u.IvtAdPlayerState.normal}},{key:"adProgress",get:function(){var e;return null===(e=Fu.videoView)||void 0===e?void 0:e.progress}},{key:"adDuration",get:function(){var e;return null===(e=Fu.videoView)||void 0===e?void 0:e.duration}},{key:"adVolume",get:function(){var e;return null===(e=Fu.videoView)||void 0===e?void 0:e.volume},set:function(e){var t,n;null===(t=Fu.videoView)||void 0===t||null===(n=t.setVolume)||void 0===n||n.call(t,e)}},{key:"adMuted",get:function(){var e;return null===(e=Fu.videoView)||void 0===e?void 0:e.isMuted}},{key:"isAdFullscreen",get:function(){var e;return null===(e=Fu.videoView)||void 0===e?void 0:e.isFullscreen}},{key:"isAdVpaid",get:function(){var e;return null===(e=Fu.primaryConfig)||void 0===e?void 0:e.isVpaid}},{key:"isAdPlaying",get:function(){var e;return m.a.toBool(null===(e=Fu.adStore)||void 0===e?void 0:e.isPlayed)}},{key:"isAdPaused",get:function(){var e;return m.a.toBool(null===(e=Fu.adStore)||void 0===e?void 0:e.isPaused)}},{key:"isAdStopped",get:function(){var e;return m.a.toBool(null===(e=Fu.adStore)||void 0===e?void 0:e.isStopped)}},{key:"vastCurrentMediaFile",get:function(){var e,t;return null===(e=Fu.adStore)||void 0===e?void 0:null===(t=e.vast)||void 0===t?void 0:t.media}},{key:"vastMediaFiles",get:function(){var e,t;return null===(e=Fu.adStore)||void 0===e?void 0:null===(t=e.vast)||void 0===t?void 0:t.mediaFilesObject}},{key:"vastVideoClickThrough",get:function(){var e,t,n;return null===(e=Fu.adStore)||void 0===e?void 0:null===(t=e.vast)||void 0===t?void 0:null===(n=t.tracks)||void 0===n?void 0:n.videoClicksThrough}},{key:"vastCompanionAds",get:function(){var e,t;return null===(e=Fu.adStore)||void 0===e?void 0:null===(t=e.vast)||void 0===t?void 0:t.companionAdsObject}}])&&Gl(t.prototype,n),e}();function Xl(e){return(Xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $l(e,t,n){return($l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ec(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ec(e){return(ec=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nc(e,t,n){return t&&tc(e.prototype,t),n&&tc(e,n),e}function rc(e,t){return(rc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ic=m.a.namespace(),oc=u.IvtAdEvent,ac=u.IvtAdUIType,uc=function(e){function t(){var e,n,r,i,o;return function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this,e=!(n=ec(t).call(this))||"object"!==Xl(n)&&"function"!=typeof n?Jl(this):n,o=void 0,(i="_adStoreChangedFunc")in(r=Jl(e))?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o,e._adStoreChangedFunc=zt.changed.bind(null,Jl(e)),Fu.adStore.addObsever(e._adStoreChangedFunc),ic(Jl(e)).controller=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rc(e,t)}(t,o.IvtEventTarget),nc(t,[{key:"controller",get:function(){return ic(this).controller}}]),nc(t,[{key:"clear",value:function(){var e=ic(this);e.controller=null,delete e.controller,e.adStoreChangedFunc=null,delete e.adStoreChangedFunc,$l(ec(t.prototype),"clear",this).call(this)}},{key:"setup",value:function(e){if(!e.controller)throw new Error("setup failed: Not declared controller.");return ic(this).controller=e.controller,this}},{key:"notifyEventCallback",value:function(e,t){var n;null===(n=this.controller)||void 0===n||n.notifyEventCallback(e,t)}},{key:"dispatchVastEvent",value:function(e){var t;null===(t=Fu.adStore.vast)||void 0===t||t.dispatchVastEvent(e)}},{key:"dispatchVastProgress",value:function(e,t){var n;null===(n=Fu.adStore.vast)||void 0===n||n.onTimeupdate(e,t)}},{key:"dispatchVastError",value:function(e){var t;null===(t=Fu.adStore.vast)||void 0===t||t.dispatchVastError(e)}},{key:"didVastRequest",value:function(){this.log.debug("didVastRequest()."),this.notifyEventCallback(oc.didVastRequest)}},{key:"didAdCreate",value:function(){this.log.debug("didAdCreate().")}},{key:"didAdLoad",value:function(){this.log.debug("didAdLoad()."),this.dispatchVastEvent("creativeView"),this.notifyEventCallback(oc.didAdLoad)}},{key:"didAdStart",value:function(){this.log.debug("didAdStart()."),this.notifyEventCallback(oc.didAdStart)}},{key:"didAdStop",value:function(){this.log.debug("didAdStop()."),this.notifyEventCallback(oc.didAdStop)}},{key:"didAdPlay",value:function(){this.log.debug("didAdPlay()."),this.notifyEventCallback(oc.didAdPlay)}},{key:"didAdPause",value:function(){this.log.debug("didAdPause()."),this.notifyEventCallback(oc.didAdPause)}},{key:"didAdUnload",value:function(){this.log.debug("didAdUnload()."),this.notifyEventCallback(oc.didAdUnload),this.controller.finishAd()}},{key:"didAdClose",value:function(){this.log.debug("didAdClose()."),this.notifyEventCallback(oc.didAdClose)}},{key:"didAdImpression",value:function(){this.log.debug("didAdImpression()."),this.dispatchVastEvent("impressions"),this.notifyEventCallback(oc.didAdImpression)}},{key:"didAdViewable",value:function(e){this.log.debug("didAdViewable()."),this.notifyEventCallback(oc.didAdViewable)}},{key:"didClick",value:function(){this.log.debug("didClick()."),this.notifyEventCallback(oc.didAdClick)}},{key:"didAdOptout",value:function(){this.log.debug("didAdOptout()."),this.notifyEventCallback(oc.didAdOptout)}},{key:"didSizeChange",value:function(){this.log.debug("didSizeChange()."),this.notifyEventCallback(oc.didAdSizeChange)}},{key:"didAdEnterFullscreen",value:function(){this.log.debug("didAdEnterFullscreen()."),this.notifyEventCallback(oc.didAdEnterFullscreen)}},{key:"didAdExitFullscreen",value:function(){this.log.debug("didAdExitFullscreen(); Store.adStore.isEnded: ".concat(Fu.adStore.isEnded,";")),this.dispatchVastEvent("exitFullscreen"),this.notifyEventCallback(oc.didAdExitFullscreen)}},{key:"didAdMute",value:function(){this.log.debug("didAdMute()."),this.notifyEventCallback(oc.didAdMute)}},{key:"didAdUnmute",value:function(){this.log.debug("didAdUnmute()."),this.notifyEventCallback(oc.didAdUnmute)}},{key:"didAdVolumeChange",value:function(){this.log.debug("didAdVolumeChange()."),this.notifyEventCallback(oc.didAdVolumeChange)}},{key:"didAdReplay",value:function(){this.log.debug("didAdReplay()."),this.notifyEventCallback(oc.didAdReplay)}},{key:"didVideoProgress",value:function(e){var t=null==e?void 0:e.time,n=null==e?void 0:e.duration;0<=t&&0<n&&(this.dispatchVastProgress(t,n),this.notifyEventCallback(oc.didVideoProgress,{progress:t,duration:n}))}},{key:"didVideoStart",value:function(e){var t=null==e?void 0:e.time,n=null==e?void 0:e.duration;0<=t&&0<n&&(this.log.debug("didVideoStart(time: ".concat(t,", duration: ").concat(n,".")),this.dispatchVastProgress(t,n),this.notifyEventCallback(oc.didVideoStart))}},{key:"didVideoFirstQuartile",value:function(e){var t=null==e?void 0:e.time,n=null==e?void 0:e.duration;0<=t&&0<n&&(this.log.debug("didVideoFirstQuartile(time: ".concat(t,", duration: ").concat(n,".")),this.dispatchVastProgress(t,n),this.notifyEventCallback(oc.didVideoFirstQuartile))}},{key:"didVideoMidpoint",value:function(e){var t=null==e?void 0:e.time,n=null==e?void 0:e.duration;0<=t&&0<n&&(this.log.debug("didVideoMidpoint(time: ".concat(t,", duration: ").concat(n,".")),this.dispatchVastProgress(t,n),this.notifyEventCallback(oc.didVideoMidpoint))}},{key:"didVideoThirdQuartile",value:function(e){var t=null==e?void 0:e.time,n=null==e?void 0:e.duration;0<=t&&0<n&&(this.log.debug("didVideoThirdQuartile(time: ".concat(t,", duration: ").concat(n,".")),this.dispatchVastProgress(t,n),this.notifyEventCallback(oc.didVideoThirdQuartile))}},{key:"didVideoComplete",value:function(e){var t=null==e?void 0:e.time,n=null==e?void 0:e.duration;0<=t&&0<n&&(this.log.debug("didVideoComplete(time: ".concat(t,", duration: ").concat(n,".")),this.dispatchVastProgress(t,n),this.notifyEventCallback(oc.didVideoComplete))}},{key:"didUserVideoClick",value:function(e){var t=null==e?void 0:e.url,n=null==e?void 0:e.id;this.log.debug("didUserVideoClick(id: ".concat(n,", url: ").concat(t,");")),this.dispatchVastEvent("videoClicksTracking"),this.notifyEventCallback(oc.AdUserInteraction,{interactionType:ac.click})}},{key:"didUserMute",value:function(){this.log.debug("didUserMute()."),this.dispatchVastEvent("mute"),this.notifyEventCallback(oc.AdUserInteraction,{interactionType:ac.mute})}},{key:"didUserUnmute",value:function(){this.log.debug("didUserUnMute()."),this.dispatchVastEvent("unmute"),this.notifyEventCallback(oc.AdUserInteraction,{interactionType:ac.unmute})}},{key:"didUserVolumeChange",value:function(e){var t=null==e?void 0:e.volume;this.log.debug("didUserVolumeChange(volume: ".concat(t,").")),this.notifyEventCallback(oc.AdUserInteraction,{interactionType:ac.volumeChange})}},{key:"didUserPause",value:function(e){var t=null==e?void 0:e.pausedReason;this.log.debug("didUserPause(pausedReason: ".concat(t,").")),this.dispatchVastEvent("pause"),this.notifyEventCallback(oc.AdUserInteraction,{interactionType:ac.pause})}},{key:"didUserPlay",value:function(e){var t=null==e?void 0:e.pausedReason;this.log.debug("didUserPlay(pausedReason: ".concat(t,").")),this.dispatchVastEvent("resume"),this.notifyEventCallback(oc.AdUserInteraction,{interactionType:ac.resume})}},{key:"didUserReplay",value:function(e){this.log.debug("didUserReplay();"),this.dispatchVastEvent("rewind"),this.notifyEventCallback(oc.AdUserInteraction,{interactionType:ac.rewind})}},{key:"didUserEnterFullscreen",value:function(){this.log.debug("didUserEnterFullscreen()."),this.dispatchVastEvent("fullscreen"),this.notifyEventCallback(oc.AdUserInteraction,{interactionType:ac.fullscreen})}},{key:"didUserClose",value:function(e){var t=null==e?void 0:e.adContainerId;this.log.debug("didUserClose(adContainerId: ".concat(t,");")),Fu.primaryAdContainer.id===t&&(this.dispatchVastEvent("close"),this.dispatchVastEvent("closeLinear"),this.notifyEventCallback(oc.AdUserInteraction,{interactionType:ac.close}))}},{key:"didUserOptout",value:function(){this.log.debug("didUserOptout()."),this.notifyEventCallback(oc.AdUserInteraction,{interactionType:ac.optout})}},{key:"didUserAcceptInvitation",value:function(){this.log.debug("didUserAcceptInvitation()."),this.dispatchVastEvent("acceptInvitation"),this.notifyEventCallback(oc.AdUserInteraction,{interactionType:ac.acceptInvitation})}},{key:"didUserCollapse",value:function(e){this.log.debug("didUserCollapse()."),this.dispatchVastEvent("collapse"),this.notifyEventCallback(oc.AdUserInteraction,{interactionType:ac.collapse})}},{key:"didUserExpand",value:function(e){this.log.debug("didUserExpand()."),this.dispatchVastEvent("expand"),this.notifyEventCallback(oc.AdUserInteraction,{interactionType:ac.expand})}},{key:"didAdError",value:function(e){var t=null==e?void 0:e.message,n=null==e?void 0:e.errorCode;this.log.debug("didAdError(message: ".concat(t,", errorCode: ").concat(n,");")),this.controller.didAdError(),this.dispatchVastError(n),this.notifyEventCallback(oc.AdError,{message:t})}}]),t}();function sc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cc=m.a.namespace();function dc(e){var t=cc(e),n=t.onVisibilityChange;n&&(window.document.removeEventListener("visibilitychange",n,!1),t.onVisibilityChange=void 0),t.adViewController&&t.adViewController.clear(),t.adViewController=null,t.vastLoader&&t.vastLoader.clear()}var fc=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),lc(this,"vast",null),lc(this,"isAdAutoInit",!0),this.log=new p(this.constructor.name);var n=cc(this);n.targetNode=null,n.eventCallback=null,n.adViewController=null,n.isTransitioning=!1,n.underBlankLine=null,n.vastLoader=null,n.controllerApi=new Zl({controller:this}),n.onResizeFunc=function(e){var n;n=e,t.log.debug("_onResize(event: ".concat(n,");")),Kl.adAction.updateLayout()},n.onVisibilityChange=function(e){!function(e,t){var n=window.document.visibilityState;if(e.log.debug("onVisibilityChange(event: ".concat(t,"); visibilityState: ").concat(n,";")),"visible"===n){var r=u.IvtPlayerPausedReason.visible;Fu.primaryConfig.isForcePlayOnInView&&(r=m.a.addFlag(r,u.IvtPlayerPausedReason.vpaid)),Kl.adAction.play(r),Kl.inviewCheckAction.enable()}else Kl.inviewCheckAction.disable(),Kl.adAction.pause(u.IvtPlayerPausedReason.visible)}(t,e)},n.isResizeAdViewController=!0}var t,n;return t=e,(n=[{key:"setup",value:function(e){var t=Fu.option,n=Fu.option.targetElement;p.isDebug=t.debug;var r,i,o=cc(this);o.targetNode=n,o.adsense=n.querySelector("adsense"),o.passback=n.querySelector("noscript"),o.eventCallback=t.eventCallback,o.underBlankLine=t.underBlankLine?document.createElement("br"):null,r=cc(this),window.addEventListener("resize",r.onResizeFunc,!1),window.addEventListener("orientationchange",r.onResizeFunc,!1),window.document.addEventListener("visibilitychange",r.onVisibilityChange,!1),"mediaSession"in navigator&&(i=this,navigator.mediaSession.setActionHandler("play",function(){i.log.debug("mediaSession.play();"),Kl.userAction.play()}),navigator.mediaSession.setActionHandler("pause",function(){i.log.debug("mediaSession.pause();"),Kl.userAction.pause()}));var a={controller:this};return this.eventManager=(new uc).setup(a),this}},{key:"clear",value:function(){var e,t=this,n=cc(this);dc(this),e=cc(this),window.removeEventListener("resize",e.onResizeFunc,!1),window.removeEventListener("orientationchange",e.onResizeFunc,!1),window.document.removeEventListener("visibilitychange",e.onVisibilityChange,!1),t.vast=null,delete t.vast,t.isAdAutoInit=null,delete t.isAdAutoInit,n.targetNode=null,delete n.targetNode,n.eventCallback=null,delete n.eventCallback,n.adViewController=null,delete n.adViewController,n.passbackViewController=null,delete n.passbackViewController,n.adsense=null,delete n.adsense,n.passback=null,delete n.passback,n.closeButton=null,delete n.closeButton,n.isTransitioning=null,delete n.isTransitioning,n.underBlankLine=null,delete n.underBlankLine,n.vastLoader=null,delete n.vastLoader,n.controllerApi&&n.controllerApi.clear(),n.controllerApi=null,delete n.controllerApi,n.onResizeFunc=null,delete n.onResizeFunc,n.onVisibilityChange=null,delete n.onVisibilityChange,n.isResizeAdViewController=null,delete n.isResizeAdViewController}},{key:"didAdError",value:function(){dc(this)}},{key:"finishAd",value:function(){this.clear()}},{key:"resizeAd",value:function(e,t){cc(this).adViewController.resize(e,t)}},{key:"notifyEventCallback",value:function(e,t){var n=cc(this);if(m.a.isFunction(n.eventCallback)&&(e!==u.IvtAdEvent.AdSizeChange||!n.isTransitioning)){var r=o.createEvent(e,{detail:t});n.eventCallback(n.controllerApi,r)}}}])&&sc(t.prototype,n),e}();function pc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var hc,vc,yc,mc=new p("Ivt"),gc=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"init",value:function(e){try{mc.debug("init(); begin."),function(){mc.debug("_initControllerWithCurrentTag(); begin.");var e=window.DACIVT||null;if(!e)return mc.debug("_initControllerWithCurrentTag(); placements is not exist."),!1;var t=null;return e.some(function(e){return!e.processed&&(t=e,!0)}),t?(t.processed=!0,bc(document.getElementById(t.id),t),mc.debug("_initControllerWithCurrentTag(); begin."),!0):(mc.warn("_initControllerWithCurrentTag(); targetPlacement is not exist."),!1)}()||function(e){mc.debug("_initControllerWithOldTag(); begin.");var t=document.currentScript;if(!t){var n=document.getElementsByTagName("script");t=n.item(n.length-1)}if(m.a.isNotExist(t))return mc.error("_initControllerWithOldTag(); script is not exist.");var r,i=t.previousElementSibling;if(m.a.isExist(e)&&(i=null===(r=i)||void 0===r?void 0:r.previousElementSibling),m.a.isNotExist(i))return mc.error("_initControllerWithOldTag(); target is not exist.");var o=m.a.exist(window.dacParams,i.dataset);o&&(o.urls||o.url||o.n)?(o.exec=o.exec||"false",m.a.toBool(o.exec)?mc.debug("_initControllerWithOldTag(); already done."):(o.exec="true",bc(i,o),mc.debug("_initControllerWithOldTag(); end."))):mc.error("_initControllerWithOldTag(); dataset is not exist.")}(e),mc.debug("init(); end.")}catch(e){mc.error("init(); failed. error = ".concat(e))}}}],null&&pc(t.prototype,null),n&&pc(t,n),e}();function bc(e,t){mc.debug("_initAdController(); begin.");var n={target:e,dataset:t};Fu.init(n),Fu.validate(n),Kl.init(),(new fc).setup(n),Kl.adAction.request(),mc.debug("_initAdController(); end.")}yc="dac-ivt-version_2.20190925.0",(vc="version")in(hc=gc)?Object.defineProperty(hc,vc,{value:yc,enumerable:!0,configurable:!0,writable:!0}):hc[vc]=yc,(window.DacIvtController=gc).init()}]);